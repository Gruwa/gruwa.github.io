{"version":3,"sources":["library/bxslider.js","library/imagesloaded.pkgd.js","library/isotope.pkgd.js","library/masonry.pkgd.js","library/template.js","routes/activityScript.js","routes/infoScript.js","routes/partnerHtml.js","routes/partnerScript.js"],"names":["$","defaults","mode","slideSelector","infiniteLoop","hideControlOnEnd","speed","easing","slideMargin","startSlide","randomStart","captions","ticker","tickerHover","adaptiveHeight","adaptiveHeightSpeed","video","useCSS","preloadImages","responsive","touchEnabled","swipeThreshold","oneToOneTouch","ariaLive","ariaHidden","keyboardEnabled","pager","pagerType","pagerShortSeparator","pagerSelector","controls","nextText","prevText","nextSelector","prevSelector","autoControls","startText","stopText","auto","pause","autoStart","autoDirection","stopAutoOnClick","autoHover","minSlides","maxSlides","moveSlides","onSliderLoad","onSlideBefore","onSlideNext","onSlidePrev","onSlideAfter","options","this","length","each","onSliderResize","slider","el","windowWidth","window","width","windowHeight","height","data","bxSlider","init","settings","extend","slideWidth","parseInt","children","Math","floor","random","active","index","carousel","minThreshold","maxThreshold","working","interval","div","document","createElement","props","i","undefined","style","cssPrefix","toLowerCase","animProp","attr","setup","preloadSelector","eq","wrap","wrapperClass","viewport","loader","prepend","css","usingCSS","position","parent","getViewportMaxWidth","float","listStyle","getSlideWidth","zIndex","slideZIndex","display","appendCaptions","last","getPagerQty","fitVids","maxWidth","appendControls","appendControlsAuto","appendPager","after","start","loadElements","selector","callback","find","one","count","total","complete","trigger","sliceAppend","slice","clone","addClass","slicePrepend","append","setSlidePosition","getViewportHeight","call","bind","resizeWindow","autoSlideForOnePage","initAuto","initTicker","updatePagerActive","updateDirectionControls","initTouch","getMoveBy","currentIndex","add","redrawSlider","get","parseFloat","keyPress","wrapWidth","newElWidth","shrinkItems","ceil","getNumberSlidesShowing","slidesShowing","childWidth","first","breakPoint","counter","pagerQty","lastChild","setPositionProperty","left","outerWidth","lastShowingIndex","top","value","type","duration","params","animateObj","propValue","e","target","is","unbind","resetValue","tickerLoop","animate","updateAfterSlideTransition","populatePager","linkContent","isFunction","pagerCustom","buildPager","pagerEl","pagerHtml","html","on","clickPagerBind","next","prev","clickNextBind","clickPrevBind","directionEl","stop","autoEl","clickStartBind","clickStopBind","autoControlsCombine","autoControlsSelector","updateAutoControls","title","stopAuto","preventDefault","hasClass","pagerLink","currentTarget","pagerIndex","goToSlide","slideIndex","len","removeClass","startAuto","oldIndex","state","hover","idx","ratio","property","newSpeed","totalDimens","startPosition","transform","split","outerHeight","abs","autoDelay","timeout","setTimeout","resumeSpeed","reset","animateProperty","autoPaused","isOnScreen","win","scrollTop","scrollLeft","bounds","bottom","right","tagName","exec","keyCode","touch","x","y","onTouchStart","originalPos","orig","originalEvent","touchPoints","changedTouches","pageX","pointerId","setPointerCapture","onTouchMove","onTouchEnd","onPointerCancel","offset","releasePointerCapture","xMovement","tagFilters","yMovement","RegExp","activeElementTag","pageY","result","change","preventDefaultSwipeX","preventDefaultSwipeY","end","distance","goToPrevSlide","goToNextSlide","initialized","windowHeightNew","windowWidthNew","numberOfSlidesShowing","startVisibleIndex","setSlideIndex","direction","requestEl","performTransition","filter","fadeOut","fadeIn","moveBy","applyAriaHiddenAttributes","preventControlUpdate","setInterval","clearInterval","getCurrentSlide","getCurrentSlideElement","getSlideElement","destroySlider","removeAttr","unwrap","remove","removeData","reloadSlider","global","factory","define","amd","module","_typeof","exports","EvEmitter","proto","prototype","eventName","listener","events","_events","listeners","indexOf","once","onceEvents","_onceEvents","off","emitEvent","args","onceListeners","isOnce","apply","imagesLoaded","a","Array","isArray","prop","b","ary","makeArray","obj","push","elements","onAlways","ImagesLoaded","elem","querySelectorAll","getImages","jqDeferred","Deferred","images","check","isComplete","img","addEventListener","url","element","Image","jQuery","console","Object","create","addElementImages","forEach","nodeType","childImgs","addElementBackgroundImages","elementNodeTypes","addImage","background","child","1","9","11","matches","getComputedStyle","reURL","backgroundImage","loadingImage","LoadingImage","progressedCount","Background","onProgress","image","message","progress","_this","hasAnyBroken","isLoaded","notify","jqMethod","proxyImage","src","getIsImageComplete","naturalWidth","method","confirm","handleEvent","event","unbindEvents","removeEventListener","onerror","instance","fn","promise","makeJQueryPlugin","require","jQueryBridget","namespace","PluginClass","$elems","returnValue","pluginMethodStr","methodName","logError","charAt","option","_init","updateJQuery","isPlainObject","opts","arraySlice","methodCall","arg0","arguments","plainCall","bridget","error","splice","getSize","getStyleSize","num","isNaN","measurements","noop","isBoxSizeOuter","size","innerWidth","innerHeight","measurementsLength","getStyle","isSetup","padding","borderWidth","boxSizing","body","getZeroSize","documentElement","appendChild","offsetWidth","measurement","querySelector","marginWidth","marginLeft","marginRight","styleWidth","isBorderBoxSizeOuter","offsetHeight","isBorderBox","styleHeight","paddingHeight","marginHeight","paddingTop","paddingBottom","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","paddingWidth","prefixes","prefix","matchesMethod","ElemProto","Element","matchesSelector","utils","fizzyUIUtils","modulo","elems","ffElems","getParent","parentNode","getQueryElement","childElems","debounceMethod","timeoutName","filterFindElements","threshold","HTMLElement","_class","htmlInit","WidgetClass","clearTimeout","dataAttr","jsDashElems","dataOptionsAttr","docReady","readyState","toDashed","str","replace","match","$1","$2","dashedNamespace","dataAttrElems","getAttribute","JSON","parse","className","docElemStyle","layout","Outlayer","Item","constructor","_transn","isEmptyObj","isOriginLeft","xValue","_create","transitionProperty","transition","transformProperty","transitionEndEvent","WebkitTransition","vendorProperties","transitionDuration","supportedProp","elemStyle","transitionDelay","ingProperties","clean","onEnd","xPadding","xProperty","getXValue","xResetProperty","yProperty","yResetProperty","isOriginTop","_getOption","getPosition","isHorizontal","percentPosition","_transitionTo","yValue","layoutSize","curY","compareX","compareY","setPosition","paddingLeft","paddingRight","didNotMove","isTransitioning","layoutPosition","transitionStyle","to","isCleaning","yPadding","goTo","getYValue","curX","onTransitionEnd","transX","_nonTransition","transY","getTranslate","_transition","h","moveTo","enableTransition","_removeStyles","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","from","transitionProps","disableTransition","staggerDelay","cleanStyle","removeTransitionStyles","-webkit-transform","delay","propertyName","transitionEndProperty","onRevealTransitionEnd","cleanTransitionStyle","getHideRevealTransitionEndProperty","stagger","optionStyle","removeElem","isHidden","removeChild","onHideTransitionEnd","hide","reveal","hiddenStyle","visibleStyle","styleProperty","opacity","GUID","instances","queryElement","destroy","$element","containerStyle","initLayout","originLeft","resizeContainer","canBindResize","id","outlayerGUID","_itemize","reloadItems","subclass","Parent","SubClass","getMilliseconds","time","unit","Isotope","items","originTop","resize","_filterFindItemElements","layoutInstant","oldOption","isInstant","layoutItems","compatOptions","_resetLayout","stamps","stamp","bindResize","itemElems","item","itemSelector","getItemElements","map","_manageStamps","_getItemLayoutPosition","_isLayoutInited","_getMeasurement","updateStagger","_getItemsForLayout","_postLayout","_layoutItems","_emitCompleteOnItems","queue","_setContainerMeasure","measure","_processLayoutQueue","isWidth","onComplete","doneCount","_positionItem","emitArgs","_getContainerSize","elemSize","max","unstamp","tick","concat","_manageStamp","$event","Event","_getBoundingRect","_boundingRect","ignore","getItem","isIgnored","boundingRect","thisRect","_find","isResizeBound","removeFrom","needsResizeLayout","getBoundingClientRect","_getElementOffset","previousItems","onresize","revealItemElements","addItems","appended","prepended","removeItems","unbindResize","getItems","hideItemElements","Layout","ms","s","mult","msUnits","sortData","sorters","facadeMethods","getColumnWidth","getSegmentSize","itemGUID","getRowHeight","updateSortData","outerSize","getSortData","segmentName","_sorters","key","sorter","_destroy","isotope","getFirstItemSize","modes","LayoutMode","Mode","filteredItems","Masonry","fitWidth","needsVerticalResizeLayout","measureColumns","cols","containerWidth","columnWidth","segment","excess","mathMethod","firstItemSize","isFitWidth","firstItem","colPosMethod","colPosition","setHeight","colGroup","minimumY","_getColGroupY","groupColYs","_getHorizontalColPosition","col","isOver","hasSize","firstX","lastX","stampSize","firstCol","lastCol","min","colYs","stampMaxY","horizontalColIndex","getContainerWidth","maxY","firstItemElem","gutter","_getContainerFitWidth","unusedCols","container","previousWidth","remainder","colSpan","horizontalOrder","setMax","_getTopColPosition","_getTopColGroup","keepModeMethods","groupCount","FitRows","itemWidth","Vertical","MasonryMode","String","trim","_getSorters","_initLayoutMode","name","arrange","_getIsInstant","_hideReveal","filtered","horizontalAlignment","_layout","needReveal","isLayoutInstant","_isInstant","arrangeParallelCallback","isHideComplete","isRevealComplete","_filter","hiddenMatched","isMatched","visibleUnmatched","needHide","getItemSorter","sortBys","sortAsc","itemA","itemB","sortBy","layoutMode","isJQueryFiltering","sortAscending","_updateItemsSortData","mungeSorter","initialOpts","attrMatch","getValue","getValueGetter","_bindArrangeComplete","_noTransition","_sort","val","isLayoutComplete","dispatchEvent","_getIsSameSortBy","test","_getFilterTest","_mode","_filterRevealAdded","query","filteredInsertItems","parser","sortDataParsers","_remove","shuffle","textContent","_parseInt","_x","toString","_parseFloat","_x2","sortHistory","itemSorter","sort","getFilteredItemElements","Error","insert","tmpl","Function","join","cache","getElementById","innerHTML","randWDclassic","n","abd","aL","ServerPhotoCallback","$data","$html","$dataTmpl","$SearchContent","bar","$grid","$value","ajax","dataType","q","image_type","per_page","category","min_width","submit","$templateScript","$ServerData","surname","photo","info","colorIcon","icon","$serverData","stringify","$content","$jsData"],"mappings":"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","file":"script.min.js","sourcesContent":["/**\r\n * bxSlider v4.2.12\r\n * Copyright 2013-2015 Steven Wanderski\r\n * Written while drinking Belgian ales and listening to jazz\r\n * Licensed under MIT (http://opensource.org/licenses/MIT)\r\n */\r\n\r\n;(function($) {\r\n\r\n  var defaults = {\r\n\r\n    // GENERAL\r\n    mode: 'horizontal',\r\n    slideSelector: '',\r\n    infiniteLoop: true,\r\n    hideControlOnEnd: false,\r\n    speed: 500,\r\n    easing: null,\r\n    slideMargin: 0,\r\n    startSlide: 0,\r\n    randomStart: false,\r\n    captions: false,\r\n    ticker: false,\r\n    tickerHover: false,\r\n    adaptiveHeight: false,\r\n    adaptiveHeightSpeed: 500,\r\n    video: false,\r\n    useCSS: true,\r\n    preloadImages: 'visible',\r\n    responsive: true,\r\n    slideZIndex: 50,\r\n    wrapperClass: 'bx-wrapper',\r\n\r\n    // TOUCH\r\n    touchEnabled: true,\r\n    swipeThreshold: 50,\r\n    oneToOneTouch: true,\r\n    preventDefaultSwipeX: true,\r\n    preventDefaultSwipeY: false,\r\n\r\n    // ACCESSIBILITY\r\n    ariaLive: true,\r\n    ariaHidden: true,\r\n\r\n    // KEYBOARD\r\n    keyboardEnabled: false,\r\n\r\n    // PAGER\r\n    pager: true,\r\n    pagerType: 'full',\r\n    pagerShortSeparator: ' / ',\r\n    pagerSelector: null,\r\n    buildPager: null,\r\n    pagerCustom: null,\r\n\r\n    // CONTROLS\r\n    controls: true,\r\n    nextText: 'Next',\r\n    prevText: 'Prev',\r\n    nextSelector: null,\r\n    prevSelector: null,\r\n    autoControls: false,\r\n    startText: 'Start',\r\n    stopText: 'Stop',\r\n    autoControlsCombine: false,\r\n    autoControlsSelector: null,\r\n\r\n    // AUTO\r\n    auto: false,\r\n    pause: 4000,\r\n    autoStart: true,\r\n    autoDirection: 'next',\r\n    stopAutoOnClick: false,\r\n    autoHover: false,\r\n    autoDelay: 0,\r\n    autoSlideForOnePage: false,\r\n\r\n    // CAROUSEL\r\n    minSlides: 1,\r\n    maxSlides: 1,\r\n    moveSlides: 0,\r\n    slideWidth: 0,\r\n    shrinkItems: false,\r\n\r\n    // CALLBACKS\r\n    onSliderLoad: function() { return true; },\r\n    onSlideBefore: function() { return true; },\r\n    onSlideAfter: function() { return true; },\r\n    onSlideNext: function() { return true; },\r\n    onSlidePrev: function() { return true; },\r\n    onSliderResize: function() { return true; }\r\n  };\r\n\r\n  $.fn.bxSlider = function(options) {\r\n\r\n    if (this.length === 0) {\r\n      return this;\r\n    }\r\n\r\n    // support multiple elements\r\n    if (this.length > 1) {\r\n      this.each(function() {\r\n        $(this).bxSlider(options);\r\n      });\r\n      return this;\r\n    }\r\n\r\n    // create a namespace to be used throughout the plugin\r\n    var slider = {},\r\n    // set a reference to our slider element\r\n    el = this,\r\n    // get the original window dimens (thanks a lot IE)\r\n    windowWidth = $(window).width(),\r\n    windowHeight = $(window).height();\r\n\r\n    // Return if slider is already initialized\r\n    if ($(el).data('bxSlider')) { return; }\r\n\r\n    /**\r\n     * ===================================================================================\r\n     * = PRIVATE FUNCTIONS\r\n     * ===================================================================================\r\n     */\r\n\r\n    /**\r\n     * Initializes namespace settings to be used throughout plugin\r\n     */\r\n    var init = function() {\r\n      // Return if slider is already initialized\r\n      if ($(el).data('bxSlider')) { return; }\r\n      // merge user-supplied options with the defaults\r\n      slider.settings = $.extend({}, defaults, options);\r\n      // parse slideWidth setting\r\n      slider.settings.slideWidth = parseInt(slider.settings.slideWidth);\r\n      // store the original children\r\n      slider.children = el.children(slider.settings.slideSelector);\r\n      // check if actual number of slides is less than minSlides / maxSlides\r\n      if (slider.children.length < slider.settings.minSlides) { slider.settings.minSlides = slider.children.length; }\r\n      if (slider.children.length < slider.settings.maxSlides) { slider.settings.maxSlides = slider.children.length; }\r\n      // if random start, set the startSlide setting to random number\r\n      if (slider.settings.randomStart) { slider.settings.startSlide = Math.floor(Math.random() * slider.children.length); }\r\n      // store active slide information\r\n      slider.active = { index: slider.settings.startSlide };\r\n      // store if the slider is in carousel mode (displaying / moving multiple slides)\r\n      slider.carousel = slider.settings.minSlides > 1 || slider.settings.maxSlides > 1 ? true : false;\r\n      // if carousel, force preloadImages = 'all'\r\n      if (slider.carousel) { slider.settings.preloadImages = 'all'; }\r\n      // calculate the min / max width thresholds based on min / max number of slides\r\n      // used to setup and update carousel slides dimensions\r\n      slider.minThreshold = (slider.settings.minSlides * slider.settings.slideWidth) + ((slider.settings.minSlides - 1) * slider.settings.slideMargin);\r\n      slider.maxThreshold = (slider.settings.maxSlides * slider.settings.slideWidth) + ((slider.settings.maxSlides - 1) * slider.settings.slideMargin);\r\n      // store the current state of the slider (if currently animating, working is true)\r\n      slider.working = false;\r\n      // initialize the controls object\r\n      slider.controls = {};\r\n      // initialize an auto interval\r\n      slider.interval = null;\r\n      // determine which property to use for transitions\r\n      slider.animProp = slider.settings.mode === 'vertical' ? 'top' : 'left';\r\n      // determine if hardware acceleration can be used\r\n      slider.usingCSS = slider.settings.useCSS && slider.settings.mode !== 'fade' && (function() {\r\n        // create our test div element\r\n        var div = document.createElement('div'),\r\n        // css transition properties\r\n        props = ['WebkitPerspective', 'MozPerspective', 'OPerspective', 'msPerspective'];\r\n        // test for each property\r\n        for (var i = 0; i < props.length; i++) {\r\n          if (div.style[props[i]] !== undefined) {\r\n            slider.cssPrefix = props[i].replace('Perspective', '').toLowerCase();\r\n            slider.animProp = '-' + slider.cssPrefix + '-transform';\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      }());\r\n      // if vertical mode always make maxSlides and minSlides equal\r\n      if (slider.settings.mode === 'vertical') { slider.settings.maxSlides = slider.settings.minSlides; }\r\n      // save original style data\r\n      el.data('origStyle', el.attr('style'));\r\n      el.children(slider.settings.slideSelector).each(function() {\r\n        $(this).data('origStyle', $(this).attr('style'));\r\n      });\r\n\r\n      // perform all DOM / CSS modifications\r\n      setup();\r\n    };\r\n\r\n    /**\r\n     * Performs all DOM and CSS modifications\r\n     */\r\n    var setup = function() {\r\n      var preloadSelector = slider.children.eq(slider.settings.startSlide); // set the default preload selector (visible)\r\n\r\n      // wrap el in a wrapper\r\n      el.wrap('<div class=\"' + slider.settings.wrapperClass + '\"><div class=\"bx-viewport\"></div></div>');\r\n      // store a namespace reference to .bx-viewport\r\n      slider.viewport = el.parent();\r\n\r\n      // add aria-live if the setting is enabled and ticker mode is disabled\r\n      if (slider.settings.ariaLive && !slider.settings.ticker) {\r\n        slider.viewport.attr('aria-live', 'polite');\r\n      }\r\n      // add a loading div to display while images are loading\r\n      slider.loader = $('<div class=\"bx-loading\" />');\r\n      slider.viewport.prepend(slider.loader);\r\n      // set el to a massive width, to hold any needed slides\r\n      // also strip any margin and padding from el\r\n      el.css({\r\n        width: slider.settings.mode === 'horizontal' ? (slider.children.length * 1000 + 215) + '%' : 'auto',\r\n        position: 'relative'\r\n      });\r\n      // if using CSS, add the easing property\r\n      if (slider.usingCSS && slider.settings.easing) {\r\n        el.css('-' + slider.cssPrefix + '-transition-timing-function', slider.settings.easing);\r\n      // if not using CSS and no easing value was supplied, use the default JS animation easing (swing)\r\n      } else if (!slider.settings.easing) {\r\n        slider.settings.easing = 'swing';\r\n      }\r\n      // make modifications to the viewport (.bx-viewport)\r\n      slider.viewport.css({\r\n        width: '100%',\r\n        overflow: 'hidden',\r\n        position: 'relative'\r\n      });\r\n      slider.viewport.parent().css({\r\n        maxWidth: getViewportMaxWidth()\r\n      });\r\n      // apply css to all slider children\r\n      slider.children.css({\r\n        float: slider.settings.mode === 'horizontal' ? 'left' : 'none',\r\n        listStyle: 'none',\r\n        position: 'relative'\r\n      });\r\n      // apply the calculated width after the float is applied to prevent scrollbar interference\r\n      slider.children.css('width', getSlideWidth());\r\n      // if slideMargin is supplied, add the css\r\n      if (slider.settings.mode === 'horizontal' && slider.settings.slideMargin > 0) { slider.children.css('marginRight', slider.settings.slideMargin); }\r\n      if (slider.settings.mode === 'vertical' && slider.settings.slideMargin > 0) { slider.children.css('marginBottom', slider.settings.slideMargin); }\r\n      // if \"fade\" mode, add positioning and z-index CSS\r\n      if (slider.settings.mode === 'fade') {\r\n        slider.children.css({\r\n          position: 'absolute',\r\n          zIndex: 0,\r\n          display: 'none'\r\n        });\r\n        // prepare the z-index on the showing element\r\n        slider.children.eq(slider.settings.startSlide).css({zIndex: slider.settings.slideZIndex, display: 'block'});\r\n      }\r\n      // create an element to contain all slider controls (pager, start / stop, etc)\r\n      slider.controls.el = $('<div class=\"bx-controls\" />');\r\n      // if captions are requested, add them\r\n      if (slider.settings.captions) { appendCaptions(); }\r\n      // check if startSlide is last slide\r\n      slider.active.last = slider.settings.startSlide === getPagerQty() - 1;\r\n      // if video is true, set up the fitVids plugin\r\n      if (slider.settings.video) { el.fitVids(); }\r\n      if (slider.settings.preloadImages === 'all' || slider.settings.ticker) { preloadSelector = slider.children; }\r\n      // only check for control addition if not in \"ticker\" mode\r\n      if (!slider.settings.ticker) {\r\n        // if controls are requested, add them\r\n        if (slider.settings.controls) { appendControls(); }\r\n        // if auto is true, and auto controls are requested, add them\r\n        if (slider.settings.auto && slider.settings.autoControls) { appendControlsAuto(); }\r\n        // if pager is requested, add it\r\n        if (slider.settings.pager) { appendPager(); }\r\n        // if any control option is requested, add the controls wrapper\r\n        if (slider.settings.controls || slider.settings.autoControls || slider.settings.pager) { slider.viewport.after(slider.controls.el); }\r\n      // if ticker mode, do not allow a pager\r\n      } else {\r\n        slider.settings.pager = false;\r\n      }\r\n      loadElements(preloadSelector, start);\r\n    };\r\n\r\n    var loadElements = function(selector, callback) {\r\n      var total = selector.find('img:not([src=\"\"]), iframe').length,\r\n      count = 0;\r\n      if (total === 0) {\r\n        callback();\r\n        return;\r\n      }\r\n      selector.find('img:not([src=\"\"]), iframe').each(function() {\r\n        $(this).one('load error', function() {\r\n          if (++count === total) { callback(); }\r\n        }).each(function() {\r\n          if (this.complete) { $(this).trigger('load'); }\r\n        });\r\n      });\r\n    };\r\n\r\n    /**\r\n     * Start the slider\r\n     */\r\n    var start = function() {\r\n      // if infinite loop, prepare additional slides\r\n      if (slider.settings.infiniteLoop && slider.settings.mode !== 'fade' && !slider.settings.ticker) {\r\n        var slice    = slider.settings.mode === 'vertical' ? slider.settings.minSlides : slider.settings.maxSlides,\r\n        sliceAppend  = slider.children.slice(0, slice).clone(true).addClass('bx-clone'),\r\n        slicePrepend = slider.children.slice(-slice).clone(true).addClass('bx-clone');\r\n        if (slider.settings.ariaHidden) {\r\n          sliceAppend.attr('aria-hidden', true);\r\n          slicePrepend.attr('aria-hidden', true);\r\n        }\r\n        el.append(sliceAppend).prepend(slicePrepend);\r\n      }\r\n      // remove the loading DOM element\r\n      slider.loader.remove();\r\n      // set the left / top position of \"el\"\r\n      setSlidePosition();\r\n      // if \"vertical\" mode, always use adaptiveHeight to prevent odd behavior\r\n      if (slider.settings.mode === 'vertical') { slider.settings.adaptiveHeight = true; }\r\n      // set the viewport height\r\n      slider.viewport.height(getViewportHeight());\r\n      // make sure everything is positioned just right (same as a window resize)\r\n      el.redrawSlider();\r\n      // onSliderLoad callback\r\n      slider.settings.onSliderLoad.call(el, slider.active.index);\r\n      // slider has been fully initialized\r\n      slider.initialized = true;\r\n      // bind the resize call to the window\r\n      if (slider.settings.responsive) { $(window).bind('resize', resizeWindow); }\r\n      // if auto is true and has more than 1 page, start the show\r\n      if (slider.settings.auto && slider.settings.autoStart && (getPagerQty() > 1 || slider.settings.autoSlideForOnePage)) { initAuto(); }\r\n      // if ticker is true, start the ticker\r\n      if (slider.settings.ticker) { initTicker(); }\r\n      // if pager is requested, make the appropriate pager link active\r\n      if (slider.settings.pager) { updatePagerActive(slider.settings.startSlide); }\r\n      // check for any updates to the controls (like hideControlOnEnd updates)\r\n      if (slider.settings.controls) { updateDirectionControls(); }\r\n      // if touchEnabled is true, setup the touch events\r\n      if (slider.settings.touchEnabled && !slider.settings.ticker) { initTouch(); }\r\n      // if keyboardEnabled is true, setup the keyboard events\r\n      if (slider.settings.keyboardEnabled && !slider.settings.ticker) {\r\n        $(document).keydown(keyPress);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Returns the calculated height of the viewport, used to determine either adaptiveHeight or the maxHeight value\r\n     */\r\n    var getViewportHeight = function() {\r\n      var height = 0;\r\n      // first determine which children (slides) should be used in our height calculation\r\n      var children = $();\r\n      // if mode is not \"vertical\" and adaptiveHeight is false, include all children\r\n      if (slider.settings.mode !== 'vertical' && !slider.settings.adaptiveHeight) {\r\n        children = slider.children;\r\n      } else {\r\n        // if not carousel, return the single active child\r\n        if (!slider.carousel) {\r\n          children = slider.children.eq(slider.active.index);\r\n        // if carousel, return a slice of children\r\n        } else {\r\n          // get the individual slide index\r\n          var currentIndex = slider.settings.moveSlides === 1 ? slider.active.index : slider.active.index * getMoveBy();\r\n          // add the current slide to the children\r\n          children = slider.children.eq(currentIndex);\r\n          // cycle through the remaining \"showing\" slides\r\n          for (i = 1; i <= slider.settings.maxSlides - 1; i++) {\r\n            // if looped back to the start\r\n            if (currentIndex + i >= slider.children.length) {\r\n              children = children.add(slider.children.eq(i - 1));\r\n            } else {\r\n              children = children.add(slider.children.eq(currentIndex + i));\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // if \"vertical\" mode, calculate the sum of the heights of the children\r\n      if (slider.settings.mode === 'vertical') {\r\n        children.each(function(index) {\r\n          height += $(this).outerHeight();\r\n        });\r\n        // add user-supplied margins\r\n        if (slider.settings.slideMargin > 0) {\r\n          height += slider.settings.slideMargin * (slider.settings.minSlides - 1);\r\n        }\r\n      // if not \"vertical\" mode, calculate the max height of the children\r\n      } else {\r\n        height = Math.max.apply(Math, children.map(function() {\r\n          return $(this).outerHeight(false);\r\n        }).get());\r\n      }\r\n\r\n      if (slider.viewport.css('box-sizing') === 'border-box') {\r\n        height += parseFloat(slider.viewport.css('padding-top')) + parseFloat(slider.viewport.css('padding-bottom')) +\r\n              parseFloat(slider.viewport.css('border-top-width')) + parseFloat(slider.viewport.css('border-bottom-width'));\r\n      } else if (slider.viewport.css('box-sizing') === 'padding-box') {\r\n        height += parseFloat(slider.viewport.css('padding-top')) + parseFloat(slider.viewport.css('padding-bottom'));\r\n      }\r\n\r\n      return height;\r\n    };\r\n\r\n    /**\r\n     * Returns the calculated width to be used for the outer wrapper / viewport\r\n     */\r\n    var getViewportMaxWidth = function() {\r\n      var width = '100%';\r\n      if (slider.settings.slideWidth > 0) {\r\n        if (slider.settings.mode === 'horizontal') {\r\n          width = (slider.settings.maxSlides * slider.settings.slideWidth) + ((slider.settings.maxSlides - 1) * slider.settings.slideMargin);\r\n        } else {\r\n          width = slider.settings.slideWidth;\r\n        }\r\n      }\r\n      return width;\r\n    };\r\n\r\n    /**\r\n     * Returns the calculated width to be applied to each slide\r\n     */\r\n    var getSlideWidth = function() {\r\n      var newElWidth = slider.settings.slideWidth, // start with any user-supplied slide width\r\n      wrapWidth      = slider.viewport.width();    // get the current viewport width\r\n      // if slide width was not supplied, or is larger than the viewport use the viewport width\r\n      if (slider.settings.slideWidth === 0 ||\r\n        (slider.settings.slideWidth > wrapWidth && !slider.carousel) ||\r\n        slider.settings.mode === 'vertical') {\r\n        newElWidth = wrapWidth;\r\n      // if carousel, use the thresholds to determine the width\r\n      } else if (slider.settings.maxSlides > 1 && slider.settings.mode === 'horizontal') {\r\n        if (wrapWidth > slider.maxThreshold) {\r\n          return newElWidth;\r\n        } else if (wrapWidth < slider.minThreshold) {\r\n          newElWidth = (wrapWidth - (slider.settings.slideMargin * (slider.settings.minSlides - 1))) / slider.settings.minSlides;\r\n        } else if (slider.settings.shrinkItems) {\r\n          newElWidth = Math.floor((wrapWidth + slider.settings.slideMargin) / (Math.ceil((wrapWidth + slider.settings.slideMargin) / (newElWidth + slider.settings.slideMargin))) - slider.settings.slideMargin);\r\n        }\r\n      }\r\n      return newElWidth;\r\n    };\r\n\r\n    /**\r\n     * Returns the number of slides currently visible in the viewport (includes partially visible slides)\r\n     */\r\n    var getNumberSlidesShowing = function() {\r\n      var slidesShowing = 1,\r\n      childWidth = null;\r\n      if (slider.settings.mode === 'horizontal' && slider.settings.slideWidth > 0) {\r\n        // if viewport is smaller than minThreshold, return minSlides\r\n        if (slider.viewport.width() < slider.minThreshold) {\r\n          slidesShowing = slider.settings.minSlides;\r\n        // if viewport is larger than maxThreshold, return maxSlides\r\n        } else if (slider.viewport.width() > slider.maxThreshold) {\r\n          slidesShowing = slider.settings.maxSlides;\r\n        // if viewport is between min / max thresholds, divide viewport width by first child width\r\n        } else {\r\n          childWidth = slider.children.first().width() + slider.settings.slideMargin;\r\n          slidesShowing = Math.floor((slider.viewport.width() +\r\n            slider.settings.slideMargin) / childWidth);\r\n        }\r\n      // if \"vertical\" mode, slides showing will always be minSlides\r\n      } else if (slider.settings.mode === 'vertical') {\r\n        slidesShowing = slider.settings.minSlides;\r\n      }\r\n      return slidesShowing;\r\n    };\r\n\r\n    /**\r\n     * Returns the number of pages (one full viewport of slides is one \"page\")\r\n     */\r\n    var getPagerQty = function() {\r\n      var pagerQty = 0,\r\n      breakPoint = 0,\r\n      counter = 0;\r\n      // if moveSlides is specified by the user\r\n      if (slider.settings.moveSlides > 0) {\r\n        if (slider.settings.infiniteLoop) {\r\n          pagerQty = Math.ceil(slider.children.length / getMoveBy());\r\n        } else {\r\n          // when breakpoint goes above children length, counter is the number of pages\r\n          while (breakPoint < slider.children.length) {\r\n            ++pagerQty;\r\n            breakPoint = counter + getNumberSlidesShowing();\r\n            counter += slider.settings.moveSlides <= getNumberSlidesShowing() ? slider.settings.moveSlides : getNumberSlidesShowing();\r\n          }\r\n        }\r\n      // if moveSlides is 0 (auto) divide children length by sides showing, then round up\r\n      } else {\r\n        pagerQty = Math.ceil(slider.children.length / getNumberSlidesShowing());\r\n      }\r\n      return pagerQty;\r\n    };\r\n\r\n    /**\r\n     * Returns the number of individual slides by which to shift the slider\r\n     */\r\n    var getMoveBy = function() {\r\n      // if moveSlides was set by the user and moveSlides is less than number of slides showing\r\n      if (slider.settings.moveSlides > 0 && slider.settings.moveSlides <= getNumberSlidesShowing()) {\r\n        return slider.settings.moveSlides;\r\n      }\r\n      // if moveSlides is 0 (auto)\r\n      return getNumberSlidesShowing();\r\n    };\r\n\r\n    /**\r\n     * Sets the slider's (el) left or top position\r\n     */\r\n    var setSlidePosition = function() {\r\n      var position, lastChild, lastShowingIndex;\r\n      // if last slide, not infinite loop, and number of children is larger than specified maxSlides\r\n      if (slider.children.length > slider.settings.maxSlides && slider.active.last && !slider.settings.infiniteLoop) {\r\n        if (slider.settings.mode === 'horizontal') {\r\n          // get the last child's position\r\n          lastChild = slider.children.last();\r\n          position = lastChild.position();\r\n          // set the left position\r\n          setPositionProperty(-(position.left - (slider.viewport.width() - lastChild.outerWidth())), 'reset', 0);\r\n        } else if (slider.settings.mode === 'vertical') {\r\n          // get the last showing index's position\r\n          lastShowingIndex = slider.children.length - slider.settings.minSlides;\r\n          position = slider.children.eq(lastShowingIndex).position();\r\n          // set the top position\r\n          setPositionProperty(-position.top, 'reset', 0);\r\n        }\r\n      // if not last slide\r\n      } else {\r\n        // get the position of the first showing slide\r\n        position = slider.children.eq(slider.active.index * getMoveBy()).position();\r\n        // check for last slide\r\n        if (slider.active.index === getPagerQty() - 1) { slider.active.last = true; }\r\n        // set the respective position\r\n        if (position !== undefined) {\r\n          if (slider.settings.mode === 'horizontal') { setPositionProperty(-position.left, 'reset', 0); }\r\n          else if (slider.settings.mode === 'vertical') { setPositionProperty(-position.top, 'reset', 0); }\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Sets the el's animating property position (which in turn will sometimes animate el).\r\n     * If using CSS, sets the transform property. If not using CSS, sets the top / left property.\r\n     *\r\n     * @param value (int)\r\n     *  - the animating property's value\r\n     *\r\n     * @param type (string) 'slide', 'reset', 'ticker'\r\n     *  - the type of instance for which the function is being\r\n     *\r\n     * @param duration (int)\r\n     *  - the amount of time (in ms) the transition should occupy\r\n     *\r\n     * @param params (array) optional\r\n     *  - an optional parameter containing any variables that need to be passed in\r\n     */\r\n    var setPositionProperty = function(value, type, duration, params) {\r\n      var animateObj, propValue;\r\n      // use CSS transform\r\n      if (slider.usingCSS) {\r\n        // determine the translate3d value\r\n        propValue = slider.settings.mode === 'vertical' ? 'translate3d(0, ' + value + 'px, 0)' : 'translate3d(' + value + 'px, 0, 0)';\r\n        // add the CSS transition-duration\r\n        el.css('-' + slider.cssPrefix + '-transition-duration', duration / 1000 + 's');\r\n        if (type === 'slide') {\r\n          // set the property value\r\n          el.css(slider.animProp, propValue);\r\n          if (duration !== 0) {\r\n            // bind a callback method - executes when CSS transition completes\r\n            el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function(e) {\r\n              //make sure it's the correct one\r\n              if (!$(e.target).is(el)) { return; }\r\n              // unbind the callback\r\n              el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');\r\n              updateAfterSlideTransition();\r\n            });\r\n          } else { //duration = 0\r\n            updateAfterSlideTransition();\r\n          }\r\n        } else if (type === 'reset') {\r\n          el.css(slider.animProp, propValue);\r\n        } else if (type === 'ticker') {\r\n          // make the transition use 'linear'\r\n          el.css('-' + slider.cssPrefix + '-transition-timing-function', 'linear');\r\n          el.css(slider.animProp, propValue);\r\n          if (duration !== 0) {\r\n            el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function(e) {\r\n              //make sure it's the correct one\r\n              if (!$(e.target).is(el)) { return; }\r\n              // unbind the callback\r\n              el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');\r\n              // reset the position\r\n              setPositionProperty(params.resetValue, 'reset', 0);\r\n              // start the loop again\r\n              tickerLoop();\r\n            });\r\n          } else { //duration = 0\r\n            setPositionProperty(params.resetValue, 'reset', 0);\r\n            tickerLoop();\r\n          }\r\n        }\r\n      // use JS animate\r\n      } else {\r\n        animateObj = {};\r\n        animateObj[slider.animProp] = value;\r\n        if (type === 'slide') {\r\n          el.animate(animateObj, duration, slider.settings.easing, function() {\r\n            updateAfterSlideTransition();\r\n          });\r\n        } else if (type === 'reset') {\r\n          el.css(slider.animProp, value);\r\n        } else if (type === 'ticker') {\r\n          el.animate(animateObj, duration, 'linear', function() {\r\n            setPositionProperty(params.resetValue, 'reset', 0);\r\n            // run the recursive loop after animation\r\n            tickerLoop();\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Populates the pager with proper amount of pages\r\n     */\r\n    var populatePager = function() {\r\n      var pagerHtml = '',\r\n      linkContent = '',\r\n      pagerQty = getPagerQty();\r\n      // loop through each pager item\r\n      for (var i = 0; i < pagerQty; i++) {\r\n        linkContent = '';\r\n        // if a buildPager function is supplied, use it to get pager link value, else use index + 1\r\n        if (slider.settings.buildPager && $.isFunction(slider.settings.buildPager) || slider.settings.pagerCustom) {\r\n          linkContent = slider.settings.buildPager(i);\r\n          slider.pagerEl.addClass('bx-custom-pager');\r\n        } else {\r\n          linkContent = i + 1;\r\n          slider.pagerEl.addClass('bx-default-pager');\r\n        }\r\n        // var linkContent = slider.settings.buildPager && $.isFunction(slider.settings.buildPager) ? slider.settings.buildPager(i) : i + 1;\r\n        // add the markup to the string\r\n        pagerHtml += '<div class=\"bx-pager-item\"><a href=\"\" data-slide-index=\"' + i + '\" class=\"bx-pager-link\">' + linkContent + '</a></div>';\r\n      }\r\n      // populate the pager element with pager links\r\n      slider.pagerEl.html(pagerHtml);\r\n    };\r\n\r\n    /**\r\n     * Appends the pager to the controls element\r\n     */\r\n    var appendPager = function() {\r\n      if (!slider.settings.pagerCustom) {\r\n        // create the pager DOM element\r\n        slider.pagerEl = $('<div class=\"bx-pager\" />');\r\n        // if a pager selector was supplied, populate it with the pager\r\n        if (slider.settings.pagerSelector) {\r\n          $(slider.settings.pagerSelector).html(slider.pagerEl);\r\n        // if no pager selector was supplied, add it after the wrapper\r\n        } else {\r\n          slider.controls.el.addClass('bx-has-pager').append(slider.pagerEl);\r\n        }\r\n        // populate the pager\r\n        populatePager();\r\n      } else {\r\n        slider.pagerEl = $(slider.settings.pagerCustom);\r\n      }\r\n      // assign the pager click binding\r\n      slider.pagerEl.on('click touchend', 'a', clickPagerBind);\r\n    };\r\n\r\n    /**\r\n     * Appends prev / next controls to the controls element\r\n     */\r\n    var appendControls = function() {\r\n      slider.controls.next = $('<a class=\"bx-next\" href=\"\">' + slider.settings.nextText + '</a>');\r\n      slider.controls.prev = $('<a class=\"bx-prev\" href=\"\">' + slider.settings.prevText + '</a>');\r\n      // bind click actions to the controls\r\n      slider.controls.next.bind('click touchend', clickNextBind);\r\n      slider.controls.prev.bind('click touchend', clickPrevBind);\r\n      // if nextSelector was supplied, populate it\r\n      if (slider.settings.nextSelector) {\r\n        $(slider.settings.nextSelector).append(slider.controls.next);\r\n      }\r\n      // if prevSelector was supplied, populate it\r\n      if (slider.settings.prevSelector) {\r\n        $(slider.settings.prevSelector).append(slider.controls.prev);\r\n      }\r\n      // if no custom selectors were supplied\r\n      if (!slider.settings.nextSelector && !slider.settings.prevSelector) {\r\n        // add the controls to the DOM\r\n        slider.controls.directionEl = $('<div class=\"bx-controls-direction\" />');\r\n        // add the control elements to the directionEl\r\n        slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next);\r\n        // slider.viewport.append(slider.controls.directionEl);\r\n        slider.controls.el.addClass('bx-has-controls-direction').append(slider.controls.directionEl);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Appends start / stop auto controls to the controls element\r\n     */\r\n    var appendControlsAuto = function() {\r\n      slider.controls.start = $('<div class=\"bx-controls-auto-item\"><a class=\"bx-start\" href=\"\">' + slider.settings.startText + '</a></div>');\r\n      slider.controls.stop = $('<div class=\"bx-controls-auto-item\"><a class=\"bx-stop\" href=\"\">' + slider.settings.stopText + '</a></div>');\r\n      // add the controls to the DOM\r\n      slider.controls.autoEl = $('<div class=\"bx-controls-auto\" />');\r\n      // bind click actions to the controls\r\n      slider.controls.autoEl.on('click', '.bx-start', clickStartBind);\r\n      slider.controls.autoEl.on('click', '.bx-stop', clickStopBind);\r\n      // if autoControlsCombine, insert only the \"start\" control\r\n      if (slider.settings.autoControlsCombine) {\r\n        slider.controls.autoEl.append(slider.controls.start);\r\n      // if autoControlsCombine is false, insert both controls\r\n      } else {\r\n        slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop);\r\n      }\r\n      // if auto controls selector was supplied, populate it with the controls\r\n      if (slider.settings.autoControlsSelector) {\r\n        $(slider.settings.autoControlsSelector).html(slider.controls.autoEl);\r\n      // if auto controls selector was not supplied, add it after the wrapper\r\n      } else {\r\n        slider.controls.el.addClass('bx-has-controls-auto').append(slider.controls.autoEl);\r\n      }\r\n      // update the auto controls\r\n      updateAutoControls(slider.settings.autoStart ? 'stop' : 'start');\r\n    };\r\n\r\n    /**\r\n     * Appends image captions to the DOM\r\n     */\r\n    var appendCaptions = function() {\r\n      // cycle through each child\r\n      slider.children.each(function(index) {\r\n        // get the image title attribute\r\n        var title = $(this).find('img:first').attr('title');\r\n        // append the caption\r\n        if (title !== undefined && ('' + title).length) {\r\n          $(this).append('<div class=\"bx-caption\"><span>' + title + '</span></div>');\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * Click next binding\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var clickNextBind = function(e) {\r\n      e.preventDefault();\r\n      if (slider.controls.el.hasClass('disabled')) { return; }\r\n      // if auto show is running, stop it\r\n      if (slider.settings.auto && slider.settings.stopAutoOnClick) { el.stopAuto(); }\r\n      el.goToNextSlide();\r\n    };\r\n\r\n    /**\r\n     * Click prev binding\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var clickPrevBind = function(e) {\r\n      e.preventDefault();\r\n      if (slider.controls.el.hasClass('disabled')) { return; }\r\n      // if auto show is running, stop it\r\n      if (slider.settings.auto && slider.settings.stopAutoOnClick) { el.stopAuto(); }\r\n      el.goToPrevSlide();\r\n    };\r\n\r\n    /**\r\n     * Click start binding\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var clickStartBind = function(e) {\r\n      el.startAuto();\r\n      e.preventDefault();\r\n    };\r\n\r\n    /**\r\n     * Click stop binding\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var clickStopBind = function(e) {\r\n      el.stopAuto();\r\n      e.preventDefault();\r\n    };\r\n\r\n    /**\r\n     * Click pager binding\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var clickPagerBind = function(e) {\r\n      var pagerLink, pagerIndex;\r\n      e.preventDefault();\r\n      if (slider.controls.el.hasClass('disabled')) {\r\n        return;\r\n      }\r\n      // if auto show is running, stop it\r\n      if (slider.settings.auto  && slider.settings.stopAutoOnClick) { el.stopAuto(); }\r\n      pagerLink = $(e.currentTarget);\r\n      if (pagerLink.attr('data-slide-index') !== undefined) {\r\n        pagerIndex = parseInt(pagerLink.attr('data-slide-index'));\r\n        // if clicked pager link is not active, continue with the goToSlide call\r\n        if (pagerIndex !== slider.active.index) { el.goToSlide(pagerIndex); }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Updates the pager links with an active class\r\n     *\r\n     * @param slideIndex (int)\r\n     *  - index of slide to make active\r\n     */\r\n    var updatePagerActive = function(slideIndex) {\r\n      // if \"short\" pager type\r\n      var len = slider.children.length; // nb of children\r\n      if (slider.settings.pagerType === 'short') {\r\n        if (slider.settings.maxSlides > 1) {\r\n          len = Math.ceil(slider.children.length / slider.settings.maxSlides);\r\n        }\r\n        slider.pagerEl.html((slideIndex + 1) + slider.settings.pagerShortSeparator + len);\r\n        return;\r\n      }\r\n      // remove all pager active classes\r\n      slider.pagerEl.find('a').removeClass('active');\r\n      // apply the active class for all pagers\r\n      slider.pagerEl.each(function(i, el) { $(el).find('a').eq(slideIndex).addClass('active'); });\r\n    };\r\n\r\n    /**\r\n     * Performs needed actions after a slide transition\r\n     */\r\n    var updateAfterSlideTransition = function() {\r\n      // if infinite loop is true\r\n      if (slider.settings.infiniteLoop) {\r\n        var position = '';\r\n        // first slide\r\n        if (slider.active.index === 0) {\r\n          // set the new position\r\n          position = slider.children.eq(0).position();\r\n        // carousel, last slide\r\n        } else if (slider.active.index === getPagerQty() - 1 && slider.carousel) {\r\n          position = slider.children.eq((getPagerQty() - 1) * getMoveBy()).position();\r\n        // last slide\r\n        } else if (slider.active.index === slider.children.length - 1) {\r\n          position = slider.children.eq(slider.children.length - 1).position();\r\n        }\r\n        if (position) {\r\n          if (slider.settings.mode === 'horizontal') { setPositionProperty(-position.left, 'reset', 0); }\r\n          else if (slider.settings.mode === 'vertical') { setPositionProperty(-position.top, 'reset', 0); }\r\n        }\r\n      }\r\n      // declare that the transition is complete\r\n      slider.working = false;\r\n      // onSlideAfter callback\r\n      slider.settings.onSlideAfter.call(el, slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);\r\n    };\r\n\r\n    /**\r\n     * Updates the auto controls state (either active, or combined switch)\r\n     *\r\n     * @param state (string) \"start\", \"stop\"\r\n     *  - the new state of the auto show\r\n     */\r\n    var updateAutoControls = function(state) {\r\n      // if autoControlsCombine is true, replace the current control with the new state\r\n      if (slider.settings.autoControlsCombine) {\r\n        slider.controls.autoEl.html(slider.controls[state]);\r\n      // if autoControlsCombine is false, apply the \"active\" class to the appropriate control\r\n      } else {\r\n        slider.controls.autoEl.find('a').removeClass('active');\r\n        slider.controls.autoEl.find('a:not(.bx-' + state + ')').addClass('active');\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Updates the direction controls (checks if either should be hidden)\r\n     */\r\n    var updateDirectionControls = function() {\r\n      if (getPagerQty() === 1) {\r\n        slider.controls.prev.addClass('disabled');\r\n        slider.controls.next.addClass('disabled');\r\n      } else if (!slider.settings.infiniteLoop && slider.settings.hideControlOnEnd) {\r\n        // if first slide\r\n        if (slider.active.index === 0) {\r\n          slider.controls.prev.addClass('disabled');\r\n          slider.controls.next.removeClass('disabled');\r\n        // if last slide\r\n        } else if (slider.active.index === getPagerQty() - 1) {\r\n          slider.controls.next.addClass('disabled');\r\n          slider.controls.prev.removeClass('disabled');\r\n        // if any slide in the middle\r\n        } else {\r\n          slider.controls.prev.removeClass('disabled');\r\n          slider.controls.next.removeClass('disabled');\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Initializes the auto process\r\n     */\r\n    var initAuto = function() {\r\n      // if autoDelay was supplied, launch the auto show using a setTimeout() call\r\n      if (slider.settings.autoDelay > 0) {\r\n        var timeout = setTimeout(el.startAuto, slider.settings.autoDelay);\r\n      // if autoDelay was not supplied, start the auto show normally\r\n      } else {\r\n        el.startAuto();\r\n\r\n        //add focus and blur events to ensure its running if timeout gets paused\r\n        $(window).focus(function() {\r\n          el.startAuto();\r\n        }).blur(function() {\r\n          el.stopAuto();\r\n        });\r\n      }\r\n      // if autoHover is requested\r\n      if (slider.settings.autoHover) {\r\n        // on el hover\r\n        el.hover(function() {\r\n          // if the auto show is currently playing (has an active interval)\r\n          if (slider.interval) {\r\n            // stop the auto show and pass true argument which will prevent control update\r\n            el.stopAuto(true);\r\n            // create a new autoPaused value which will be used by the relative \"mouseout\" event\r\n            slider.autoPaused = true;\r\n          }\r\n        }, function() {\r\n          // if the autoPaused value was created be the prior \"mouseover\" event\r\n          if (slider.autoPaused) {\r\n            // start the auto show and pass true argument which will prevent control update\r\n            el.startAuto(true);\r\n            // reset the autoPaused value\r\n            slider.autoPaused = null;\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Initializes the ticker process\r\n     */\r\n    var initTicker = function() {\r\n      var startPosition = 0,\r\n      position, transform, value, idx, ratio, property, newSpeed, totalDimens;\r\n      // if autoDirection is \"next\", append a clone of the entire slider\r\n      if (slider.settings.autoDirection === 'next') {\r\n        el.append(slider.children.clone().addClass('bx-clone'));\r\n      // if autoDirection is \"prev\", prepend a clone of the entire slider, and set the left position\r\n      } else {\r\n        el.prepend(slider.children.clone().addClass('bx-clone'));\r\n        position = slider.children.first().position();\r\n        startPosition = slider.settings.mode === 'horizontal' ? -position.left : -position.top;\r\n      }\r\n      setPositionProperty(startPosition, 'reset', 0);\r\n      // do not allow controls in ticker mode\r\n      slider.settings.pager = false;\r\n      slider.settings.controls = false;\r\n      slider.settings.autoControls = false;\r\n      // if autoHover is requested\r\n      if (slider.settings.tickerHover) {\r\n        if (slider.usingCSS) {\r\n          idx = slider.settings.mode === 'horizontal' ? 4 : 5;\r\n          slider.viewport.hover(function() {\r\n            transform = el.css('-' + slider.cssPrefix + '-transform');\r\n            value = parseFloat(transform.split(',')[idx]);\r\n            setPositionProperty(value, 'reset', 0);\r\n          }, function() {\r\n            totalDimens = 0;\r\n            slider.children.each(function(index) {\r\n              totalDimens += slider.settings.mode === 'horizontal' ? $(this).outerWidth(true) : $(this).outerHeight(true);\r\n            });\r\n            // calculate the speed ratio (used to determine the new speed to finish the paused animation)\r\n            ratio = slider.settings.speed / totalDimens;\r\n            // determine which property to use\r\n            property = slider.settings.mode === 'horizontal' ? 'left' : 'top';\r\n            // calculate the new speed\r\n            newSpeed = ratio * (totalDimens - (Math.abs(parseInt(value))));\r\n            tickerLoop(newSpeed);\r\n          });\r\n        } else {\r\n          // on el hover\r\n          slider.viewport.hover(function() {\r\n            el.stop();\r\n          }, function() {\r\n            // calculate the total width of children (used to calculate the speed ratio)\r\n            totalDimens = 0;\r\n            slider.children.each(function(index) {\r\n              totalDimens += slider.settings.mode === 'horizontal' ? $(this).outerWidth(true) : $(this).outerHeight(true);\r\n            });\r\n            // calculate the speed ratio (used to determine the new speed to finish the paused animation)\r\n            ratio = slider.settings.speed / totalDimens;\r\n            // determine which property to use\r\n            property = slider.settings.mode === 'horizontal' ? 'left' : 'top';\r\n            // calculate the new speed\r\n            newSpeed = ratio * (totalDimens - (Math.abs(parseInt(el.css(property)))));\r\n            tickerLoop(newSpeed);\r\n          });\r\n        }\r\n      }\r\n      // start the ticker loop\r\n      tickerLoop();\r\n    };\r\n\r\n    /**\r\n     * Runs a continuous loop, news ticker-style\r\n     */\r\n    var tickerLoop = function(resumeSpeed) {\r\n      var speed = resumeSpeed ? resumeSpeed : slider.settings.speed,\r\n      position = {left: 0, top: 0},\r\n      reset = {left: 0, top: 0},\r\n      animateProperty, resetValue, params;\r\n\r\n      // if \"next\" animate left position to last child, then reset left to 0\r\n      if (slider.settings.autoDirection === 'next') {\r\n        position = el.find('.bx-clone').first().position();\r\n      // if \"prev\" animate left position to 0, then reset left to first non-clone child\r\n      } else {\r\n        reset = slider.children.first().position();\r\n      }\r\n      animateProperty = slider.settings.mode === 'horizontal' ? -position.left : -position.top;\r\n      resetValue = slider.settings.mode === 'horizontal' ? -reset.left : -reset.top;\r\n      params = {resetValue: resetValue};\r\n      setPositionProperty(animateProperty, 'ticker', speed, params);\r\n    };\r\n\r\n    /**\r\n     * Check if el is on screen\r\n     */\r\n    var isOnScreen = function(el) {\r\n      var win = $(window),\r\n      viewport = {\r\n        top: win.scrollTop(),\r\n        left: win.scrollLeft()\r\n      },\r\n      bounds = el.offset();\r\n\r\n      viewport.right = viewport.left + win.width();\r\n      viewport.bottom = viewport.top + win.height();\r\n      bounds.right = bounds.left + el.outerWidth();\r\n      bounds.bottom = bounds.top + el.outerHeight();\r\n\r\n      return (!(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom));\r\n    };\r\n\r\n    /**\r\n     * Initializes keyboard events\r\n     */\r\n    var keyPress = function(e) {\r\n      var activeElementTag = document.activeElement.tagName.toLowerCase(),\r\n      tagFilters = 'input|textarea',\r\n      p = new RegExp(activeElementTag,['i']),\r\n      result = p.exec(tagFilters);\r\n\r\n      if (result == null && isOnScreen(el)) {\r\n        if (e.keyCode === 39) {\r\n          clickNextBind(e);\r\n          return false;\r\n        } else if (e.keyCode === 37) {\r\n          clickPrevBind(e);\r\n          return false;\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Initializes touch events\r\n     */\r\n    var initTouch = function() {\r\n      // initialize object to contain all touch values\r\n      slider.touch = {\r\n        start: {x: 0, y: 0},\r\n        end: {x: 0, y: 0}\r\n      };\r\n      slider.viewport.bind('touchstart MSPointerDown pointerdown', onTouchStart);\r\n\r\n      //for browsers that have implemented pointer events and fire a click after\r\n      //every pointerup regardless of whether pointerup is on same screen location as pointerdown or not\r\n      slider.viewport.on('click', '.bxslider a', function(e) {\r\n        if (slider.viewport.hasClass('click-disabled')) {\r\n          e.preventDefault();\r\n          slider.viewport.removeClass('click-disabled');\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * Event handler for \"touchstart\"\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var onTouchStart = function(e) {\r\n      //disable slider controls while user is interacting with slides to avoid slider freeze that happens on touch devices when a slide swipe happens immediately after interacting with slider controls\r\n      slider.controls.el.addClass('disabled');\r\n\r\n      if (slider.working) {\r\n        e.preventDefault();\r\n        slider.controls.el.removeClass('disabled');\r\n      } else {\r\n        // record the original position when touch starts\r\n        slider.touch.originalPos = el.position();\r\n        var orig = e.originalEvent,\r\n        touchPoints = (typeof orig.changedTouches !== 'undefined') ? orig.changedTouches : [orig];\r\n        // record the starting touch x, y coordinates\r\n        slider.touch.start.x = touchPoints[0].pageX;\r\n        slider.touch.start.y = touchPoints[0].pageY;\r\n\r\n        if (slider.viewport.get(0).setPointerCapture) {\r\n          slider.pointerId = orig.pointerId;\r\n          slider.viewport.get(0).setPointerCapture(slider.pointerId);\r\n        }\r\n        // bind a \"touchmove\" event to the viewport\r\n        slider.viewport.bind('touchmove MSPointerMove pointermove', onTouchMove);\r\n        // bind a \"touchend\" event to the viewport\r\n        slider.viewport.bind('touchend MSPointerUp pointerup', onTouchEnd);\r\n        slider.viewport.bind('MSPointerCancel pointercancel', onPointerCancel);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Cancel Pointer for Windows Phone\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var onPointerCancel = function(e) {\r\n      /* onPointerCancel handler is needed to deal with situations when a touchend\r\n      doesn't fire after a touchstart (this happens on windows phones only) */\r\n      setPositionProperty(slider.touch.originalPos.left, 'reset', 0);\r\n\r\n      //remove handlers\r\n      slider.controls.el.removeClass('disabled');\r\n      slider.viewport.unbind('MSPointerCancel pointercancel', onPointerCancel);\r\n      slider.viewport.unbind('touchmove MSPointerMove pointermove', onTouchMove);\r\n      slider.viewport.unbind('touchend MSPointerUp pointerup', onTouchEnd);\r\n      if (slider.viewport.get(0).releasePointerCapture) {\r\n        slider.viewport.get(0).releasePointerCapture(slider.pointerId);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Event handler for \"touchmove\"\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var onTouchMove = function(e) {\r\n      var orig = e.originalEvent,\r\n      touchPoints = (typeof orig.changedTouches !== 'undefined') ? orig.changedTouches : [orig],\r\n      // if scrolling on y axis, do not prevent default\r\n      xMovement = Math.abs(touchPoints[0].pageX - slider.touch.start.x),\r\n      yMovement = Math.abs(touchPoints[0].pageY - slider.touch.start.y),\r\n      value = 0,\r\n      change = 0;\r\n\r\n      // x axis swipe\r\n      if ((xMovement * 3) > yMovement && slider.settings.preventDefaultSwipeX) {\r\n        e.preventDefault();\r\n      // y axis swipe\r\n      } else if ((yMovement * 3) > xMovement && slider.settings.preventDefaultSwipeY) {\r\n        e.preventDefault();\r\n      }\r\n      if (slider.settings.mode !== 'fade' && slider.settings.oneToOneTouch) {\r\n        // if horizontal, drag along x axis\r\n        if (slider.settings.mode === 'horizontal') {\r\n          change = touchPoints[0].pageX - slider.touch.start.x;\r\n          value = slider.touch.originalPos.left + change;\r\n        // if vertical, drag along y axis\r\n        } else {\r\n          change = touchPoints[0].pageY - slider.touch.start.y;\r\n          value = slider.touch.originalPos.top + change;\r\n        }\r\n        setPositionProperty(value, 'reset', 0);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Event handler for \"touchend\"\r\n     *\r\n     * @param e (event)\r\n     *  - DOM event object\r\n     */\r\n    var onTouchEnd = function(e) {\r\n      slider.viewport.unbind('touchmove MSPointerMove pointermove', onTouchMove);\r\n      //enable slider controls as soon as user stops interacing with slides\r\n      slider.controls.el.removeClass('disabled');\r\n      var orig    = e.originalEvent,\r\n      touchPoints = (typeof orig.changedTouches !== 'undefined') ? orig.changedTouches : [orig],\r\n      value       = 0,\r\n      distance    = 0;\r\n      // record end x, y positions\r\n      slider.touch.end.x = touchPoints[0].pageX;\r\n      slider.touch.end.y = touchPoints[0].pageY;\r\n      // if fade mode, check if absolute x distance clears the threshold\r\n      if (slider.settings.mode === 'fade') {\r\n        distance = Math.abs(slider.touch.start.x - slider.touch.end.x);\r\n        if (distance >= slider.settings.swipeThreshold) {\r\n          if (slider.touch.start.x > slider.touch.end.x) {\r\n            el.goToNextSlide();\r\n          } else {\r\n            el.goToPrevSlide();\r\n          }\r\n          el.stopAuto();\r\n        }\r\n      // not fade mode\r\n      } else {\r\n        // calculate distance and el's animate property\r\n        if (slider.settings.mode === 'horizontal') {\r\n          distance = slider.touch.end.x - slider.touch.start.x;\r\n          value = slider.touch.originalPos.left;\r\n        } else {\r\n          distance = slider.touch.end.y - slider.touch.start.y;\r\n          value = slider.touch.originalPos.top;\r\n        }\r\n        // if not infinite loop and first / last slide, do not attempt a slide transition\r\n        if (!slider.settings.infiniteLoop && ((slider.active.index === 0 && distance > 0) || (slider.active.last && distance < 0))) {\r\n          setPositionProperty(value, 'reset', 200);\r\n        } else {\r\n          // check if distance clears threshold\r\n          if (Math.abs(distance) >= slider.settings.swipeThreshold) {\r\n            if (distance < 0) {\r\n              el.goToNextSlide();\r\n            } else {\r\n              el.goToPrevSlide();\r\n            }\r\n            el.stopAuto();\r\n          } else {\r\n            // el.animate(property, 200);\r\n            setPositionProperty(value, 'reset', 200);\r\n          }\r\n        }\r\n      }\r\n      slider.viewport.unbind('touchend MSPointerUp pointerup', onTouchEnd);\r\n      if (slider.viewport.get(0).releasePointerCapture) {\r\n        slider.viewport.get(0).releasePointerCapture(slider.pointerId);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Window resize event callback\r\n     */\r\n    var resizeWindow = function(e) {\r\n      // don't do anything if slider isn't initialized.\r\n      if (!slider.initialized) { return; }\r\n      // Delay if slider working.\r\n      if (slider.working) {\r\n        window.setTimeout(resizeWindow, 10);\r\n      } else {\r\n        // get the new window dimens (again, thank you IE)\r\n        var windowWidthNew = $(window).width(),\r\n        windowHeightNew = $(window).height();\r\n        // make sure that it is a true window resize\r\n        // *we must check this because our dinosaur friend IE fires a window resize event when certain DOM elements\r\n        // are resized. Can you just die already?*\r\n        if (windowWidth !== windowWidthNew || windowHeight !== windowHeightNew) {\r\n          // set the new window dimens\r\n          windowWidth = windowWidthNew;\r\n          windowHeight = windowHeightNew;\r\n          // update all dynamic elements\r\n          el.redrawSlider();\r\n          // Call user resize handler\r\n          slider.settings.onSliderResize.call(el, slider.active.index);\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Adds an aria-hidden=true attribute to each element\r\n     *\r\n     * @param startVisibleIndex (int)\r\n     *  - the first visible element's index\r\n     */\r\n    var applyAriaHiddenAttributes = function(startVisibleIndex) {\r\n      var numberOfSlidesShowing = getNumberSlidesShowing();\r\n      // only apply attributes if the setting is enabled and not in ticker mode\r\n      if (slider.settings.ariaHidden && !slider.settings.ticker) {\r\n        // add aria-hidden=true to all elements\r\n        slider.children.attr('aria-hidden', 'true');\r\n        // get the visible elements and change to aria-hidden=false\r\n        slider.children.slice(startVisibleIndex, startVisibleIndex + numberOfSlidesShowing).attr('aria-hidden', 'false');\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Returns index according to present page range\r\n     *\r\n     * @param slideOndex (int)\r\n     *  - the desired slide index\r\n     */\r\n    var setSlideIndex = function(slideIndex) {\r\n      if (slideIndex < 0) {\r\n        if (slider.settings.infiniteLoop) {\r\n          return getPagerQty() - 1;\r\n        }else {\r\n          //we don't go to undefined slides\r\n          return slider.active.index;\r\n        }\r\n      // if slideIndex is greater than children length, set active index to 0 (this happens during infinite loop)\r\n      } else if (slideIndex >= getPagerQty()) {\r\n        if (slider.settings.infiniteLoop) {\r\n          return 0;\r\n        } else {\r\n          //we don't move to undefined pages\r\n          return slider.active.index;\r\n        }\r\n      // set active index to requested slide\r\n      } else {\r\n        return slideIndex;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * ===================================================================================\r\n     * = PUBLIC FUNCTIONS\r\n     * ===================================================================================\r\n     */\r\n\r\n    /**\r\n     * Performs slide transition to the specified slide\r\n     *\r\n     * @param slideIndex (int)\r\n     *  - the destination slide's index (zero-based)\r\n     *\r\n     * @param direction (string)\r\n     *  - INTERNAL USE ONLY - the direction of travel (\"prev\" / \"next\")\r\n     */\r\n    el.goToSlide = function(slideIndex, direction) {\r\n      // onSlideBefore, onSlideNext, onSlidePrev callbacks\r\n      // Allow transition canceling based on returned value\r\n      var performTransition = true,\r\n      moveBy = 0,\r\n      position = {left: 0, top: 0},\r\n      lastChild = null,\r\n      lastShowingIndex, eq, value, requestEl;\r\n      // store the old index\r\n      slider.oldIndex = slider.active.index;\r\n      //set new index\r\n      slider.active.index = setSlideIndex(slideIndex);\r\n\r\n      // if plugin is currently in motion, ignore request\r\n      if (slider.working || slider.active.index === slider.oldIndex) { return; }\r\n      // declare that plugin is in motion\r\n      slider.working = true;\r\n\r\n      performTransition = slider.settings.onSlideBefore.call(el, slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index);\r\n\r\n      // If transitions canceled, reset and return\r\n      if (typeof (performTransition) !== 'undefined' && !performTransition) {\r\n        slider.active.index = slider.oldIndex; // restore old index\r\n        slider.working = false; // is not in motion\r\n        return;\r\n      }\r\n\r\n      if (direction === 'next') {\r\n        // Prevent canceling in future functions or lack there-of from negating previous commands to cancel\r\n        if (!slider.settings.onSlideNext.call(el, slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index)) {\r\n          performTransition = false;\r\n        }\r\n      } else if (direction === 'prev') {\r\n        // Prevent canceling in future functions or lack there-of from negating previous commands to cancel\r\n        if (!slider.settings.onSlidePrev.call(el, slider.children.eq(slider.active.index), slider.oldIndex, slider.active.index)) {\r\n          performTransition = false;\r\n        }\r\n      }\r\n\r\n      // check if last slide\r\n      slider.active.last = slider.active.index >= getPagerQty() - 1;\r\n      // update the pager with active class\r\n      if (slider.settings.pager || slider.settings.pagerCustom) { updatePagerActive(slider.active.index); }\r\n      // // check for direction control update\r\n      if (slider.settings.controls) { updateDirectionControls(); }\r\n      // if slider is set to mode: \"fade\"\r\n      if (slider.settings.mode === 'fade') {\r\n        // if adaptiveHeight is true and next height is different from current height, animate to the new height\r\n        if (slider.settings.adaptiveHeight && slider.viewport.height() !== getViewportHeight()) {\r\n          slider.viewport.animate({height: getViewportHeight()}, slider.settings.adaptiveHeightSpeed);\r\n        }\r\n        // fade out the visible child and reset its z-index value\r\n        slider.children.filter(':visible').fadeOut(slider.settings.speed).css({zIndex: 0});\r\n        // fade in the newly requested slide\r\n        slider.children.eq(slider.active.index).css('zIndex', slider.settings.slideZIndex + 1).fadeIn(slider.settings.speed, function() {\r\n          $(this).css('zIndex', slider.settings.slideZIndex);\r\n          updateAfterSlideTransition();\r\n        });\r\n      // slider mode is not \"fade\"\r\n      } else {\r\n        // if adaptiveHeight is true and next height is different from current height, animate to the new height\r\n        if (slider.settings.adaptiveHeight && slider.viewport.height() !== getViewportHeight()) {\r\n          slider.viewport.animate({height: getViewportHeight()}, slider.settings.adaptiveHeightSpeed);\r\n        }\r\n        // if carousel and not infinite loop\r\n        if (!slider.settings.infiniteLoop && slider.carousel && slider.active.last) {\r\n          if (slider.settings.mode === 'horizontal') {\r\n            // get the last child position\r\n            lastChild = slider.children.eq(slider.children.length - 1);\r\n            position = lastChild.position();\r\n            // calculate the position of the last slide\r\n            moveBy = slider.viewport.width() - lastChild.outerWidth();\r\n          } else {\r\n            // get last showing index position\r\n            lastShowingIndex = slider.children.length - slider.settings.minSlides;\r\n            position = slider.children.eq(lastShowingIndex).position();\r\n          }\r\n          // horizontal carousel, going previous while on first slide (infiniteLoop mode)\r\n        } else if (slider.carousel && slider.active.last && direction === 'prev') {\r\n          // get the last child position\r\n          eq = slider.settings.moveSlides === 1 ? slider.settings.maxSlides - getMoveBy() : ((getPagerQty() - 1) * getMoveBy()) - (slider.children.length - slider.settings.maxSlides);\r\n          lastChild = el.children('.bx-clone').eq(eq);\r\n          position = lastChild.position();\r\n        // if infinite loop and \"Next\" is clicked on the last slide\r\n        } else if (direction === 'next' && slider.active.index === 0) {\r\n          // get the last clone position\r\n          position = el.find('> .bx-clone').eq(slider.settings.maxSlides).position();\r\n          slider.active.last = false;\r\n        // normal non-zero requests\r\n        } else if (slideIndex >= 0) {\r\n          //parseInt is applied to allow floats for slides/page\r\n          requestEl = slideIndex * parseInt(getMoveBy());\r\n          position = slider.children.eq(requestEl).position();\r\n        }\r\n\r\n        /* If the position doesn't exist\r\n         * (e.g. if you destroy the slider on a next click),\r\n         * it doesn't throw an error.\r\n         */\r\n        if (typeof (position) !== 'undefined') {\r\n          value = slider.settings.mode === 'horizontal' ? -(position.left - moveBy) : -position.top;\r\n          // plugin values to be animated\r\n          setPositionProperty(value, 'slide', slider.settings.speed);\r\n        } else {\r\n          slider.working = false;\r\n        }\r\n      }\r\n      if (slider.settings.ariaHidden) { applyAriaHiddenAttributes(slider.active.index * getMoveBy()); }\r\n    };\r\n\r\n    /**\r\n     * Transitions to the next slide in the show\r\n     */\r\n    el.goToNextSlide = function() {\r\n      // if infiniteLoop is false and last page is showing, disregard call\r\n      if (!slider.settings.infiniteLoop && slider.active.last) { return; }\r\n      var pagerIndex = parseInt(slider.active.index) + 1;\r\n      el.goToSlide(pagerIndex, 'next');\r\n    };\r\n\r\n    /**\r\n     * Transitions to the prev slide in the show\r\n     */\r\n    el.goToPrevSlide = function() {\r\n      // if infiniteLoop is false and last page is showing, disregard call\r\n      if (!slider.settings.infiniteLoop && slider.active.index === 0) { return; }\r\n      var pagerIndex = parseInt(slider.active.index) - 1;\r\n      el.goToSlide(pagerIndex, 'prev');\r\n    };\r\n\r\n    /**\r\n     * Starts the auto show\r\n     *\r\n     * @param preventControlUpdate (boolean)\r\n     *  - if true, auto controls state will not be updated\r\n     */\r\n    el.startAuto = function(preventControlUpdate) {\r\n      // if an interval already exists, disregard call\r\n      if (slider.interval) { return; }\r\n      // create an interval\r\n      slider.interval = setInterval(function() {\r\n        if (slider.settings.autoDirection === 'next') {\r\n          el.goToNextSlide();\r\n        } else {\r\n          el.goToPrevSlide();\r\n        }\r\n      }, slider.settings.pause);\r\n      // if auto controls are displayed and preventControlUpdate is not true\r\n      if (slider.settings.autoControls && preventControlUpdate !== true) { updateAutoControls('stop'); }\r\n    };\r\n\r\n    /**\r\n     * Stops the auto show\r\n     *\r\n     * @param preventControlUpdate (boolean)\r\n     *  - if true, auto controls state will not be updated\r\n     */\r\n    el.stopAuto = function(preventControlUpdate) {\r\n      // if no interval exists, disregard call\r\n      if (!slider.interval) { return; }\r\n      // clear the interval\r\n      clearInterval(slider.interval);\r\n      slider.interval = null;\r\n      // if auto controls are displayed and preventControlUpdate is not true\r\n      if (slider.settings.autoControls && preventControlUpdate !== true) { updateAutoControls('start'); }\r\n    };\r\n\r\n    /**\r\n     * Returns current slide index (zero-based)\r\n     */\r\n    el.getCurrentSlide = function() {\r\n      return slider.active.index;\r\n    };\r\n\r\n    /**\r\n     * Returns current slide element\r\n     */\r\n    el.getCurrentSlideElement = function() {\r\n      return slider.children.eq(slider.active.index);\r\n    };\r\n\r\n    /**\r\n     * Returns a slide element\r\n     * @param index (int)\r\n     *  - The index (zero-based) of the element you want returned.\r\n     */\r\n    el.getSlideElement = function(index) {\r\n      return slider.children.eq(index);\r\n    };\r\n\r\n    /**\r\n     * Returns number of slides in show\r\n     */\r\n    el.getSlideCount = function() {\r\n      return slider.children.length;\r\n    };\r\n\r\n    /**\r\n     * Return slider.working variable\r\n     */\r\n    el.isWorking = function() {\r\n      return slider.working;\r\n    };\r\n\r\n    /**\r\n     * Update all dynamic slider elements\r\n     */\r\n    el.redrawSlider = function() {\r\n      // resize all children in ratio to new screen size\r\n      slider.children.add(el.find('.bx-clone')).outerWidth(getSlideWidth());\r\n      // adjust the height\r\n      slider.viewport.css('height', getViewportHeight());\r\n      // update the slide position\r\n      if (!slider.settings.ticker) { setSlidePosition(); }\r\n      // if active.last was true before the screen resize, we want\r\n      // to keep it last no matter what screen size we end on\r\n      if (slider.active.last) { slider.active.index = getPagerQty() - 1; }\r\n      // if the active index (page) no longer exists due to the resize, simply set the index as last\r\n      if (slider.active.index >= getPagerQty()) { slider.active.last = true; }\r\n      // if a pager is being displayed and a custom pager is not being used, update it\r\n      if (slider.settings.pager && !slider.settings.pagerCustom) {\r\n        populatePager();\r\n        updatePagerActive(slider.active.index);\r\n      }\r\n      if (slider.settings.ariaHidden) { applyAriaHiddenAttributes(slider.active.index * getMoveBy()); }\r\n    };\r\n\r\n    /**\r\n     * Destroy the current instance of the slider (revert everything back to original state)\r\n     */\r\n    el.destroySlider = function() {\r\n      // don't do anything if slider has already been destroyed\r\n      if (!slider.initialized) { return; }\r\n      slider.initialized = false;\r\n      $('.bx-clone', this).remove();\r\n      slider.children.each(function() {\r\n        if ($(this).data('origStyle') !== undefined) {\r\n          $(this).attr('style', $(this).data('origStyle'));\r\n        } else {\r\n          $(this).removeAttr('style');\r\n        }\r\n      });\r\n      if ($(this).data('origStyle') !== undefined) {\r\n        this.attr('style', $(this).data('origStyle'));\r\n      } else {\r\n        $(this).removeAttr('style');\r\n      }\r\n      $(this).unwrap().unwrap();\r\n      if (slider.controls.el) { slider.controls.el.remove(); }\r\n      if (slider.controls.next) { slider.controls.next.remove(); }\r\n      if (slider.controls.prev) { slider.controls.prev.remove(); }\r\n      if (slider.pagerEl && slider.settings.controls && !slider.settings.pagerCustom) { slider.pagerEl.remove(); }\r\n      $('.bx-caption', this).remove();\r\n      if (slider.controls.autoEl) { slider.controls.autoEl.remove(); }\r\n      clearInterval(slider.interval);\r\n      if (slider.settings.responsive) { $(window).unbind('resize', resizeWindow); }\r\n      if (slider.settings.keyboardEnabled) { $(document).unbind('keydown', keyPress); }\r\n      //remove self reference in data\r\n      $(this).removeData('bxSlider');\r\n    };\r\n\r\n    /**\r\n     * Reload the slider (revert all DOM changes, and re-initialize)\r\n     */\r\n    el.reloadSlider = function(settings) {\r\n      if (settings !== undefined) { options = settings; }\r\n      el.destroySlider();\r\n      init();\r\n      //store reference to self in order to access public functions later\r\n      $(el).data('bxSlider', this);\r\n    };\r\n\r\n    init();\r\n\r\n    $(el).data('bxSlider', this);\r\n\r\n    // returns the current jQuery object\r\n    return this;\r\n  };\r\n\r\n})(jQuery);\r\n","/*!\r\n * imagesLoaded PACKAGED v4.1.2\r\n * JavaScript is all like \"You images are done yet or what?\"\r\n * MIT License\r\n */\r\n\r\n/**\r\n * EvEmitter v1.0.3\r\n * Lil' event emitter\r\n * MIT License\r\n */\r\n\r\n/* jshint unused: true, undef: true, strict: true */\r\n\r\n( function( global, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /* globals define, module, window */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD - RequireJS\r\n    define( 'ev-emitter/ev-emitter',factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.EvEmitter = factory();\r\n  }\r\n\r\n}( typeof window != 'undefined' ? window : this, function() {\r\n\r\n\r\n\r\nfunction EvEmitter() {}\r\n\r\nvar proto = EvEmitter.prototype;\r\n\r\nproto.on = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) {\r\n    return;\r\n  }\r\n  // set events hash\r\n  var events = this._events = this._events || {};\r\n  // set listeners array\r\n  var listeners = events[ eventName ] = events[ eventName ] || [];\r\n  // only add once\r\n  if ( listeners.indexOf( listener ) == -1 ) {\r\n    listeners.push( listener );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.once = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) {\r\n    return;\r\n  }\r\n  // add event\r\n  this.on( eventName, listener );\r\n  // set once flag\r\n  // set onceEvents hash\r\n  var onceEvents = this._onceEvents = this._onceEvents || {};\r\n  // set onceListeners object\r\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\r\n  // set flag\r\n  onceListeners[ listener ] = true;\r\n\r\n  return this;\r\n};\r\n\r\nproto.off = function( eventName, listener ) {\r\n  var listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) {\r\n    return;\r\n  }\r\n  var index = listeners.indexOf( listener );\r\n  if ( index != -1 ) {\r\n    listeners.splice( index, 1 );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.emitEvent = function( eventName, args ) {\r\n  var listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var listener = listeners[i];\r\n  args = args || [];\r\n  // once stuff\r\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\r\n\r\n  while ( listener ) {\r\n    var isOnce = onceListeners && onceListeners[ listener ];\r\n    if ( isOnce ) {\r\n      // remove listener\r\n      // remove before trigger to prevent recursion\r\n      this.off( eventName, listener );\r\n      // unset once flag\r\n      delete onceListeners[ listener ];\r\n    }\r\n    // trigger listener\r\n    listener.apply( this, args );\r\n    // get next listener\r\n    i += isOnce ? 0 : 1;\r\n    listener = listeners[i];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nreturn EvEmitter;\r\n\r\n}));\r\n\r\n/*!\r\n * imagesLoaded v4.1.2\r\n * JavaScript is all like \"You images are done yet or what?\"\r\n * MIT License\r\n */\r\n\r\n( function( window, factory ) { 'use strict';\r\n  // universal module definition\r\n\r\n  /*global define: false, module: false, require: false */\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( [\r\n      'ev-emitter/ev-emitter'\r\n    ], function( EvEmitter ) {\r\n      return factory( window, EvEmitter );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('ev-emitter')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.imagesLoaded = factory(\r\n      window,\r\n      window.EvEmitter\r\n    );\r\n  }\r\n\r\n})( typeof window !== 'undefined' ? window : this,\r\n\r\n// --------------------------  factory -------------------------- //\r\n\r\nfunction factory( window, EvEmitter ) {\r\n\r\n\r\n\r\nvar $ = window.jQuery;\r\nvar console = window.console;\r\n\r\n// -------------------------- helpers -------------------------- //\r\n\r\n// extend objects\r\nfunction extend( a, b ) {\r\n  for ( var prop in b ) {\r\n    a[ prop ] = b[ prop ];\r\n  }\r\n  return a;\r\n}\r\n\r\n// turn element or nodeList into an array\r\nfunction makeArray( obj ) {\r\n  var ary = [];\r\n  if ( Array.isArray( obj ) ) {\r\n    // use object if already an array\r\n    ary = obj;\r\n  } else if ( typeof obj.length == 'number' ) {\r\n    // convert nodeList to array\r\n    for ( var i=0; i < obj.length; i++ ) {\r\n      ary.push( obj[i] );\r\n    }\r\n  } else {\r\n    // array of single index\r\n    ary.push( obj );\r\n  }\r\n  return ary;\r\n}\r\n\r\n// -------------------------- imagesLoaded -------------------------- //\r\n\r\n/**\r\n * @param {Array, Element, NodeList, String} elem\r\n * @param {Object or Function} options - if function, use as callback\r\n * @param {Function} onAlways - callback function\r\n */\r\nfunction ImagesLoaded( elem, options, onAlways ) {\r\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\r\n  if ( !( this instanceof ImagesLoaded ) ) {\r\n    return new ImagesLoaded( elem, options, onAlways );\r\n  }\r\n  // use elem as selector string\r\n  if ( typeof elem == 'string' ) {\r\n    elem = document.querySelectorAll( elem );\r\n  }\r\n\r\n  this.elements = makeArray( elem );\r\n  this.options = extend( {}, this.options );\r\n\r\n  if ( typeof options == 'function' ) {\r\n    onAlways = options;\r\n  } else {\r\n    extend( this.options, options );\r\n  }\r\n\r\n  if ( onAlways ) {\r\n    this.on( 'always', onAlways );\r\n  }\r\n\r\n  this.getImages();\r\n\r\n  if ( $ ) {\r\n    // add jQuery Deferred object\r\n    this.jqDeferred = new $.Deferred();\r\n  }\r\n\r\n  // HACK check async to allow time to bind listeners\r\n  setTimeout( function() {\r\n    this.check();\r\n  }.bind( this ));\r\n}\r\n\r\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\r\n\r\nImagesLoaded.prototype.options = {};\r\n\r\nImagesLoaded.prototype.getImages = function() {\r\n  this.images = [];\r\n\r\n  // filter & find items if we have an item selector\r\n  this.elements.forEach( this.addElementImages, this );\r\n};\r\n\r\n/**\r\n * @param {Node} element\r\n */\r\nImagesLoaded.prototype.addElementImages = function( elem ) {\r\n  // filter siblings\r\n  if ( elem.nodeName == 'IMG' ) {\r\n    this.addImage( elem );\r\n  }\r\n  // get background image on element\r\n  if ( this.options.background === true ) {\r\n    this.addElementBackgroundImages( elem );\r\n  }\r\n\r\n  // find children\r\n  // no non-element nodes, #143\r\n  var nodeType = elem.nodeType;\r\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\r\n    return;\r\n  }\r\n  var childImgs = elem.querySelectorAll('img');\r\n  // concat childElems to filterFound array\r\n  for ( var i=0; i < childImgs.length; i++ ) {\r\n    var img = childImgs[i];\r\n    this.addImage( img );\r\n  }\r\n\r\n  // get child background images\r\n  if ( typeof this.options.background == 'string' ) {\r\n    var children = elem.querySelectorAll( this.options.background );\r\n    for ( i=0; i < children.length; i++ ) {\r\n      var child = children[i];\r\n      this.addElementBackgroundImages( child );\r\n    }\r\n  }\r\n};\r\n\r\nvar elementNodeTypes = {\r\n  1: true,\r\n  9: true,\r\n  11: true\r\n};\r\n\r\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\r\n  var style = getComputedStyle( elem );\r\n  if ( !style ) {\r\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\r\n    return;\r\n  }\r\n  // get url inside url(\"...\")\r\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\r\n  var matches = reURL.exec( style.backgroundImage );\r\n  while ( matches !== null ) {\r\n    var url = matches && matches[2];\r\n    if ( url ) {\r\n      this.addBackground( url, elem );\r\n    }\r\n    matches = reURL.exec( style.backgroundImage );\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Image} img\r\n */\r\nImagesLoaded.prototype.addImage = function( img ) {\r\n  var loadingImage = new LoadingImage( img );\r\n  this.images.push( loadingImage );\r\n};\r\n\r\nImagesLoaded.prototype.addBackground = function( url, elem ) {\r\n  var background = new Background( url, elem );\r\n  this.images.push( background );\r\n};\r\n\r\nImagesLoaded.prototype.check = function() {\r\n  var _this = this;\r\n  this.progressedCount = 0;\r\n  this.hasAnyBroken = false;\r\n  // complete if no images\r\n  if ( !this.images.length ) {\r\n    this.complete();\r\n    return;\r\n  }\r\n\r\n  function onProgress( image, elem, message ) {\r\n    // HACK - Chrome triggers event before object properties have changed. #83\r\n    setTimeout( function() {\r\n      _this.progress( image, elem, message );\r\n    });\r\n  }\r\n\r\n  this.images.forEach( function( loadingImage ) {\r\n    loadingImage.once( 'progress', onProgress );\r\n    loadingImage.check();\r\n  });\r\n};\r\n\r\nImagesLoaded.prototype.progress = function( image, elem, message ) {\r\n  this.progressedCount++;\r\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\r\n  // progress event\r\n  this.emitEvent( 'progress', [ this, image, elem ] );\r\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\r\n    this.jqDeferred.notify( this, image );\r\n  }\r\n  // check if completed\r\n  if ( this.progressedCount == this.images.length ) {\r\n    this.complete();\r\n  }\r\n\r\n  if ( this.options.debug && console ) {\r\n    console.log( 'progress: ' + message, image, elem );\r\n  }\r\n};\r\n\r\nImagesLoaded.prototype.complete = function() {\r\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\r\n  this.isComplete = true;\r\n  this.emitEvent( eventName, [ this ] );\r\n  this.emitEvent( 'always', [ this ] );\r\n  if ( this.jqDeferred ) {\r\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\r\n    this.jqDeferred[ jqMethod ]( this );\r\n  }\r\n};\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nfunction LoadingImage( img ) {\r\n  this.img = img;\r\n}\r\n\r\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\r\n\r\nLoadingImage.prototype.check = function() {\r\n  // If complete is true and browser supports natural sizes,\r\n  // try to check for image status manually.\r\n  var isComplete = this.getIsImageComplete();\r\n  if ( isComplete ) {\r\n    // report based on naturalWidth\r\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\r\n    return;\r\n  }\r\n\r\n  // If none of the checks above matched, simulate loading on detached element.\r\n  this.proxyImage = new Image();\r\n  this.proxyImage.addEventListener( 'load', this );\r\n  this.proxyImage.addEventListener( 'error', this );\r\n  // bind to image as well for Firefox. #191\r\n  this.img.addEventListener( 'load', this );\r\n  this.img.addEventListener( 'error', this );\r\n  this.proxyImage.src = this.img.src;\r\n};\r\n\r\nLoadingImage.prototype.getIsImageComplete = function() {\r\n  return this.img.complete && this.img.naturalWidth !== undefined;\r\n};\r\n\r\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\r\n  this.isLoaded = isLoaded;\r\n  this.emitEvent( 'progress', [ this, this.img, message ] );\r\n};\r\n\r\n// ----- events ----- //\r\n\r\n// trigger specified handler for event type\r\nLoadingImage.prototype.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\nLoadingImage.prototype.onload = function() {\r\n  this.confirm( true, 'onload' );\r\n  this.unbindEvents();\r\n};\r\n\r\nLoadingImage.prototype.onerror = function() {\r\n  this.confirm( false, 'onerror' );\r\n  this.unbindEvents();\r\n};\r\n\r\nLoadingImage.prototype.unbindEvents = function() {\r\n  this.proxyImage.removeEventListener( 'load', this );\r\n  this.proxyImage.removeEventListener( 'error', this );\r\n  this.img.removeEventListener( 'load', this );\r\n  this.img.removeEventListener( 'error', this );\r\n};\r\n\r\n// -------------------------- Background -------------------------- //\r\n\r\nfunction Background( url, element ) {\r\n  this.url = url;\r\n  this.element = element;\r\n  this.img = new Image();\r\n}\r\n\r\n// inherit LoadingImage prototype\r\nBackground.prototype = Object.create( LoadingImage.prototype );\r\n\r\nBackground.prototype.check = function() {\r\n  this.img.addEventListener( 'load', this );\r\n  this.img.addEventListener( 'error', this );\r\n  this.img.src = this.url;\r\n  // check if image is already complete\r\n  var isComplete = this.getIsImageComplete();\r\n  if ( isComplete ) {\r\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\r\n    this.unbindEvents();\r\n  }\r\n};\r\n\r\nBackground.prototype.unbindEvents = function() {\r\n  this.img.removeEventListener( 'load', this );\r\n  this.img.removeEventListener( 'error', this );\r\n};\r\n\r\nBackground.prototype.confirm = function( isLoaded, message ) {\r\n  this.isLoaded = isLoaded;\r\n  this.emitEvent( 'progress', [ this, this.element, message ] );\r\n};\r\n\r\n// -------------------------- jQuery -------------------------- //\r\n\r\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\r\n  jQuery = jQuery || window.jQuery;\r\n  if ( !jQuery ) {\r\n    return;\r\n  }\r\n  // set local variable\r\n  $ = jQuery;\r\n  // $().imagesLoaded()\r\n  $.fn.imagesLoaded = function( options, callback ) {\r\n    var instance = new ImagesLoaded( this, options, callback );\r\n    return instance.jqDeferred.promise( $(this) );\r\n  };\r\n};\r\n// try making plugin\r\nImagesLoaded.makeJQueryPlugin();\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nreturn ImagesLoaded;\r\n\r\n});\r\n","/*!\r\n * Isotope PACKAGED v3.0.4\r\n *\r\n * Licensed GPLv3 for open source use\r\n * or Isotope Commercial License for commercial use\r\n *\r\n * http://isotope.metafizzy.co\r\n * Copyright 2017 Metafizzy\r\n */\r\n\r\n/**\r\n * Bridget makes jQuery widgets\r\n * v2.0.1\r\n * MIT license\r\n */\r\n\r\n/* jshint browser: true, strict: true, undef: true, unused: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /* globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\r\n      return factory( window, jQuery );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('jquery')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.jQueryBridget = factory(\r\n      window,\r\n      window.jQuery\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, jQuery ) {\r\n'use strict';\r\n\r\n// ----- utils ----- //\r\n\r\nvar arraySlice = Array.prototype.slice;\r\n\r\n// helper function for logging errors\r\n// $.error breaks jQuery chaining\r\nvar console = window.console;\r\nvar logError = typeof console == 'undefined' ? function() {} :\r\n  function( message ) {\r\n    console.error( message );\r\n  };\r\n\r\n// ----- jQueryBridget ----- //\r\n\r\nfunction jQueryBridget( namespace, PluginClass, $ ) {\r\n  $ = $ || jQuery || window.jQuery;\r\n  if ( !$ ) {\r\n    return;\r\n  }\r\n\r\n  // add option method -> $().plugin('option', {...})\r\n  if ( !PluginClass.prototype.option ) {\r\n    // option setter\r\n    PluginClass.prototype.option = function( opts ) {\r\n      // bail out if not an object\r\n      if ( !$.isPlainObject( opts ) ){\r\n        return;\r\n      }\r\n      this.options = $.extend( true, this.options, opts );\r\n    };\r\n  }\r\n\r\n  // make jQuery plugin\r\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\r\n    if ( typeof arg0 == 'string' ) {\r\n      // method call $().plugin( 'methodName', { options } )\r\n      // shift arguments by 1\r\n      var args = arraySlice.call( arguments, 1 );\r\n      return methodCall( this, arg0, args );\r\n    }\r\n    // just $().plugin({ options })\r\n    plainCall( this, arg0 );\r\n    return this;\r\n  };\r\n\r\n  // $().plugin('methodName')\r\n  function methodCall( $elems, methodName, args ) {\r\n    var returnValue;\r\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\r\n\r\n    $elems.each( function( i, elem ) {\r\n      // get instance\r\n      var instance = $.data( elem, namespace );\r\n      if ( !instance ) {\r\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\r\n          pluginMethodStr );\r\n        return;\r\n      }\r\n\r\n      var method = instance[ methodName ];\r\n      if ( !method || methodName.charAt(0) == '_' ) {\r\n        logError( pluginMethodStr + ' is not a valid method' );\r\n        return;\r\n      }\r\n\r\n      // apply method, get return value\r\n      var value = method.apply( instance, args );\r\n      // set return value if value is returned, use only first value\r\n      returnValue = returnValue === undefined ? value : returnValue;\r\n    });\r\n\r\n    return returnValue !== undefined ? returnValue : $elems;\r\n  }\r\n\r\n  function plainCall( $elems, options ) {\r\n    $elems.each( function( i, elem ) {\r\n      var instance = $.data( elem, namespace );\r\n      if ( instance ) {\r\n        // set options & init\r\n        instance.option( options );\r\n        instance._init();\r\n      } else {\r\n        // initialize new instance\r\n        instance = new PluginClass( elem, options );\r\n        $.data( elem, namespace, instance );\r\n      }\r\n    });\r\n  }\r\n\r\n  updateJQuery( $ );\r\n\r\n}\r\n\r\n// ----- updateJQuery ----- //\r\n\r\n// set $.bridget for v1 backwards compatibility\r\nfunction updateJQuery( $ ) {\r\n  if ( !$ || ( $ && $.bridget ) ) {\r\n    return;\r\n  }\r\n  $.bridget = jQueryBridget;\r\n}\r\n\r\nupdateJQuery( jQuery || window.jQuery );\r\n\r\n// -----  ----- //\r\n\r\nreturn jQueryBridget;\r\n\r\n}));\r\n\r\n/**\r\n * EvEmitter v1.0.3\r\n * Lil' event emitter\r\n * MIT License\r\n */\r\n\r\n/* jshint unused: true, undef: true, strict: true */\r\n\r\n( function( global, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /* globals define, module, window */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD - RequireJS\r\n    define( 'ev-emitter/ev-emitter',factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.EvEmitter = factory();\r\n  }\r\n\r\n}( typeof window != 'undefined' ? window : this, function() {\r\n\r\n\r\n\r\nfunction EvEmitter() {}\r\n\r\nvar proto = EvEmitter.prototype;\r\n\r\nproto.on = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) {\r\n    return;\r\n  }\r\n  // set events hash\r\n  var events = this._events = this._events || {};\r\n  // set listeners array\r\n  var listeners = events[ eventName ] = events[ eventName ] || [];\r\n  // only add once\r\n  if ( listeners.indexOf( listener ) == -1 ) {\r\n    listeners.push( listener );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.once = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) {\r\n    return;\r\n  }\r\n  // add event\r\n  this.on( eventName, listener );\r\n  // set once flag\r\n  // set onceEvents hash\r\n  var onceEvents = this._onceEvents = this._onceEvents || {};\r\n  // set onceListeners object\r\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\r\n  // set flag\r\n  onceListeners[ listener ] = true;\r\n\r\n  return this;\r\n};\r\n\r\nproto.off = function( eventName, listener ) {\r\n  var listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) {\r\n    return;\r\n  }\r\n  var index = listeners.indexOf( listener );\r\n  if ( index != -1 ) {\r\n    listeners.splice( index, 1 );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.emitEvent = function( eventName, args ) {\r\n  var listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var listener = listeners[i];\r\n  args = args || [];\r\n  // once stuff\r\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\r\n\r\n  while ( listener ) {\r\n    var isOnce = onceListeners && onceListeners[ listener ];\r\n    if ( isOnce ) {\r\n      // remove listener\r\n      // remove before trigger to prevent recursion\r\n      this.off( eventName, listener );\r\n      // unset once flag\r\n      delete onceListeners[ listener ];\r\n    }\r\n    // trigger listener\r\n    listener.apply( this, args );\r\n    // get next listener\r\n    i += isOnce ? 0 : 1;\r\n    listener = listeners[i];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nreturn EvEmitter;\r\n\r\n}));\r\n\r\n/*!\r\n * getSize v2.0.2\r\n * measure size of elements\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n/*global define: false, module: false, console: false */\r\n\r\n( function( window, factory ) {\r\n  'use strict';\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'get-size/get-size',[],function() {\r\n      return factory();\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // browser global\r\n    window.getSize = factory();\r\n  }\r\n\r\n})( window, function factory() {\r\n'use strict';\r\n\r\n// -------------------------- helpers -------------------------- //\r\n\r\n// get a number from a string, not a percentage\r\nfunction getStyleSize( value ) {\r\n  var num = parseFloat( value );\r\n  // not a percent like '100%', and a number\r\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\r\n  return isValid && num;\r\n}\r\n\r\nfunction noop() {}\r\n\r\nvar logError = typeof console == 'undefined' ? noop :\r\n  function( message ) {\r\n    console.error( message );\r\n  };\r\n\r\n// -------------------------- measurements -------------------------- //\r\n\r\nvar measurements = [\r\n  'paddingLeft',\r\n  'paddingRight',\r\n  'paddingTop',\r\n  'paddingBottom',\r\n  'marginLeft',\r\n  'marginRight',\r\n  'marginTop',\r\n  'marginBottom',\r\n  'borderLeftWidth',\r\n  'borderRightWidth',\r\n  'borderTopWidth',\r\n  'borderBottomWidth'\r\n];\r\n\r\nvar measurementsLength = measurements.length;\r\n\r\nfunction getZeroSize() {\r\n  var size = {\r\n    width: 0,\r\n    height: 0,\r\n    innerWidth: 0,\r\n    innerHeight: 0,\r\n    outerWidth: 0,\r\n    outerHeight: 0\r\n  };\r\n  for ( var i=0; i < measurementsLength; i++ ) {\r\n    var measurement = measurements[i];\r\n    size[ measurement ] = 0;\r\n  }\r\n  return size;\r\n}\r\n\r\n// -------------------------- getStyle -------------------------- //\r\n\r\n/**\r\n * getStyle, get style of element, check for Firefox bug\r\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\r\n */\r\nfunction getStyle( elem ) {\r\n  var style = getComputedStyle( elem );\r\n  if ( !style ) {\r\n    logError( 'Style returned ' + style +\r\n      '. Are you running this code in a hidden iframe on Firefox? ' +\r\n      'See http://bit.ly/getsizebug1' );\r\n  }\r\n  return style;\r\n}\r\n\r\n// -------------------------- setup -------------------------- //\r\n\r\nvar isSetup = false;\r\n\r\nvar isBoxSizeOuter;\r\n\r\n/**\r\n * setup\r\n * check isBoxSizerOuter\r\n * do on first getSize() rather than on page load for Firefox bug\r\n */\r\nfunction setup() {\r\n  // setup once\r\n  if ( isSetup ) {\r\n    return;\r\n  }\r\n  isSetup = true;\r\n\r\n  // -------------------------- box sizing -------------------------- //\r\n\r\n  /**\r\n   * WebKit measures the outer-width on style.width on border-box elems\r\n   * IE & Firefox<29 measures the inner-width\r\n   */\r\n  var div = document.createElement('div');\r\n  div.style.width = '200px';\r\n  div.style.padding = '1px 2px 3px 4px';\r\n  div.style.borderStyle = 'solid';\r\n  div.style.borderWidth = '1px 2px 3px 4px';\r\n  div.style.boxSizing = 'border-box';\r\n\r\n  var body = document.body || document.documentElement;\r\n  body.appendChild( div );\r\n  var style = getStyle( div );\r\n\r\n  getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\r\n  body.removeChild( div );\r\n\r\n}\r\n\r\n// -------------------------- getSize -------------------------- //\r\n\r\nfunction getSize( elem ) {\r\n  setup();\r\n\r\n  // use querySeletor if elem is string\r\n  if ( typeof elem == 'string' ) {\r\n    elem = document.querySelector( elem );\r\n  }\r\n\r\n  // do not proceed on non-objects\r\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\r\n    return;\r\n  }\r\n\r\n  var style = getStyle( elem );\r\n\r\n  // if hidden, everything is 0\r\n  if ( style.display == 'none' ) {\r\n    return getZeroSize();\r\n  }\r\n\r\n  var size = {};\r\n  size.width = elem.offsetWidth;\r\n  size.height = elem.offsetHeight;\r\n\r\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\r\n\r\n  // get all measurements\r\n  for ( var i=0; i < measurementsLength; i++ ) {\r\n    var measurement = measurements[i];\r\n    var value = style[ measurement ];\r\n    var num = parseFloat( value );\r\n    // any 'auto', 'medium' value will be 0\r\n    size[ measurement ] = !isNaN( num ) ? num : 0;\r\n  }\r\n\r\n  var paddingWidth = size.paddingLeft + size.paddingRight;\r\n  var paddingHeight = size.paddingTop + size.paddingBottom;\r\n  var marginWidth = size.marginLeft + size.marginRight;\r\n  var marginHeight = size.marginTop + size.marginBottom;\r\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\r\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\r\n\r\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\r\n\r\n  // overwrite width and height if we can get it from style\r\n  var styleWidth = getStyleSize( style.width );\r\n  if ( styleWidth !== false ) {\r\n    size.width = styleWidth +\r\n      // add padding and border unless it's already including it\r\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\r\n  }\r\n\r\n  var styleHeight = getStyleSize( style.height );\r\n  if ( styleHeight !== false ) {\r\n    size.height = styleHeight +\r\n      // add padding and border unless it's already including it\r\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\r\n  }\r\n\r\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\r\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\r\n\r\n  size.outerWidth = size.width + marginWidth;\r\n  size.outerHeight = size.height + marginHeight;\r\n\r\n  return size;\r\n}\r\n\r\nreturn getSize;\r\n\r\n});\r\n\r\n/**\r\n * matchesSelector v2.0.2\r\n * matchesSelector( element, '.selector' )\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n\r\n( function( window, factory ) {\r\n  /*global define: false, module: false */\r\n  'use strict';\r\n  // universal module definition\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'desandro-matches-selector/matches-selector',factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // browser global\r\n    window.matchesSelector = factory();\r\n  }\r\n\r\n}( window, function factory() {\r\n  'use strict';\r\n\r\n  var matchesMethod = ( function() {\r\n    var ElemProto = window.Element.prototype;\r\n    // check for the standard method name first\r\n    if ( ElemProto.matches ) {\r\n      return 'matches';\r\n    }\r\n    // check un-prefixed\r\n    if ( ElemProto.matchesSelector ) {\r\n      return 'matchesSelector';\r\n    }\r\n    // check vendor prefixes\r\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\r\n\r\n    for ( var i=0; i < prefixes.length; i++ ) {\r\n      var prefix = prefixes[i];\r\n      var method = prefix + 'MatchesSelector';\r\n      if ( ElemProto[ method ] ) {\r\n        return method;\r\n      }\r\n    }\r\n  })();\r\n\r\n  return function matchesSelector( elem, selector ) {\r\n    return elem[ matchesMethod ]( selector );\r\n  };\r\n\r\n}));\r\n\r\n/**\r\n * Fizzy UI utils v2.0.5\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, undef: true, unused: true, strict: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /*globals define, module, require */\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'fizzy-ui-utils/utils',[\r\n      'desandro-matches-selector/matches-selector'\r\n    ], function( matchesSelector ) {\r\n      return factory( window, matchesSelector );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('desandro-matches-selector')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.fizzyUIUtils = factory(\r\n      window,\r\n      window.matchesSelector\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, matchesSelector ) {\r\n\r\n\r\n\r\nvar utils = {};\r\n\r\n// ----- extend ----- //\r\n\r\n// extends objects\r\nutils.extend = function( a, b ) {\r\n  for ( var prop in b ) {\r\n    a[ prop ] = b[ prop ];\r\n  }\r\n  return a;\r\n};\r\n\r\n// ----- modulo ----- //\r\n\r\nutils.modulo = function( num, div ) {\r\n  return ( ( num % div ) + div ) % div;\r\n};\r\n\r\n// ----- makeArray ----- //\r\n\r\n// turn element or nodeList into an array\r\nutils.makeArray = function( obj ) {\r\n  var ary = [];\r\n  if ( Array.isArray( obj ) ) {\r\n    // use object if already an array\r\n    ary = obj;\r\n  } else if ( obj && typeof obj == 'object' &&\r\n    typeof obj.length == 'number' ) {\r\n    // convert nodeList to array\r\n    for ( var i=0; i < obj.length; i++ ) {\r\n      ary.push( obj[i] );\r\n    }\r\n  } else {\r\n    // array of single index\r\n    ary.push( obj );\r\n  }\r\n  return ary;\r\n};\r\n\r\n// ----- removeFrom ----- //\r\n\r\nutils.removeFrom = function( ary, obj ) {\r\n  var index = ary.indexOf( obj );\r\n  if ( index != -1 ) {\r\n    ary.splice( index, 1 );\r\n  }\r\n};\r\n\r\n// ----- getParent ----- //\r\n\r\nutils.getParent = function( elem, selector ) {\r\n  while ( elem.parentNode && elem != document.body ) {\r\n    elem = elem.parentNode;\r\n    if ( matchesSelector( elem, selector ) ) {\r\n      return elem;\r\n    }\r\n  }\r\n};\r\n\r\n// ----- getQueryElement ----- //\r\n\r\n// use element as selector string\r\nutils.getQueryElement = function( elem ) {\r\n  if ( typeof elem == 'string' ) {\r\n    return document.querySelector( elem );\r\n  }\r\n  return elem;\r\n};\r\n\r\n// ----- handleEvent ----- //\r\n\r\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\r\nutils.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\n// ----- filterFindElements ----- //\r\n\r\nutils.filterFindElements = function( elems, selector ) {\r\n  // make array of elems\r\n  elems = utils.makeArray( elems );\r\n  var ffElems = [];\r\n\r\n  elems.forEach( function( elem ) {\r\n    // check that elem is an actual element\r\n    if ( !( elem instanceof HTMLElement ) ) {\r\n      return;\r\n    }\r\n    // add elem if no selector\r\n    if ( !selector ) {\r\n      ffElems.push( elem );\r\n      return;\r\n    }\r\n    // filter & find items if we have a selector\r\n    // filter\r\n    if ( matchesSelector( elem, selector ) ) {\r\n      ffElems.push( elem );\r\n    }\r\n    // find children\r\n    var childElems = elem.querySelectorAll( selector );\r\n    // concat childElems to filterFound array\r\n    for ( var i=0; i < childElems.length; i++ ) {\r\n      ffElems.push( childElems[i] );\r\n    }\r\n  });\r\n\r\n  return ffElems;\r\n};\r\n\r\n// ----- debounceMethod ----- //\r\n\r\nutils.debounceMethod = function( _class, methodName, threshold ) {\r\n  // original method\r\n  var method = _class.prototype[ methodName ];\r\n  var timeoutName = methodName + 'Timeout';\r\n\r\n  _class.prototype[ methodName ] = function() {\r\n    var timeout = this[ timeoutName ];\r\n    if ( timeout ) {\r\n      clearTimeout( timeout );\r\n    }\r\n    var args = arguments;\r\n\r\n    var _this = this;\r\n    this[ timeoutName ] = setTimeout( function() {\r\n      method.apply( _this, args );\r\n      delete _this[ timeoutName ];\r\n    }, threshold || 100 );\r\n  };\r\n};\r\n\r\n// ----- docReady ----- //\r\n\r\nutils.docReady = function( callback ) {\r\n  var readyState = document.readyState;\r\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\r\n    // do async to allow for other scripts to run. metafizzy/flickity#441\r\n    setTimeout( callback );\r\n  } else {\r\n    document.addEventListener( 'DOMContentLoaded', callback );\r\n  }\r\n};\r\n\r\n// ----- htmlInit ----- //\r\n\r\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\r\nutils.toDashed = function( str ) {\r\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\r\n    return $1 + '-' + $2;\r\n  }).toLowerCase();\r\n};\r\n\r\nvar console = window.console;\r\n/**\r\n * allow user to initialize classes via [data-namespace] or .js-namespace class\r\n * htmlInit( Widget, 'widgetName' )\r\n * options are parsed from data-namespace-options\r\n */\r\nutils.htmlInit = function( WidgetClass, namespace ) {\r\n  utils.docReady( function() {\r\n    var dashedNamespace = utils.toDashed( namespace );\r\n    var dataAttr = 'data-' + dashedNamespace;\r\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\r\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\r\n    var elems = utils.makeArray( dataAttrElems )\r\n      .concat( utils.makeArray( jsDashElems ) );\r\n    var dataOptionsAttr = dataAttr + '-options';\r\n    var jQuery = window.jQuery;\r\n\r\n    elems.forEach( function( elem ) {\r\n      var attr = elem.getAttribute( dataAttr ) ||\r\n        elem.getAttribute( dataOptionsAttr );\r\n      var options;\r\n      try {\r\n        options = attr && JSON.parse( attr );\r\n      } catch ( error ) {\r\n        // log error, do not initialize\r\n        if ( console ) {\r\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\r\n          ': ' + error );\r\n        }\r\n        return;\r\n      }\r\n      // initialize\r\n      var instance = new WidgetClass( elem, options );\r\n      // make available via $().data('namespace')\r\n      if ( jQuery ) {\r\n        jQuery.data( elem, namespace, instance );\r\n      }\r\n    });\r\n\r\n  });\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn utils;\r\n\r\n}));\r\n\r\n/**\r\n * Outlayer Item\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /* globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD - RequireJS\r\n    define( 'outlayer/item',[\r\n        'ev-emitter/ev-emitter',\r\n        'get-size/get-size'\r\n      ],\r\n      factory\r\n    );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory(\r\n      require('ev-emitter'),\r\n      require('get-size')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Outlayer = {};\r\n    window.Outlayer.Item = factory(\r\n      window.EvEmitter,\r\n      window.getSize\r\n    );\r\n  }\r\n\r\n}( window, function factory( EvEmitter, getSize ) {\r\n'use strict';\r\n\r\n// ----- helpers ----- //\r\n\r\nfunction isEmptyObj( obj ) {\r\n  for ( var prop in obj ) {\r\n    return false;\r\n  }\r\n  prop = null;\r\n  return true;\r\n}\r\n\r\n// -------------------------- CSS3 support -------------------------- //\r\n\r\n\r\nvar docElemStyle = document.documentElement.style;\r\n\r\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\r\n  'transition' : 'WebkitTransition';\r\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\r\n  'transform' : 'WebkitTransform';\r\n\r\nvar transitionEndEvent = {\r\n  WebkitTransition: 'webkitTransitionEnd',\r\n  transition: 'transitionend'\r\n}[ transitionProperty ];\r\n\r\n// cache all vendor properties that could have vendor prefix\r\nvar vendorProperties = {\r\n  transform: transformProperty,\r\n  transition: transitionProperty,\r\n  transitionDuration: transitionProperty + 'Duration',\r\n  transitionProperty: transitionProperty + 'Property',\r\n  transitionDelay: transitionProperty + 'Delay'\r\n};\r\n\r\n// -------------------------- Item -------------------------- //\r\n\r\nfunction Item( element, layout ) {\r\n  if ( !element ) {\r\n    return;\r\n  }\r\n\r\n  this.element = element;\r\n  // parent layout class, i.e. Masonry, Isotope, or Packery\r\n  this.layout = layout;\r\n  this.position = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n\r\n  this._create();\r\n}\r\n\r\n// inherit EvEmitter\r\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\r\nproto.constructor = Item;\r\n\r\nproto._create = function() {\r\n  // transition objects\r\n  this._transn = {\r\n    ingProperties: {},\r\n    clean: {},\r\n    onEnd: {}\r\n  };\r\n\r\n  this.css({\r\n    position: 'absolute'\r\n  });\r\n};\r\n\r\n// trigger specified handler for event type\r\nproto.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\nproto.getSize = function() {\r\n  this.size = getSize( this.element );\r\n};\r\n\r\n/**\r\n * apply CSS styles to element\r\n * @param {Object} style\r\n */\r\nproto.css = function( style ) {\r\n  var elemStyle = this.element.style;\r\n\r\n  for ( var prop in style ) {\r\n    // use vendor property if available\r\n    var supportedProp = vendorProperties[ prop ] || prop;\r\n    elemStyle[ supportedProp ] = style[ prop ];\r\n  }\r\n};\r\n\r\n // measure position, and sets it\r\nproto.getPosition = function() {\r\n  var style = getComputedStyle( this.element );\r\n  var isOriginLeft = this.layout._getOption('originLeft');\r\n  var isOriginTop = this.layout._getOption('originTop');\r\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\r\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\r\n  // convert percent to pixels\r\n  var layoutSize = this.layout.size;\r\n  var x = xValue.indexOf('%') != -1 ?\r\n    ( parseFloat( xValue ) / 100 ) * layoutSize.width : parseInt( xValue, 10 );\r\n  var y = yValue.indexOf('%') != -1 ?\r\n    ( parseFloat( yValue ) / 100 ) * layoutSize.height : parseInt( yValue, 10 );\r\n\r\n  // clean up 'auto' or other non-integer values\r\n  x = isNaN( x ) ? 0 : x;\r\n  y = isNaN( y ) ? 0 : y;\r\n  // remove padding from measurement\r\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\r\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\r\n\r\n  this.position.x = x;\r\n  this.position.y = y;\r\n};\r\n\r\n// set settled position, apply padding\r\nproto.layoutPosition = function() {\r\n  var layoutSize = this.layout.size;\r\n  var style = {};\r\n  var isOriginLeft = this.layout._getOption('originLeft');\r\n  var isOriginTop = this.layout._getOption('originTop');\r\n\r\n  // x\r\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\r\n  var xProperty = isOriginLeft ? 'left' : 'right';\r\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\r\n\r\n  var x = this.position.x + layoutSize[ xPadding ];\r\n  // set in percentage or pixels\r\n  style[ xProperty ] = this.getXValue( x );\r\n  // reset other property\r\n  style[ xResetProperty ] = '';\r\n\r\n  // y\r\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\r\n  var yProperty = isOriginTop ? 'top' : 'bottom';\r\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\r\n\r\n  var y = this.position.y + layoutSize[ yPadding ];\r\n  // set in percentage or pixels\r\n  style[ yProperty ] = this.getYValue( y );\r\n  // reset other property\r\n  style[ yResetProperty ] = '';\r\n\r\n  this.css( style );\r\n  this.emitEvent( 'layout', [ this ] );\r\n};\r\n\r\nproto.getXValue = function( x ) {\r\n  var isHorizontal = this.layout._getOption('horizontal');\r\n  return this.layout.options.percentPosition && !isHorizontal ?\r\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\r\n};\r\n\r\nproto.getYValue = function( y ) {\r\n  var isHorizontal = this.layout._getOption('horizontal');\r\n  return this.layout.options.percentPosition && isHorizontal ?\r\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\r\n};\r\n\r\nproto._transitionTo = function( x, y ) {\r\n  this.getPosition();\r\n  // get current x & y from top/left\r\n  var curX = this.position.x;\r\n  var curY = this.position.y;\r\n\r\n  var compareX = parseInt( x, 10 );\r\n  var compareY = parseInt( y, 10 );\r\n  var didNotMove = compareX === this.position.x && compareY === this.position.y;\r\n\r\n  // save end position\r\n  this.setPosition( x, y );\r\n\r\n  // if did not move and not transitioning, just go to layout\r\n  if ( didNotMove && !this.isTransitioning ) {\r\n    this.layoutPosition();\r\n    return;\r\n  }\r\n\r\n  var transX = x - curX;\r\n  var transY = y - curY;\r\n  var transitionStyle = {};\r\n  transitionStyle.transform = this.getTranslate( transX, transY );\r\n\r\n  this.transition({\r\n    to: transitionStyle,\r\n    onTransitionEnd: {\r\n      transform: this.layoutPosition\r\n    },\r\n    isCleaning: true\r\n  });\r\n};\r\n\r\nproto.getTranslate = function( x, y ) {\r\n  // flip cooridinates if origin on right or bottom\r\n  var isOriginLeft = this.layout._getOption('originLeft');\r\n  var isOriginTop = this.layout._getOption('originTop');\r\n  x = isOriginLeft ? x : -x;\r\n  y = isOriginTop ? y : -y;\r\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\r\n};\r\n\r\n// non transition + transform support\r\nproto.goTo = function( x, y ) {\r\n  this.setPosition( x, y );\r\n  this.layoutPosition();\r\n};\r\n\r\nproto.moveTo = proto._transitionTo;\r\n\r\nproto.setPosition = function( x, y ) {\r\n  this.position.x = parseInt( x, 10 );\r\n  this.position.y = parseInt( y, 10 );\r\n};\r\n\r\n// ----- transition ----- //\r\n\r\n/**\r\n * @param {Object} style - CSS\r\n * @param {Function} onTransitionEnd\r\n */\r\n\r\n// non transition, just trigger callback\r\nproto._nonTransition = function( args ) {\r\n  this.css( args.to );\r\n  if ( args.isCleaning ) {\r\n    this._removeStyles( args.to );\r\n  }\r\n  for ( var prop in args.onTransitionEnd ) {\r\n    args.onTransitionEnd[ prop ].call( this );\r\n  }\r\n};\r\n\r\n/**\r\n * proper transition\r\n * @param {Object} args - arguments\r\n *   @param {Object} to - style to transition to\r\n *   @param {Object} from - style to start transition from\r\n *   @param {Boolean} isCleaning - removes transition styles after transition\r\n *   @param {Function} onTransitionEnd - callback\r\n */\r\nproto.transition = function( args ) {\r\n  // redirect to nonTransition if no transition duration\r\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\r\n    this._nonTransition( args );\r\n    return;\r\n  }\r\n\r\n  var _transition = this._transn;\r\n  // keep track of onTransitionEnd callback by css property\r\n  for ( var prop in args.onTransitionEnd ) {\r\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\r\n  }\r\n  // keep track of properties that are transitioning\r\n  for ( prop in args.to ) {\r\n    _transition.ingProperties[ prop ] = true;\r\n    // keep track of properties to clean up when transition is done\r\n    if ( args.isCleaning ) {\r\n      _transition.clean[ prop ] = true;\r\n    }\r\n  }\r\n\r\n  // set from styles\r\n  if ( args.from ) {\r\n    this.css( args.from );\r\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\r\n    var h = this.element.offsetHeight;\r\n    // hack for JSHint to hush about unused var\r\n    h = null;\r\n  }\r\n  // enable transition\r\n  this.enableTransition( args.to );\r\n  // set styles that are transitioning\r\n  this.css( args.to );\r\n\r\n  this.isTransitioning = true;\r\n\r\n};\r\n\r\n// dash before all cap letters, including first for\r\n// WebkitTransform => -webkit-transform\r\nfunction toDashedAll( str ) {\r\n  return str.replace( /([A-Z])/g, function( $1 ) {\r\n    return '-' + $1.toLowerCase();\r\n  });\r\n}\r\n\r\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\r\n\r\nproto.enableTransition = function(/* style */) {\r\n  // HACK changing transitionProperty during a transition\r\n  // will cause transition to jump\r\n  if ( this.isTransitioning ) {\r\n    return;\r\n  }\r\n\r\n  // make `transition: foo, bar, baz` from style object\r\n  // HACK un-comment this when enableTransition can work\r\n  // while a transition is happening\r\n  // var transitionValues = [];\r\n  // for ( var prop in style ) {\r\n  //   // dash-ify camelCased properties like WebkitTransition\r\n  //   prop = vendorProperties[ prop ] || prop;\r\n  //   transitionValues.push( toDashedAll( prop ) );\r\n  // }\r\n  // munge number to millisecond, to match stagger\r\n  var duration = this.layout.options.transitionDuration;\r\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\r\n  // enable transition styles\r\n  this.css({\r\n    transitionProperty: transitionProps,\r\n    transitionDuration: duration,\r\n    transitionDelay: this.staggerDelay || 0\r\n  });\r\n  // listen for transition end event\r\n  this.element.addEventListener( transitionEndEvent, this, false );\r\n};\r\n\r\n// ----- events ----- //\r\n\r\nproto.onwebkitTransitionEnd = function( event ) {\r\n  this.ontransitionend( event );\r\n};\r\n\r\nproto.onotransitionend = function( event ) {\r\n  this.ontransitionend( event );\r\n};\r\n\r\n// properties that I munge to make my life easier\r\nvar dashedVendorProperties = {\r\n  '-webkit-transform': 'transform'\r\n};\r\n\r\nproto.ontransitionend = function( event ) {\r\n  // disregard bubbled events from children\r\n  if ( event.target !== this.element ) {\r\n    return;\r\n  }\r\n  var _transition = this._transn;\r\n  // get property name of transitioned property, convert to prefix-free\r\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\r\n\r\n  // remove property that has completed transitioning\r\n  delete _transition.ingProperties[ propertyName ];\r\n  // check if any properties are still transitioning\r\n  if ( isEmptyObj( _transition.ingProperties ) ) {\r\n    // all properties have completed transitioning\r\n    this.disableTransition();\r\n  }\r\n  // clean style\r\n  if ( propertyName in _transition.clean ) {\r\n    // clean up style\r\n    this.element.style[ event.propertyName ] = '';\r\n    delete _transition.clean[ propertyName ];\r\n  }\r\n  // trigger onTransitionEnd callback\r\n  if ( propertyName in _transition.onEnd ) {\r\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\r\n    onTransitionEnd.call( this );\r\n    delete _transition.onEnd[ propertyName ];\r\n  }\r\n\r\n  this.emitEvent( 'transitionEnd', [ this ] );\r\n};\r\n\r\nproto.disableTransition = function() {\r\n  this.removeTransitionStyles();\r\n  this.element.removeEventListener( transitionEndEvent, this, false );\r\n  this.isTransitioning = false;\r\n};\r\n\r\n/**\r\n * removes style property from element\r\n * @param {Object} style\r\n**/\r\nproto._removeStyles = function( style ) {\r\n  // clean up transition styles\r\n  var cleanStyle = {};\r\n  for ( var prop in style ) {\r\n    cleanStyle[ prop ] = '';\r\n  }\r\n  this.css( cleanStyle );\r\n};\r\n\r\nvar cleanTransitionStyle = {\r\n  transitionProperty: '',\r\n  transitionDuration: '',\r\n  transitionDelay: ''\r\n};\r\n\r\nproto.removeTransitionStyles = function() {\r\n  // remove transition\r\n  this.css( cleanTransitionStyle );\r\n};\r\n\r\n// ----- stagger ----- //\r\n\r\nproto.stagger = function( delay ) {\r\n  delay = isNaN( delay ) ? 0 : delay;\r\n  this.staggerDelay = delay + 'ms';\r\n};\r\n\r\n// ----- show/hide/remove ----- //\r\n\r\n// remove element from DOM\r\nproto.removeElem = function() {\r\n  this.element.parentNode.removeChild( this.element );\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n  this.emitEvent( 'remove', [ this ] );\r\n};\r\n\r\nproto.remove = function() {\r\n  // just remove element if no transition support or no transition\r\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\r\n    this.removeElem();\r\n    return;\r\n  }\r\n\r\n  // start transition\r\n  this.once( 'transitionEnd', function() {\r\n    this.removeElem();\r\n  });\r\n  this.hide();\r\n};\r\n\r\nproto.reveal = function() {\r\n  delete this.isHidden;\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n\r\n  var options = this.layout.options;\r\n\r\n  var onTransitionEnd = {};\r\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\r\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\r\n\r\n  this.transition({\r\n    from: options.hiddenStyle,\r\n    to: options.visibleStyle,\r\n    isCleaning: true,\r\n    onTransitionEnd: onTransitionEnd\r\n  });\r\n};\r\n\r\nproto.onRevealTransitionEnd = function() {\r\n  // check if still visible\r\n  // during transition, item may have been hidden\r\n  if ( !this.isHidden ) {\r\n    this.emitEvent('reveal');\r\n  }\r\n};\r\n\r\n/**\r\n * get style property use for hide/reveal transition end\r\n * @param {String} styleProperty - hiddenStyle/visibleStyle\r\n * @returns {String}\r\n */\r\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\r\n  var optionStyle = this.layout.options[ styleProperty ];\r\n  // use opacity\r\n  if ( optionStyle.opacity ) {\r\n    return 'opacity';\r\n  }\r\n  // get first property\r\n  for ( var prop in optionStyle ) {\r\n    return prop;\r\n  }\r\n};\r\n\r\nproto.hide = function() {\r\n  // set flag\r\n  this.isHidden = true;\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n\r\n  var options = this.layout.options;\r\n\r\n  var onTransitionEnd = {};\r\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\r\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\r\n\r\n  this.transition({\r\n    from: options.visibleStyle,\r\n    to: options.hiddenStyle,\r\n    // keep hidden stuff hidden\r\n    isCleaning: true,\r\n    onTransitionEnd: onTransitionEnd\r\n  });\r\n};\r\n\r\nproto.onHideTransitionEnd = function() {\r\n  // check if still hidden\r\n  // during transition, item may have been un-hidden\r\n  if ( this.isHidden ) {\r\n    this.css({ display: 'none' });\r\n    this.emitEvent('hide');\r\n  }\r\n};\r\n\r\nproto.destroy = function() {\r\n  this.css({\r\n    position: '',\r\n    left: '',\r\n    right: '',\r\n    top: '',\r\n    bottom: '',\r\n    transition: '',\r\n    transform: ''\r\n  });\r\n};\r\n\r\nreturn Item;\r\n\r\n}));\r\n\r\n/*!\r\n * Outlayer v2.1.0\r\n * the brains and guts of a layout library\r\n * MIT license\r\n */\r\n\r\n( function( window, factory ) {\r\n  'use strict';\r\n  // universal module definition\r\n  /* jshint strict: false */ /* globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD - RequireJS\r\n    define( 'outlayer/outlayer',[\r\n        'ev-emitter/ev-emitter',\r\n        'get-size/get-size',\r\n        'fizzy-ui-utils/utils',\r\n        './item'\r\n      ],\r\n      function( EvEmitter, getSize, utils, Item ) {\r\n        return factory( window, EvEmitter, getSize, utils, Item);\r\n      }\r\n    );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory(\r\n      window,\r\n      require('ev-emitter'),\r\n      require('get-size'),\r\n      require('fizzy-ui-utils'),\r\n      require('./item')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Outlayer = factory(\r\n      window,\r\n      window.EvEmitter,\r\n      window.getSize,\r\n      window.fizzyUIUtils,\r\n      window.Outlayer.Item\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\r\n'use strict';\r\n\r\n// ----- vars ----- //\r\n\r\nvar console = window.console;\r\nvar jQuery = window.jQuery;\r\nvar noop = function() {};\r\n\r\n// -------------------------- Outlayer -------------------------- //\r\n\r\n// globally unique identifiers\r\nvar GUID = 0;\r\n// internal store of all Outlayer intances\r\nvar instances = {};\r\n\r\n\r\n/**\r\n * @param {Element, String} element\r\n * @param {Object} options\r\n * @constructor\r\n */\r\nfunction Outlayer( element, options ) {\r\n  var queryElement = utils.getQueryElement( element );\r\n  if ( !queryElement ) {\r\n    if ( console ) {\r\n      console.error( 'Bad element for ' + this.constructor.namespace +\r\n        ': ' + ( queryElement || element ) );\r\n    }\r\n    return;\r\n  }\r\n  this.element = queryElement;\r\n  // add jQuery\r\n  if ( jQuery ) {\r\n    this.$element = jQuery( this.element );\r\n  }\r\n\r\n  // options\r\n  this.options = utils.extend( {}, this.constructor.defaults );\r\n  this.option( options );\r\n\r\n  // add id for Outlayer.getFromElement\r\n  var id = ++GUID;\r\n  this.element.outlayerGUID = id; // expando\r\n  instances[ id ] = this; // associate via id\r\n\r\n  // kick it off\r\n  this._create();\r\n\r\n  var isInitLayout = this._getOption('initLayout');\r\n  if ( isInitLayout ) {\r\n    this.layout();\r\n  }\r\n}\r\n\r\n// settings are for internal use only\r\nOutlayer.namespace = 'outlayer';\r\nOutlayer.Item = Item;\r\n\r\n// default options\r\nOutlayer.defaults = {\r\n  containerStyle: {\r\n    position: 'relative'\r\n  },\r\n  initLayout: true,\r\n  originLeft: true,\r\n  originTop: true,\r\n  resize: true,\r\n  resizeContainer: true,\r\n  // item options\r\n  transitionDuration: '0.4s',\r\n  hiddenStyle: {\r\n    opacity: 0,\r\n    transform: 'scale(0.001)'\r\n  },\r\n  visibleStyle: {\r\n    opacity: 1,\r\n    transform: 'scale(1)'\r\n  }\r\n};\r\n\r\nvar proto = Outlayer.prototype;\r\n// inherit EvEmitter\r\nutils.extend( proto, EvEmitter.prototype );\r\n\r\n/**\r\n * set options\r\n * @param {Object} opts\r\n */\r\nproto.option = function( opts ) {\r\n  utils.extend( this.options, opts );\r\n};\r\n\r\n/**\r\n * get backwards compatible option value, check old name\r\n */\r\nproto._getOption = function( option ) {\r\n  var oldOption = this.constructor.compatOptions[ option ];\r\n  return oldOption && this.options[ oldOption ] !== undefined ?\r\n    this.options[ oldOption ] : this.options[ option ];\r\n};\r\n\r\nOutlayer.compatOptions = {\r\n  // currentName: oldName\r\n  initLayout: 'isInitLayout',\r\n  horizontal: 'isHorizontal',\r\n  layoutInstant: 'isLayoutInstant',\r\n  originLeft: 'isOriginLeft',\r\n  originTop: 'isOriginTop',\r\n  resize: 'isResizeBound',\r\n  resizeContainer: 'isResizingContainer'\r\n};\r\n\r\nproto._create = function() {\r\n  // get items from children\r\n  this.reloadItems();\r\n  // elements that affect layout, but are not laid out\r\n  this.stamps = [];\r\n  this.stamp( this.options.stamp );\r\n  // set container style\r\n  utils.extend( this.element.style, this.options.containerStyle );\r\n\r\n  // bind resize method\r\n  var canBindResize = this._getOption('resize');\r\n  if ( canBindResize ) {\r\n    this.bindResize();\r\n  }\r\n};\r\n\r\n// goes through all children again and gets bricks in proper order\r\nproto.reloadItems = function() {\r\n  // collection of item elements\r\n  this.items = this._itemize( this.element.children );\r\n};\r\n\r\n\r\n/**\r\n * turn elements into Outlayer.Items to be used in layout\r\n * @param {Array or NodeList or HTMLElement} elems\r\n * @returns {Array} items - collection of new Outlayer Items\r\n */\r\nproto._itemize = function( elems ) {\r\n\r\n  var itemElems = this._filterFindItemElements( elems );\r\n  var Item = this.constructor.Item;\r\n\r\n  // create new Outlayer Items for collection\r\n  var items = [];\r\n  for ( var i=0; i < itemElems.length; i++ ) {\r\n    var elem = itemElems[i];\r\n    var item = new Item( elem, this );\r\n    items.push( item );\r\n  }\r\n\r\n  return items;\r\n};\r\n\r\n/**\r\n * get item elements to be used in layout\r\n * @param {Array or NodeList or HTMLElement} elems\r\n * @returns {Array} items - item elements\r\n */\r\nproto._filterFindItemElements = function( elems ) {\r\n  return utils.filterFindElements( elems, this.options.itemSelector );\r\n};\r\n\r\n/**\r\n * getter method for getting item elements\r\n * @returns {Array} elems - collection of item elements\r\n */\r\nproto.getItemElements = function() {\r\n  return this.items.map( function( item ) {\r\n    return item.element;\r\n  });\r\n};\r\n\r\n// ----- init & layout ----- //\r\n\r\n/**\r\n * lays out all items\r\n */\r\nproto.layout = function() {\r\n  this._resetLayout();\r\n  this._manageStamps();\r\n\r\n  // don't animate first layout\r\n  var layoutInstant = this._getOption('layoutInstant');\r\n  var isInstant = layoutInstant !== undefined ?\r\n    layoutInstant : !this._isLayoutInited;\r\n  this.layoutItems( this.items, isInstant );\r\n\r\n  // flag for initalized\r\n  this._isLayoutInited = true;\r\n};\r\n\r\n// _init is alias for layout\r\nproto._init = proto.layout;\r\n\r\n/**\r\n * logic before any new layout\r\n */\r\nproto._resetLayout = function() {\r\n  this.getSize();\r\n};\r\n\r\n\r\nproto.getSize = function() {\r\n  this.size = getSize( this.element );\r\n};\r\n\r\n/**\r\n * get measurement from option, for columnWidth, rowHeight, gutter\r\n * if option is String -> get element from selector string, & get size of element\r\n * if option is Element -> get size of element\r\n * else use option as a number\r\n *\r\n * @param {String} measurement\r\n * @param {String} size - width or height\r\n * @private\r\n */\r\nproto._getMeasurement = function( measurement, size ) {\r\n  var option = this.options[ measurement ];\r\n  var elem;\r\n  if ( !option ) {\r\n    // default to 0\r\n    this[ measurement ] = 0;\r\n  } else {\r\n    // use option as an element\r\n    if ( typeof option == 'string' ) {\r\n      elem = this.element.querySelector( option );\r\n    } else if ( option instanceof HTMLElement ) {\r\n      elem = option;\r\n    }\r\n    // use size of element, if element\r\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\r\n  }\r\n};\r\n\r\n/**\r\n * layout a collection of item elements\r\n * @api public\r\n */\r\nproto.layoutItems = function( items, isInstant ) {\r\n  items = this._getItemsForLayout( items );\r\n\r\n  this._layoutItems( items, isInstant );\r\n\r\n  this._postLayout();\r\n};\r\n\r\n/**\r\n * get the items to be laid out\r\n * you may want to skip over some items\r\n * @param {Array} items\r\n * @returns {Array} items\r\n */\r\nproto._getItemsForLayout = function( items ) {\r\n  return items.filter( function( item ) {\r\n    return !item.isIgnored;\r\n  });\r\n};\r\n\r\n/**\r\n * layout items\r\n * @param {Array} items\r\n * @param {Boolean} isInstant\r\n */\r\nproto._layoutItems = function( items, isInstant ) {\r\n  this._emitCompleteOnItems( 'layout', items );\r\n\r\n  if ( !items || !items.length ) {\r\n    // no items, emit event with empty array\r\n    return;\r\n  }\r\n\r\n  var queue = [];\r\n\r\n  items.forEach( function( item ) {\r\n    // get x/y object from method\r\n    var position = this._getItemLayoutPosition( item );\r\n    // enqueue\r\n    position.item = item;\r\n    position.isInstant = isInstant || item.isLayoutInstant;\r\n    queue.push( position );\r\n  }, this );\r\n\r\n  this._processLayoutQueue( queue );\r\n};\r\n\r\n/**\r\n * get item layout position\r\n * @param {Outlayer.Item} item\r\n * @returns {Object} x and y position\r\n */\r\nproto._getItemLayoutPosition = function( /* item */ ) {\r\n  return {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n};\r\n\r\n/**\r\n * iterate over array and position each item\r\n * Reason being - separating this logic prevents 'layout invalidation'\r\n * thx @paul_irish\r\n * @param {Array} queue\r\n */\r\nproto._processLayoutQueue = function( queue ) {\r\n  this.updateStagger();\r\n  queue.forEach( function( obj, i ) {\r\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\r\n  }, this );\r\n};\r\n\r\n// set stagger from option in milliseconds number\r\nproto.updateStagger = function() {\r\n  var stagger = this.options.stagger;\r\n  if ( stagger === null || stagger === undefined ) {\r\n    this.stagger = 0;\r\n    return;\r\n  }\r\n  this.stagger = getMilliseconds( stagger );\r\n  return this.stagger;\r\n};\r\n\r\n/**\r\n * Sets position of item in DOM\r\n * @param {Outlayer.Item} item\r\n * @param {Number} x - horizontal position\r\n * @param {Number} y - vertical position\r\n * @param {Boolean} isInstant - disables transitions\r\n */\r\nproto._positionItem = function( item, x, y, isInstant, i ) {\r\n  if ( isInstant ) {\r\n    // if not transition, just set CSS\r\n    item.goTo( x, y );\r\n  } else {\r\n    item.stagger( i * this.stagger );\r\n    item.moveTo( x, y );\r\n  }\r\n};\r\n\r\n/**\r\n * Any logic you want to do after each layout,\r\n * i.e. size the container\r\n */\r\nproto._postLayout = function() {\r\n  this.resizeContainer();\r\n};\r\n\r\nproto.resizeContainer = function() {\r\n  var isResizingContainer = this._getOption('resizeContainer');\r\n  if ( !isResizingContainer ) {\r\n    return;\r\n  }\r\n  var size = this._getContainerSize();\r\n  if ( size ) {\r\n    this._setContainerMeasure( size.width, true );\r\n    this._setContainerMeasure( size.height, false );\r\n  }\r\n};\r\n\r\n/**\r\n * Sets width or height of container if returned\r\n * @returns {Object} size\r\n *   @param {Number} width\r\n *   @param {Number} height\r\n */\r\nproto._getContainerSize = noop;\r\n\r\n/**\r\n * @param {Number} measure - size of width or height\r\n * @param {Boolean} isWidth\r\n */\r\nproto._setContainerMeasure = function( measure, isWidth ) {\r\n  if ( measure === undefined ) {\r\n    return;\r\n  }\r\n\r\n  var elemSize = this.size;\r\n  // add padding and border width if border box\r\n  if ( elemSize.isBorderBox ) {\r\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\r\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\r\n      elemSize.paddingBottom + elemSize.paddingTop +\r\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\r\n  }\r\n\r\n  measure = Math.max( measure, 0 );\r\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\r\n};\r\n\r\n/**\r\n * emit eventComplete on a collection of items events\r\n * @param {String} eventName\r\n * @param {Array} items - Outlayer.Items\r\n */\r\nproto._emitCompleteOnItems = function( eventName, items ) {\r\n  var _this = this;\r\n  function onComplete() {\r\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\r\n  }\r\n\r\n  var count = items.length;\r\n  if ( !items || !count ) {\r\n    onComplete();\r\n    return;\r\n  }\r\n\r\n  var doneCount = 0;\r\n  function tick() {\r\n    doneCount++;\r\n    if ( doneCount == count ) {\r\n      onComplete();\r\n    }\r\n  }\r\n\r\n  // bind callback\r\n  items.forEach( function( item ) {\r\n    item.once( eventName, tick );\r\n  });\r\n};\r\n\r\n/**\r\n * emits events via EvEmitter and jQuery events\r\n * @param {String} type - name of event\r\n * @param {Event} event - original event\r\n * @param {Array} args - extra arguments\r\n */\r\nproto.dispatchEvent = function( type, event, args ) {\r\n  // add original event to arguments\r\n  var emitArgs = event ? [ event ].concat( args ) : args;\r\n  this.emitEvent( type, emitArgs );\r\n\r\n  if ( jQuery ) {\r\n    // set this.$element\r\n    this.$element = this.$element || jQuery( this.element );\r\n    if ( event ) {\r\n      // create jQuery event\r\n      var $event = jQuery.Event( event );\r\n      $event.type = type;\r\n      this.$element.trigger( $event, args );\r\n    } else {\r\n      // just trigger with type if no event available\r\n      this.$element.trigger( type, args );\r\n    }\r\n  }\r\n};\r\n\r\n// -------------------------- ignore & stamps -------------------------- //\r\n\r\n\r\n/**\r\n * keep item in collection, but do not lay it out\r\n * ignored items do not get skipped in layout\r\n * @param {Element} elem\r\n */\r\nproto.ignore = function( elem ) {\r\n  var item = this.getItem( elem );\r\n  if ( item ) {\r\n    item.isIgnored = true;\r\n  }\r\n};\r\n\r\n/**\r\n * return item to layout collection\r\n * @param {Element} elem\r\n */\r\nproto.unignore = function( elem ) {\r\n  var item = this.getItem( elem );\r\n  if ( item ) {\r\n    delete item.isIgnored;\r\n  }\r\n};\r\n\r\n/**\r\n * adds elements to stamps\r\n * @param {NodeList, Array, Element, or String} elems\r\n */\r\nproto.stamp = function( elems ) {\r\n  elems = this._find( elems );\r\n  if ( !elems ) {\r\n    return;\r\n  }\r\n\r\n  this.stamps = this.stamps.concat( elems );\r\n  // ignore\r\n  elems.forEach( this.ignore, this );\r\n};\r\n\r\n/**\r\n * removes elements to stamps\r\n * @param {NodeList, Array, or Element} elems\r\n */\r\nproto.unstamp = function( elems ) {\r\n  elems = this._find( elems );\r\n  if ( !elems ){\r\n    return;\r\n  }\r\n\r\n  elems.forEach( function( elem ) {\r\n    // filter out removed stamp elements\r\n    utils.removeFrom( this.stamps, elem );\r\n    this.unignore( elem );\r\n  }, this );\r\n};\r\n\r\n/**\r\n * finds child elements\r\n * @param {NodeList, Array, Element, or String} elems\r\n * @returns {Array} elems\r\n */\r\nproto._find = function( elems ) {\r\n  if ( !elems ) {\r\n    return;\r\n  }\r\n  // if string, use argument as selector string\r\n  if ( typeof elems == 'string' ) {\r\n    elems = this.element.querySelectorAll( elems );\r\n  }\r\n  elems = utils.makeArray( elems );\r\n  return elems;\r\n};\r\n\r\nproto._manageStamps = function() {\r\n  if ( !this.stamps || !this.stamps.length ) {\r\n    return;\r\n  }\r\n\r\n  this._getBoundingRect();\r\n\r\n  this.stamps.forEach( this._manageStamp, this );\r\n};\r\n\r\n// update boundingLeft / Top\r\nproto._getBoundingRect = function() {\r\n  // get bounding rect for container element\r\n  var boundingRect = this.element.getBoundingClientRect();\r\n  var size = this.size;\r\n  this._boundingRect = {\r\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\r\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\r\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\r\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\r\n  };\r\n};\r\n\r\n/**\r\n * @param {Element} stamp\r\n**/\r\nproto._manageStamp = noop;\r\n\r\n/**\r\n * get x/y position of element relative to container element\r\n * @param {Element} elem\r\n * @returns {Object} offset - has left, top, right, bottom\r\n */\r\nproto._getElementOffset = function( elem ) {\r\n  var boundingRect = elem.getBoundingClientRect();\r\n  var thisRect = this._boundingRect;\r\n  var size = getSize( elem );\r\n  var offset = {\r\n    left: boundingRect.left - thisRect.left - size.marginLeft,\r\n    top: boundingRect.top - thisRect.top - size.marginTop,\r\n    right: thisRect.right - boundingRect.right - size.marginRight,\r\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\r\n  };\r\n  return offset;\r\n};\r\n\r\n// -------------------------- resize -------------------------- //\r\n\r\n// enable event handlers for listeners\r\n// i.e. resize -> onresize\r\nproto.handleEvent = utils.handleEvent;\r\n\r\n/**\r\n * Bind layout to window resizing\r\n */\r\nproto.bindResize = function() {\r\n  window.addEventListener( 'resize', this );\r\n  this.isResizeBound = true;\r\n};\r\n\r\n/**\r\n * Unbind layout to window resizing\r\n */\r\nproto.unbindResize = function() {\r\n  window.removeEventListener( 'resize', this );\r\n  this.isResizeBound = false;\r\n};\r\n\r\nproto.onresize = function() {\r\n  this.resize();\r\n};\r\n\r\nutils.debounceMethod( Outlayer, 'onresize', 100 );\r\n\r\nproto.resize = function() {\r\n  // don't trigger if size did not change\r\n  // or if resize was unbound. See #9\r\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\r\n    return;\r\n  }\r\n\r\n  this.layout();\r\n};\r\n\r\n/**\r\n * check if layout is needed post layout\r\n * @returns Boolean\r\n */\r\nproto.needsResizeLayout = function() {\r\n  var size = getSize( this.element );\r\n  // check that this.size and size are there\r\n  // IE8 triggers resize on body size change, so they might not be\r\n  var hasSizes = this.size && size;\r\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\r\n};\r\n\r\n// -------------------------- methods -------------------------- //\r\n\r\n/**\r\n * add items to Outlayer instance\r\n * @param {Array or NodeList or Element} elems\r\n * @returns {Array} items - Outlayer.Items\r\n**/\r\nproto.addItems = function( elems ) {\r\n  var items = this._itemize( elems );\r\n  // add items to collection\r\n  if ( items.length ) {\r\n    this.items = this.items.concat( items );\r\n  }\r\n  return items;\r\n};\r\n\r\n/**\r\n * Layout newly-appended item elements\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nproto.appended = function( elems ) {\r\n  var items = this.addItems( elems );\r\n  if ( !items.length ) {\r\n    return;\r\n  }\r\n  // layout and reveal just the new items\r\n  this.layoutItems( items, true );\r\n  this.reveal( items );\r\n};\r\n\r\n/**\r\n * Layout prepended elements\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nproto.prepended = function( elems ) {\r\n  var items = this._itemize( elems );\r\n  if ( !items.length ) {\r\n    return;\r\n  }\r\n  // add items to beginning of collection\r\n  var previousItems = this.items.slice(0);\r\n  this.items = items.concat( previousItems );\r\n  // start new layout\r\n  this._resetLayout();\r\n  this._manageStamps();\r\n  // layout new stuff without transition\r\n  this.layoutItems( items, true );\r\n  this.reveal( items );\r\n  // layout previous items\r\n  this.layoutItems( previousItems );\r\n};\r\n\r\n/**\r\n * reveal a collection of items\r\n * @param {Array of Outlayer.Items} items\r\n */\r\nproto.reveal = function( items ) {\r\n  this._emitCompleteOnItems( 'reveal', items );\r\n  if ( !items || !items.length ) {\r\n    return;\r\n  }\r\n  var stagger = this.updateStagger();\r\n  items.forEach( function( item, i ) {\r\n    item.stagger( i * stagger );\r\n    item.reveal();\r\n  });\r\n};\r\n\r\n/**\r\n * hide a collection of items\r\n * @param {Array of Outlayer.Items} items\r\n */\r\nproto.hide = function( items ) {\r\n  this._emitCompleteOnItems( 'hide', items );\r\n  if ( !items || !items.length ) {\r\n    return;\r\n  }\r\n  var stagger = this.updateStagger();\r\n  items.forEach( function( item, i ) {\r\n    item.stagger( i * stagger );\r\n    item.hide();\r\n  });\r\n};\r\n\r\n/**\r\n * reveal item elements\r\n * @param {Array}, {Element}, {NodeList} items\r\n */\r\nproto.revealItemElements = function( elems ) {\r\n  var items = this.getItems( elems );\r\n  this.reveal( items );\r\n};\r\n\r\n/**\r\n * hide item elements\r\n * @param {Array}, {Element}, {NodeList} items\r\n */\r\nproto.hideItemElements = function( elems ) {\r\n  var items = this.getItems( elems );\r\n  this.hide( items );\r\n};\r\n\r\n/**\r\n * get Outlayer.Item, given an Element\r\n * @param {Element} elem\r\n * @param {Function} callback\r\n * @returns {Outlayer.Item} item\r\n */\r\nproto.getItem = function( elem ) {\r\n  // loop through items to get the one that matches\r\n  for ( var i=0; i < this.items.length; i++ ) {\r\n    var item = this.items[i];\r\n    if ( item.element == elem ) {\r\n      // return item\r\n      return item;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * get collection of Outlayer.Items, given Elements\r\n * @param {Array} elems\r\n * @returns {Array} items - Outlayer.Items\r\n */\r\nproto.getItems = function( elems ) {\r\n  elems = utils.makeArray( elems );\r\n  var items = [];\r\n  elems.forEach( function( elem ) {\r\n    var item = this.getItem( elem );\r\n    if ( item ) {\r\n      items.push( item );\r\n    }\r\n  }, this );\r\n\r\n  return items;\r\n};\r\n\r\n/**\r\n * remove element(s) from instance and DOM\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nproto.remove = function( elems ) {\r\n  var removeItems = this.getItems( elems );\r\n\r\n  this._emitCompleteOnItems( 'remove', removeItems );\r\n\r\n  // bail if no items to remove\r\n  if ( !removeItems || !removeItems.length ) {\r\n    return;\r\n  }\r\n\r\n  removeItems.forEach( function( item ) {\r\n    item.remove();\r\n    // remove item from collection\r\n    utils.removeFrom( this.items, item );\r\n  }, this );\r\n};\r\n\r\n// ----- destroy ----- //\r\n\r\n// remove and disable Outlayer instance\r\nproto.destroy = function() {\r\n  // clean up dynamic styles\r\n  var style = this.element.style;\r\n  style.height = '';\r\n  style.position = '';\r\n  style.width = '';\r\n  // destroy items\r\n  this.items.forEach( function( item ) {\r\n    item.destroy();\r\n  });\r\n\r\n  this.unbindResize();\r\n\r\n  var id = this.element.outlayerGUID;\r\n  delete instances[ id ]; // remove reference to instance by id\r\n  delete this.element.outlayerGUID;\r\n  // remove data for jQuery\r\n  if ( jQuery ) {\r\n    jQuery.removeData( this.element, this.constructor.namespace );\r\n  }\r\n\r\n};\r\n\r\n// -------------------------- data -------------------------- //\r\n\r\n/**\r\n * get Outlayer instance from element\r\n * @param {Element} elem\r\n * @returns {Outlayer}\r\n */\r\nOutlayer.data = function( elem ) {\r\n  elem = utils.getQueryElement( elem );\r\n  var id = elem && elem.outlayerGUID;\r\n  return id && instances[ id ];\r\n};\r\n\r\n\r\n// -------------------------- create Outlayer class -------------------------- //\r\n\r\n/**\r\n * create a layout class\r\n * @param {String} namespace\r\n */\r\nOutlayer.create = function( namespace, options ) {\r\n  // sub-class Outlayer\r\n  var Layout = subclass( Outlayer );\r\n  // apply new options and compatOptions\r\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\r\n  utils.extend( Layout.defaults, options );\r\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\r\n\r\n  Layout.namespace = namespace;\r\n\r\n  Layout.data = Outlayer.data;\r\n\r\n  // sub-class Item\r\n  Layout.Item = subclass( Item );\r\n\r\n  // -------------------------- declarative -------------------------- //\r\n\r\n  utils.htmlInit( Layout, namespace );\r\n\r\n  // -------------------------- jQuery bridge -------------------------- //\r\n\r\n  // make into jQuery plugin\r\n  if ( jQuery && jQuery.bridget ) {\r\n    jQuery.bridget( namespace, Layout );\r\n  }\r\n\r\n  return Layout;\r\n};\r\n\r\nfunction subclass( Parent ) {\r\n  function SubClass() {\r\n    Parent.apply( this, arguments );\r\n  }\r\n\r\n  SubClass.prototype = Object.create( Parent.prototype );\r\n  SubClass.prototype.constructor = SubClass;\r\n\r\n  return SubClass;\r\n}\r\n\r\n// ----- helpers ----- //\r\n\r\n// how many milliseconds are in each unit\r\nvar msUnits = {\r\n  ms: 1,\r\n  s: 1000\r\n};\r\n\r\n// munge time-like parameter into millisecond number\r\n// '0.4s' -> 40\r\nfunction getMilliseconds( time ) {\r\n  if ( typeof time == 'number' ) {\r\n    return time;\r\n  }\r\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\r\n  var num = matches && matches[1];\r\n  var unit = matches && matches[2];\r\n  if ( !num.length ) {\r\n    return 0;\r\n  }\r\n  num = parseFloat( num );\r\n  var mult = msUnits[ unit ] || 1;\r\n  return num * mult;\r\n}\r\n\r\n// ----- fin ----- //\r\n\r\n// back in global\r\nOutlayer.Item = Item;\r\n\r\nreturn Outlayer;\r\n\r\n}));\r\n\r\n/**\r\n * Isotope Item\r\n**/\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'isotope/js/item',[\r\n        'outlayer/outlayer'\r\n      ],\r\n      factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('outlayer')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Isotope = window.Isotope || {};\r\n    window.Isotope.Item = factory(\r\n      window.Outlayer\r\n    );\r\n  }\r\n\r\n}( window, function factory( Outlayer ) {\r\n'use strict';\r\n\r\n// -------------------------- Item -------------------------- //\r\n\r\n// sub-class Outlayer Item\r\nfunction Item() {\r\n  Outlayer.Item.apply( this, arguments );\r\n}\r\n\r\nvar proto = Item.prototype = Object.create( Outlayer.Item.prototype );\r\n\r\nvar _create = proto._create;\r\nproto._create = function() {\r\n  // assign id, used for original-order sorting\r\n  this.id = this.layout.itemGUID++;\r\n  _create.call( this );\r\n  this.sortData = {};\r\n};\r\n\r\nproto.updateSortData = function() {\r\n  if ( this.isIgnored ) {\r\n    return;\r\n  }\r\n  // default sorters\r\n  this.sortData.id = this.id;\r\n  // for backward compatibility\r\n  this.sortData['original-order'] = this.id;\r\n  this.sortData.random = Math.random();\r\n  // go thru getSortData obj and apply the sorters\r\n  var getSortData = this.layout.options.getSortData;\r\n  var sorters = this.layout._sorters;\r\n  for ( var key in getSortData ) {\r\n    var sorter = sorters[ key ];\r\n    this.sortData[ key ] = sorter( this.element, this );\r\n  }\r\n};\r\n\r\nvar _destroy = proto.destroy;\r\nproto.destroy = function() {\r\n  // call super\r\n  _destroy.apply( this, arguments );\r\n  // reset display, #741\r\n  this.css({\r\n    display: ''\r\n  });\r\n};\r\n\r\nreturn Item;\r\n\r\n}));\r\n\r\n/**\r\n * Isotope LayoutMode\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'isotope/js/layout-mode',[\r\n        'get-size/get-size',\r\n        'outlayer/outlayer'\r\n      ],\r\n      factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('get-size'),\r\n      require('outlayer')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Isotope = window.Isotope || {};\r\n    window.Isotope.LayoutMode = factory(\r\n      window.getSize,\r\n      window.Outlayer\r\n    );\r\n  }\r\n\r\n}( window, function factory( getSize, Outlayer ) {\r\n  'use strict';\r\n\r\n  // layout mode class\r\n  function LayoutMode( isotope ) {\r\n    this.isotope = isotope;\r\n    // link properties\r\n    if ( isotope ) {\r\n      this.options = isotope.options[ this.namespace ];\r\n      this.element = isotope.element;\r\n      this.items = isotope.filteredItems;\r\n      this.size = isotope.size;\r\n    }\r\n  }\r\n\r\n  var proto = LayoutMode.prototype;\r\n\r\n  /**\r\n   * some methods should just defer to default Outlayer method\r\n   * and reference the Isotope instance as `this`\r\n  **/\r\n  var facadeMethods = [\r\n    '_resetLayout',\r\n    '_getItemLayoutPosition',\r\n    '_manageStamp',\r\n    '_getContainerSize',\r\n    '_getElementOffset',\r\n    'needsResizeLayout',\r\n    '_getOption'\r\n  ];\r\n\r\n  facadeMethods.forEach( function( methodName ) {\r\n    proto[ methodName ] = function() {\r\n      return Outlayer.prototype[ methodName ].apply( this.isotope, arguments );\r\n    };\r\n  });\r\n\r\n  // -----  ----- //\r\n\r\n  // for horizontal layout modes, check vertical size\r\n  proto.needsVerticalResizeLayout = function() {\r\n    // don't trigger if size did not change\r\n    var size = getSize( this.isotope.element );\r\n    // check that this.size and size are there\r\n    // IE8 triggers resize on body size change, so they might not be\r\n    var hasSizes = this.isotope.size && size;\r\n    return hasSizes && size.innerHeight != this.isotope.size.innerHeight;\r\n  };\r\n\r\n  // ----- measurements ----- //\r\n\r\n  proto._getMeasurement = function() {\r\n    this.isotope._getMeasurement.apply( this, arguments );\r\n  };\r\n\r\n  proto.getColumnWidth = function() {\r\n    this.getSegmentSize( 'column', 'Width' );\r\n  };\r\n\r\n  proto.getRowHeight = function() {\r\n    this.getSegmentSize( 'row', 'Height' );\r\n  };\r\n\r\n  /**\r\n   * get columnWidth or rowHeight\r\n   * segment: 'column' or 'row'\r\n   * size 'Width' or 'Height'\r\n  **/\r\n  proto.getSegmentSize = function( segment, size ) {\r\n    var segmentName = segment + size;\r\n    var outerSize = 'outer' + size;\r\n    // columnWidth / outerWidth // rowHeight / outerHeight\r\n    this._getMeasurement( segmentName, outerSize );\r\n    // got rowHeight or columnWidth, we can chill\r\n    if ( this[ segmentName ] ) {\r\n      return;\r\n    }\r\n    // fall back to item of first element\r\n    var firstItemSize = this.getFirstItemSize();\r\n    this[ segmentName ] = firstItemSize && firstItemSize[ outerSize ] ||\r\n      // or size of container\r\n      this.isotope.size[ 'inner' + size ];\r\n  };\r\n\r\n  proto.getFirstItemSize = function() {\r\n    var firstItem = this.isotope.filteredItems[0];\r\n    return firstItem && firstItem.element && getSize( firstItem.element );\r\n  };\r\n\r\n  // ----- methods that should reference isotope ----- //\r\n\r\n  proto.layout = function() {\r\n    this.isotope.layout.apply( this.isotope, arguments );\r\n  };\r\n\r\n  proto.getSize = function() {\r\n    this.isotope.getSize();\r\n    this.size = this.isotope.size;\r\n  };\r\n\r\n  // -------------------------- create -------------------------- //\r\n\r\n  LayoutMode.modes = {};\r\n\r\n  LayoutMode.create = function( namespace, options ) {\r\n\r\n    function Mode() {\r\n      LayoutMode.apply( this, arguments );\r\n    }\r\n\r\n    Mode.prototype = Object.create( proto );\r\n    Mode.prototype.constructor = Mode;\r\n\r\n    // default options\r\n    if ( options ) {\r\n      Mode.options = options;\r\n    }\r\n\r\n    Mode.prototype.namespace = namespace;\r\n    // register in Isotope\r\n    LayoutMode.modes[ namespace ] = Mode;\r\n\r\n    return Mode;\r\n  };\r\n\r\n  return LayoutMode;\r\n\r\n}));\r\n\r\n/*!\r\n * Masonry v4.2.0\r\n * Cascading grid layout library\r\n * http://masonry.desandro.com\r\n * MIT License\r\n * by David DeSandro\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'masonry/masonry',[\r\n        'outlayer/outlayer',\r\n        'get-size/get-size'\r\n      ],\r\n      factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('outlayer'),\r\n      require('get-size')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Masonry = factory(\r\n      window.Outlayer,\r\n      window.getSize\r\n    );\r\n  }\r\n\r\n}( window, function factory( Outlayer, getSize ) {\r\n\r\n\r\n\r\n// -------------------------- masonryDefinition -------------------------- //\r\n\r\n  // create an Outlayer layout class\r\n  var Masonry = Outlayer.create('masonry');\r\n  // isFitWidth -> fitWidth\r\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\r\n\r\n  var proto = Masonry.prototype;\r\n\r\n  proto._resetLayout = function() {\r\n    this.getSize();\r\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\r\n    this._getMeasurement( 'gutter', 'outerWidth' );\r\n    this.measureColumns();\r\n\r\n    // reset column Y\r\n    this.colYs = [];\r\n    for ( var i=0; i < this.cols; i++ ) {\r\n      this.colYs.push( 0 );\r\n    }\r\n\r\n    this.maxY = 0;\r\n    this.horizontalColIndex = 0;\r\n  };\r\n\r\n  proto.measureColumns = function() {\r\n    this.getContainerWidth();\r\n    // if columnWidth is 0, default to outerWidth of first item\r\n    if ( !this.columnWidth ) {\r\n      var firstItem = this.items[0];\r\n      var firstItemElem = firstItem && firstItem.element;\r\n      // columnWidth fall back to item of first element\r\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\r\n        // if first elem has no width, default to size of container\r\n        this.containerWidth;\r\n    }\r\n\r\n    var columnWidth = this.columnWidth += this.gutter;\r\n\r\n    // calculate columns\r\n    var containerWidth = this.containerWidth + this.gutter;\r\n    var cols = containerWidth / columnWidth;\r\n    // fix rounding errors, typically with gutters\r\n    var excess = columnWidth - containerWidth % columnWidth;\r\n    // if overshoot is less than a pixel, round up, otherwise floor it\r\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\r\n    cols = Math[ mathMethod ]( cols );\r\n    this.cols = Math.max( cols, 1 );\r\n  };\r\n\r\n  proto.getContainerWidth = function() {\r\n    // container is parent if fit width\r\n    var isFitWidth = this._getOption('fitWidth');\r\n    var container = isFitWidth ? this.element.parentNode : this.element;\r\n    // check that this.size and size are there\r\n    // IE8 triggers resize on body size change, so they might not be\r\n    var size = getSize( container );\r\n    this.containerWidth = size && size.innerWidth;\r\n  };\r\n\r\n  proto._getItemLayoutPosition = function( item ) {\r\n    item.getSize();\r\n    // how many columns does this brick span\r\n    var remainder = item.size.outerWidth % this.columnWidth;\r\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\r\n    // round if off by 1 pixel, otherwise use ceil\r\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\r\n    colSpan = Math.min( colSpan, this.cols );\r\n    // use horizontal or top column position\r\n    var colPosMethod = this.options.horizontalOrder ?\r\n      '_getHorizontalColPosition' : '_getTopColPosition';\r\n    var colPosition = this[ colPosMethod ]( colSpan, item );\r\n    // position the brick\r\n    var position = {\r\n      x: this.columnWidth * colPosition.col,\r\n      y: colPosition.y\r\n    };\r\n    // apply setHeight to necessary columns\r\n    var setHeight = colPosition.y + item.size.outerHeight;\r\n    var setMax = colSpan + colPosition.col;\r\n    for ( var i = colPosition.col; i < setMax; i++ ) {\r\n      this.colYs[i] = setHeight;\r\n    }\r\n\r\n    return position;\r\n  };\r\n\r\n  proto._getTopColPosition = function( colSpan ) {\r\n    var colGroup = this._getTopColGroup( colSpan );\r\n    // get the minimum Y value from the columns\r\n    var minimumY = Math.min.apply( Math, colGroup );\r\n\r\n    return {\r\n      col: colGroup.indexOf( minimumY ),\r\n      y: minimumY,\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @param {Number} colSpan - number of columns the element spans\r\n   * @returns {Array} colGroup\r\n   */\r\n  proto._getTopColGroup = function( colSpan ) {\r\n    if ( colSpan < 2 ) {\r\n      // if brick spans only one column, use all the column Ys\r\n      return this.colYs;\r\n    }\r\n\r\n    var colGroup = [];\r\n    // how many different places could this brick fit horizontally\r\n    var groupCount = this.cols + 1 - colSpan;\r\n    // for each group potential horizontal position\r\n    for ( var i = 0; i < groupCount; i++ ) {\r\n      colGroup[i] = this._getColGroupY( i, colSpan );\r\n    }\r\n    return colGroup;\r\n  };\r\n\r\n  proto._getColGroupY = function( col, colSpan ) {\r\n    if ( colSpan < 2 ) {\r\n      return this.colYs[ col ];\r\n    }\r\n    // make an array of colY values for that one group\r\n    var groupColYs = this.colYs.slice( col, col + colSpan );\r\n    // and get the max value of the array\r\n    return Math.max.apply( Math, groupColYs );\r\n  };\r\n\r\n  // get column position based on horizontal index. #873\r\n  proto._getHorizontalColPosition = function( colSpan, item ) {\r\n    var col = this.horizontalColIndex % this.cols;\r\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\r\n    // shift to next row if item can't fit on current row\r\n    col = isOver ? 0 : col;\r\n    // don't let zero-size items take up space\r\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\r\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\r\n\r\n    return {\r\n      col: col,\r\n      y: this._getColGroupY( col, colSpan ),\r\n    };\r\n  };\r\n\r\n  proto._manageStamp = function( stamp ) {\r\n    var stampSize = getSize( stamp );\r\n    var offset = this._getElementOffset( stamp );\r\n    // get the columns that this stamp affects\r\n    var isOriginLeft = this._getOption('originLeft');\r\n    var firstX = isOriginLeft ? offset.left : offset.right;\r\n    var lastX = firstX + stampSize.outerWidth;\r\n    var firstCol = Math.floor( firstX / this.columnWidth );\r\n    firstCol = Math.max( 0, firstCol );\r\n    var lastCol = Math.floor( lastX / this.columnWidth );\r\n    // lastCol should not go over if multiple of columnWidth #425\r\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\r\n    lastCol = Math.min( this.cols - 1, lastCol );\r\n    // set colYs to bottom of the stamp\r\n\r\n    var isOriginTop = this._getOption('originTop');\r\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\r\n      stampSize.outerHeight;\r\n    for ( var i = firstCol; i <= lastCol; i++ ) {\r\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\r\n    }\r\n  };\r\n\r\n  proto._getContainerSize = function() {\r\n    this.maxY = Math.max.apply( Math, this.colYs );\r\n    var size = {\r\n      height: this.maxY\r\n    };\r\n\r\n    if ( this._getOption('fitWidth') ) {\r\n      size.width = this._getContainerFitWidth();\r\n    }\r\n\r\n    return size;\r\n  };\r\n\r\n  proto._getContainerFitWidth = function() {\r\n    var unusedCols = 0;\r\n    // count unused columns\r\n    var i = this.cols;\r\n    while ( --i ) {\r\n      if ( this.colYs[i] !== 0 ) {\r\n        break;\r\n      }\r\n      unusedCols++;\r\n    }\r\n    // fit container to columns that have been used\r\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\r\n  };\r\n\r\n  proto.needsResizeLayout = function() {\r\n    var previousWidth = this.containerWidth;\r\n    this.getContainerWidth();\r\n    return previousWidth != this.containerWidth;\r\n  };\r\n\r\n  return Masonry;\r\n\r\n}));\r\n\r\n/*!\r\n * Masonry layout mode\r\n * sub-classes Masonry\r\n * http://masonry.desandro.com\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'isotope/js/layout-modes/masonry',[\r\n        '../layout-mode',\r\n        'masonry/masonry'\r\n      ],\r\n      factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('../layout-mode'),\r\n      require('masonry-layout')\r\n    );\r\n  } else {\r\n    // browser global\r\n    factory(\r\n      window.Isotope.LayoutMode,\r\n      window.Masonry\r\n    );\r\n  }\r\n\r\n}( window, function factory( LayoutMode, Masonry ) {\r\n'use strict';\r\n\r\n// -------------------------- masonryDefinition -------------------------- //\r\n\r\n  // create an Outlayer layout class\r\n  var MasonryMode = LayoutMode.create('masonry');\r\n\r\n  var proto = MasonryMode.prototype;\r\n\r\n  var keepModeMethods = {\r\n    _getElementOffset: true,\r\n    layout: true,\r\n    _getMeasurement: true\r\n  };\r\n\r\n  // inherit Masonry prototype\r\n  for ( var method in Masonry.prototype ) {\r\n    // do not inherit mode methods\r\n    if ( !keepModeMethods[ method ] ) {\r\n      proto[ method ] = Masonry.prototype[ method ];\r\n    }\r\n  }\r\n\r\n  var measureColumns = proto.measureColumns;\r\n  proto.measureColumns = function() {\r\n    // set items, used if measuring first item\r\n    this.items = this.isotope.filteredItems;\r\n    measureColumns.call( this );\r\n  };\r\n\r\n  // point to mode options for fitWidth\r\n  var _getOption = proto._getOption;\r\n  proto._getOption = function( option ) {\r\n    if ( option == 'fitWidth' ) {\r\n      return this.options.isFitWidth !== undefined ?\r\n        this.options.isFitWidth : this.options.fitWidth;\r\n    }\r\n    return _getOption.apply( this.isotope, arguments );\r\n  };\r\n\r\n  return MasonryMode;\r\n\r\n}));\r\n\r\n/**\r\n * fitRows layout mode\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'isotope/js/layout-modes/fit-rows',[\r\n        '../layout-mode'\r\n      ],\r\n      factory );\r\n  } else if ( typeof exports == 'object' ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('../layout-mode')\r\n    );\r\n  } else {\r\n    // browser global\r\n    factory(\r\n      window.Isotope.LayoutMode\r\n    );\r\n  }\r\n\r\n}( window, function factory( LayoutMode ) {\r\n'use strict';\r\n\r\nvar FitRows = LayoutMode.create('fitRows');\r\n\r\nvar proto = FitRows.prototype;\r\n\r\nproto._resetLayout = function() {\r\n  this.x = 0;\r\n  this.y = 0;\r\n  this.maxY = 0;\r\n  this._getMeasurement( 'gutter', 'outerWidth' );\r\n};\r\n\r\nproto._getItemLayoutPosition = function( item ) {\r\n  item.getSize();\r\n\r\n  var itemWidth = item.size.outerWidth + this.gutter;\r\n  // if this element cannot fit in the current row\r\n  var containerWidth = this.isotope.size.innerWidth + this.gutter;\r\n  if ( this.x !== 0 && itemWidth + this.x > containerWidth ) {\r\n    this.x = 0;\r\n    this.y = this.maxY;\r\n  }\r\n\r\n  var position = {\r\n    x: this.x,\r\n    y: this.y\r\n  };\r\n\r\n  this.maxY = Math.max( this.maxY, this.y + item.size.outerHeight );\r\n  this.x += itemWidth;\r\n\r\n  return position;\r\n};\r\n\r\nproto._getContainerSize = function() {\r\n  return { height: this.maxY };\r\n};\r\n\r\nreturn FitRows;\r\n\r\n}));\r\n\r\n/**\r\n * vertical layout mode\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'isotope/js/layout-modes/vertical',[\r\n        '../layout-mode'\r\n      ],\r\n      factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('../layout-mode')\r\n    );\r\n  } else {\r\n    // browser global\r\n    factory(\r\n      window.Isotope.LayoutMode\r\n    );\r\n  }\r\n\r\n}( window, function factory( LayoutMode ) {\r\n'use strict';\r\n\r\nvar Vertical = LayoutMode.create( 'vertical', {\r\n  horizontalAlignment: 0\r\n});\r\n\r\nvar proto = Vertical.prototype;\r\n\r\nproto._resetLayout = function() {\r\n  this.y = 0;\r\n};\r\n\r\nproto._getItemLayoutPosition = function( item ) {\r\n  item.getSize();\r\n  var x = ( this.isotope.size.innerWidth - item.size.outerWidth ) *\r\n    this.options.horizontalAlignment;\r\n  var y = this.y;\r\n  this.y += item.size.outerHeight;\r\n  return { x: x, y: y };\r\n};\r\n\r\nproto._getContainerSize = function() {\r\n  return { height: this.y };\r\n};\r\n\r\nreturn Vertical;\r\n\r\n}));\r\n\r\n/*!\r\n * Isotope v3.0.4\r\n *\r\n * Licensed GPLv3 for open source use\r\n * or Isotope Commercial License for commercial use\r\n *\r\n * http://isotope.metafizzy.co\r\n * Copyright 2017 Metafizzy\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( [\r\n        'outlayer/outlayer',\r\n        'get-size/get-size',\r\n        'desandro-matches-selector/matches-selector',\r\n        'fizzy-ui-utils/utils',\r\n        'isotope/js/item',\r\n        'isotope/js/layout-mode',\r\n        // include default layout modes\r\n        'isotope/js/layout-modes/masonry',\r\n        'isotope/js/layout-modes/fit-rows',\r\n        'isotope/js/layout-modes/vertical'\r\n      ],\r\n      function( Outlayer, getSize, matchesSelector, utils, Item, LayoutMode ) {\r\n        return factory( window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode );\r\n      });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('outlayer'),\r\n      require('get-size'),\r\n      require('desandro-matches-selector'),\r\n      require('fizzy-ui-utils'),\r\n      require('isotope/js/item'),\r\n      require('isotope/js/layout-mode'),\r\n      // include default layout modes\r\n      require('isotope/js/layout-modes/masonry'),\r\n      require('isotope/js/layout-modes/fit-rows'),\r\n      require('isotope/js/layout-modes/vertical')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Isotope = factory(\r\n      window,\r\n      window.Outlayer,\r\n      window.getSize,\r\n      window.matchesSelector,\r\n      window.fizzyUIUtils,\r\n      window.Isotope.Item,\r\n      window.Isotope.LayoutMode\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Outlayer, getSize, matchesSelector, utils,\r\n  Item, LayoutMode ) {\r\n\r\n\r\n\r\n// -------------------------- vars -------------------------- //\r\n\r\nvar jQuery = window.jQuery;\r\n\r\n// -------------------------- helpers -------------------------- //\r\n\r\nvar trim = String.prototype.trim ?\r\n  function( str ) {\r\n    return str.trim();\r\n  } :\r\n  function( str ) {\r\n    return str.replace( /^\\s+|\\s+$/g, '' );\r\n  };\r\n\r\n// -------------------------- isotopeDefinition -------------------------- //\r\n\r\n  // create an Outlayer layout class\r\n  var Isotope = Outlayer.create( 'isotope', {\r\n    layoutMode: 'masonry',\r\n    isJQueryFiltering: true,\r\n    sortAscending: true\r\n  });\r\n\r\n  Isotope.Item = Item;\r\n  Isotope.LayoutMode = LayoutMode;\r\n\r\n  var proto = Isotope.prototype;\r\n\r\n  proto._create = function() {\r\n    this.itemGUID = 0;\r\n    // functions that sort items\r\n    this._sorters = {};\r\n    this._getSorters();\r\n    // call super\r\n    Outlayer.prototype._create.call( this );\r\n\r\n    // create layout modes\r\n    this.modes = {};\r\n    // start filteredItems with all items\r\n    this.filteredItems = this.items;\r\n    // keep of track of sortBys\r\n    this.sortHistory = [ 'original-order' ];\r\n    // create from registered layout modes\r\n    for ( var name in LayoutMode.modes ) {\r\n      this._initLayoutMode( name );\r\n    }\r\n  };\r\n\r\n  proto.reloadItems = function() {\r\n    // reset item ID counter\r\n    this.itemGUID = 0;\r\n    // call super\r\n    Outlayer.prototype.reloadItems.call( this );\r\n  };\r\n\r\n  proto._itemize = function() {\r\n    var items = Outlayer.prototype._itemize.apply( this, arguments );\r\n    // assign ID for original-order\r\n    for ( var i=0; i < items.length; i++ ) {\r\n      var item = items[i];\r\n      item.id = this.itemGUID++;\r\n    }\r\n    this._updateItemsSortData( items );\r\n    return items;\r\n  };\r\n\r\n\r\n  // -------------------------- layout -------------------------- //\r\n\r\n  proto._initLayoutMode = function( name ) {\r\n    var Mode = LayoutMode.modes[ name ];\r\n    // set mode options\r\n    // HACK extend initial options, back-fill in default options\r\n    var initialOpts = this.options[ name ] || {};\r\n    this.options[ name ] = Mode.options ?\r\n      utils.extend( Mode.options, initialOpts ) : initialOpts;\r\n    // init layout mode instance\r\n    this.modes[ name ] = new Mode( this );\r\n  };\r\n\r\n\r\n  proto.layout = function() {\r\n    // if first time doing layout, do all magic\r\n    if ( !this._isLayoutInited && this._getOption('initLayout') ) {\r\n      this.arrange();\r\n      return;\r\n    }\r\n    this._layout();\r\n  };\r\n\r\n  // private method to be used in layout() & magic()\r\n  proto._layout = function() {\r\n    // don't animate first layout\r\n    var isInstant = this._getIsInstant();\r\n    // layout flow\r\n    this._resetLayout();\r\n    this._manageStamps();\r\n    this.layoutItems( this.filteredItems, isInstant );\r\n\r\n    // flag for initalized\r\n    this._isLayoutInited = true;\r\n  };\r\n\r\n  // filter + sort + layout\r\n  proto.arrange = function( opts ) {\r\n    // set any options pass\r\n    this.option( opts );\r\n    this._getIsInstant();\r\n    // filter, sort, and layout\r\n\r\n    // filter\r\n    var filtered = this._filter( this.items );\r\n    this.filteredItems = filtered.matches;\r\n\r\n    this._bindArrangeComplete();\r\n\r\n    if ( this._isInstant ) {\r\n      this._noTransition( this._hideReveal, [ filtered ] );\r\n    } else {\r\n      this._hideReveal( filtered );\r\n    }\r\n\r\n    this._sort();\r\n    this._layout();\r\n  };\r\n  // alias to _init for main plugin method\r\n  proto._init = proto.arrange;\r\n\r\n  proto._hideReveal = function( filtered ) {\r\n    this.reveal( filtered.needReveal );\r\n    this.hide( filtered.needHide );\r\n  };\r\n\r\n  // HACK\r\n  // Don't animate/transition first layout\r\n  // Or don't animate/transition other layouts\r\n  proto._getIsInstant = function() {\r\n    var isLayoutInstant = this._getOption('layoutInstant');\r\n    var isInstant = isLayoutInstant !== undefined ? isLayoutInstant :\r\n      !this._isLayoutInited;\r\n    this._isInstant = isInstant;\r\n    return isInstant;\r\n  };\r\n\r\n  // listen for layoutComplete, hideComplete and revealComplete\r\n  // to trigger arrangeComplete\r\n  proto._bindArrangeComplete = function() {\r\n    // listen for 3 events to trigger arrangeComplete\r\n    var isLayoutComplete, isHideComplete, isRevealComplete;\r\n    var _this = this;\r\n    function arrangeParallelCallback() {\r\n      if ( isLayoutComplete && isHideComplete && isRevealComplete ) {\r\n        _this.dispatchEvent( 'arrangeComplete', null, [ _this.filteredItems ] );\r\n      }\r\n    }\r\n    this.once( 'layoutComplete', function() {\r\n      isLayoutComplete = true;\r\n      arrangeParallelCallback();\r\n    });\r\n    this.once( 'hideComplete', function() {\r\n      isHideComplete = true;\r\n      arrangeParallelCallback();\r\n    });\r\n    this.once( 'revealComplete', function() {\r\n      isRevealComplete = true;\r\n      arrangeParallelCallback();\r\n    });\r\n  };\r\n\r\n  // -------------------------- filter -------------------------- //\r\n\r\n  proto._filter = function( items ) {\r\n    var filter = this.options.filter;\r\n    filter = filter || '*';\r\n    var matches = [];\r\n    var hiddenMatched = [];\r\n    var visibleUnmatched = [];\r\n\r\n    var test = this._getFilterTest( filter );\r\n\r\n    // test each item\r\n    for ( var i=0; i < items.length; i++ ) {\r\n      var item = items[i];\r\n      if ( item.isIgnored ) {\r\n        continue;\r\n      }\r\n      // add item to either matched or unmatched group\r\n      var isMatched = test( item );\r\n      // item.isFilterMatched = isMatched;\r\n      // add to matches if its a match\r\n      if ( isMatched ) {\r\n        matches.push( item );\r\n      }\r\n      // add to additional group if item needs to be hidden or revealed\r\n      if ( isMatched && item.isHidden ) {\r\n        hiddenMatched.push( item );\r\n      } else if ( !isMatched && !item.isHidden ) {\r\n        visibleUnmatched.push( item );\r\n      }\r\n    }\r\n\r\n    // return collections of items to be manipulated\r\n    return {\r\n      matches: matches,\r\n      needReveal: hiddenMatched,\r\n      needHide: visibleUnmatched\r\n    };\r\n  };\r\n\r\n  // get a jQuery, function, or a matchesSelector test given the filter\r\n  proto._getFilterTest = function( filter ) {\r\n    if ( jQuery && this.options.isJQueryFiltering ) {\r\n      // use jQuery\r\n      return function( item ) {\r\n        return jQuery( item.element ).is( filter );\r\n      };\r\n    }\r\n    if ( typeof filter == 'function' ) {\r\n      // use filter as function\r\n      return function( item ) {\r\n        return filter( item.element );\r\n      };\r\n    }\r\n    // default, use filter as selector string\r\n    return function( item ) {\r\n      return matchesSelector( item.element, filter );\r\n    };\r\n  };\r\n\r\n  // -------------------------- sorting -------------------------- //\r\n\r\n  /**\r\n   * @params {Array} elems\r\n   * @public\r\n   */\r\n  proto.updateSortData = function( elems ) {\r\n    // get items\r\n    var items;\r\n    if ( elems ) {\r\n      elems = utils.makeArray( elems );\r\n      items = this.getItems( elems );\r\n    } else {\r\n      // update all items if no elems provided\r\n      items = this.items;\r\n    }\r\n\r\n    this._getSorters();\r\n    this._updateItemsSortData( items );\r\n  };\r\n\r\n  proto._getSorters = function() {\r\n    var getSortData = this.options.getSortData;\r\n    for ( var key in getSortData ) {\r\n      var sorter = getSortData[ key ];\r\n      this._sorters[ key ] = mungeSorter( sorter );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @params {Array} items - of Isotope.Items\r\n   * @private\r\n   */\r\n  proto._updateItemsSortData = function( items ) {\r\n    // do not update if no items\r\n    var len = items && items.length;\r\n\r\n    for ( var i=0; len && i < len; i++ ) {\r\n      var item = items[i];\r\n      item.updateSortData();\r\n    }\r\n  };\r\n\r\n  // ----- munge sorter ----- //\r\n\r\n  // encapsulate this, as we just need mungeSorter\r\n  // other functions in here are just for munging\r\n  var mungeSorter = ( function() {\r\n    // add a magic layer to sorters for convienent shorthands\r\n    // `.foo-bar` will use the text of .foo-bar querySelector\r\n    // `[foo-bar]` will use attribute\r\n    // you can also add parser\r\n    // `.foo-bar parseInt` will parse that as a number\r\n    function mungeSorter( sorter ) {\r\n      // if not a string, return function or whatever it is\r\n      if ( typeof sorter != 'string' ) {\r\n        return sorter;\r\n      }\r\n      // parse the sorter string\r\n      var args = trim( sorter ).split(' ');\r\n      var query = args[0];\r\n      // check if query looks like [an-attribute]\r\n      var attrMatch = query.match( /^\\[(.+)\\]$/ );\r\n      var attr = attrMatch && attrMatch[1];\r\n      var getValue = getValueGetter( attr, query );\r\n      // use second argument as a parser\r\n      var parser = Isotope.sortDataParsers[ args[1] ];\r\n      // parse the value, if there was a parser\r\n      sorter = parser ? function( elem ) {\r\n        return elem && parser( getValue( elem ) );\r\n      } :\r\n      // otherwise just return value\r\n      function( elem ) {\r\n        return elem && getValue( elem );\r\n      };\r\n\r\n      return sorter;\r\n    }\r\n\r\n    // get an attribute getter, or get text of the querySelector\r\n    function getValueGetter( attr, query ) {\r\n      // if query looks like [foo-bar], get attribute\r\n      if ( attr ) {\r\n        return function getAttribute( elem ) {\r\n          return elem.getAttribute( attr );\r\n        };\r\n      }\r\n\r\n      // otherwise, assume its a querySelector, and get its text\r\n      return function getChildText( elem ) {\r\n        var child = elem.querySelector( query );\r\n        return child && child.textContent;\r\n      };\r\n    }\r\n\r\n    return mungeSorter;\r\n  })();\r\n\r\n  // parsers used in getSortData shortcut strings\r\n  Isotope.sortDataParsers = {\r\n    'parseInt': function( val ) {\r\n      return parseInt( val, 10 );\r\n    },\r\n    'parseFloat': function( val ) {\r\n      return parseFloat( val );\r\n    }\r\n  };\r\n\r\n  // ----- sort method ----- //\r\n\r\n  // sort filteredItem order\r\n  proto._sort = function() {\r\n    if ( !this.options.sortBy ) {\r\n      return;\r\n    }\r\n    // keep track of sortBy History\r\n    var sortBys = utils.makeArray( this.options.sortBy );\r\n    if ( !this._getIsSameSortBy( sortBys ) ) {\r\n      // concat all sortBy and sortHistory, add to front, oldest goes in last\r\n      this.sortHistory = sortBys.concat( this.sortHistory );\r\n    }\r\n    // sort magic\r\n    var itemSorter = getItemSorter( this.sortHistory, this.options.sortAscending );\r\n    this.filteredItems.sort( itemSorter );\r\n  };\r\n\r\n  // check if sortBys is same as start of sortHistory\r\n  proto._getIsSameSortBy = function( sortBys ) {\r\n    for ( var i=0; i < sortBys.length; i++ ) {\r\n      if ( sortBys[i] != this.sortHistory[i] ) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  // returns a function used for sorting\r\n  function getItemSorter( sortBys, sortAsc ) {\r\n    return function sorter( itemA, itemB ) {\r\n      // cycle through all sortKeys\r\n      for ( var i = 0; i < sortBys.length; i++ ) {\r\n        var sortBy = sortBys[i];\r\n        var a = itemA.sortData[ sortBy ];\r\n        var b = itemB.sortData[ sortBy ];\r\n        if ( a > b || a < b ) {\r\n          // if sortAsc is an object, use the value given the sortBy key\r\n          var isAscending = sortAsc[ sortBy ] !== undefined ? sortAsc[ sortBy ] : sortAsc;\r\n          var direction = isAscending ? 1 : -1;\r\n          return ( a > b ? 1 : -1 ) * direction;\r\n        }\r\n      }\r\n      return 0;\r\n    };\r\n  }\r\n\r\n  // -------------------------- methods -------------------------- //\r\n\r\n  // get layout mode\r\n  proto._mode = function() {\r\n    var layoutMode = this.options.layoutMode;\r\n    var mode = this.modes[ layoutMode ];\r\n    if ( !mode ) {\r\n      // TODO console.error\r\n      throw new Error( 'No layout mode: ' + layoutMode );\r\n    }\r\n    // HACK sync mode's options\r\n    // any options set after init for layout mode need to be synced\r\n    mode.options = this.options[ layoutMode ];\r\n    return mode;\r\n  };\r\n\r\n  proto._resetLayout = function() {\r\n    // trigger original reset layout\r\n    Outlayer.prototype._resetLayout.call( this );\r\n    this._mode()._resetLayout();\r\n  };\r\n\r\n  proto._getItemLayoutPosition = function( item  ) {\r\n    return this._mode()._getItemLayoutPosition( item );\r\n  };\r\n\r\n  proto._manageStamp = function( stamp ) {\r\n    this._mode()._manageStamp( stamp );\r\n  };\r\n\r\n  proto._getContainerSize = function() {\r\n    return this._mode()._getContainerSize();\r\n  };\r\n\r\n  proto.needsResizeLayout = function() {\r\n    return this._mode().needsResizeLayout();\r\n  };\r\n\r\n  // -------------------------- adding & removing -------------------------- //\r\n\r\n  // HEADS UP overwrites default Outlayer appended\r\n  proto.appended = function( elems ) {\r\n    var items = this.addItems( elems );\r\n    if ( !items.length ) {\r\n      return;\r\n    }\r\n    // filter, layout, reveal new items\r\n    var filteredItems = this._filterRevealAdded( items );\r\n    // add to filteredItems\r\n    this.filteredItems = this.filteredItems.concat( filteredItems );\r\n  };\r\n\r\n  // HEADS UP overwrites default Outlayer prepended\r\n  proto.prepended = function( elems ) {\r\n    var items = this._itemize( elems );\r\n    if ( !items.length ) {\r\n      return;\r\n    }\r\n    // start new layout\r\n    this._resetLayout();\r\n    this._manageStamps();\r\n    // filter, layout, reveal new items\r\n    var filteredItems = this._filterRevealAdded( items );\r\n    // layout previous items\r\n    this.layoutItems( this.filteredItems );\r\n    // add to items and filteredItems\r\n    this.filteredItems = filteredItems.concat( this.filteredItems );\r\n    this.items = items.concat( this.items );\r\n  };\r\n\r\n  proto._filterRevealAdded = function( items ) {\r\n    var filtered = this._filter( items );\r\n    this.hide( filtered.needHide );\r\n    // reveal all new items\r\n    this.reveal( filtered.matches );\r\n    // layout new items, no transition\r\n    this.layoutItems( filtered.matches, true );\r\n    return filtered.matches;\r\n  };\r\n\r\n  /**\r\n   * Filter, sort, and layout newly-appended item elements\r\n   * @param {Array or NodeList or Element} elems\r\n   */\r\n  proto.insert = function( elems ) {\r\n    var items = this.addItems( elems );\r\n    if ( !items.length ) {\r\n      return;\r\n    }\r\n    // append item elements\r\n    var i, item;\r\n    var len = items.length;\r\n    for ( i=0; i < len; i++ ) {\r\n      item = items[i];\r\n      this.element.appendChild( item.element );\r\n    }\r\n    // filter new stuff\r\n    var filteredInsertItems = this._filter( items ).matches;\r\n    // set flag\r\n    for ( i=0; i < len; i++ ) {\r\n      items[i].isLayoutInstant = true;\r\n    }\r\n    this.arrange();\r\n    // reset flag\r\n    for ( i=0; i < len; i++ ) {\r\n      delete items[i].isLayoutInstant;\r\n    }\r\n    this.reveal( filteredInsertItems );\r\n  };\r\n\r\n  var _remove = proto.remove;\r\n  proto.remove = function( elems ) {\r\n    elems = utils.makeArray( elems );\r\n    var removeItems = this.getItems( elems );\r\n    // do regular thing\r\n    _remove.call( this, elems );\r\n    // bail if no items to remove\r\n    var len = removeItems && removeItems.length;\r\n    // remove elems from filteredItems\r\n    for ( var i=0; len && i < len; i++ ) {\r\n      var item = removeItems[i];\r\n      // remove item from collection\r\n      utils.removeFrom( this.filteredItems, item );\r\n    }\r\n  };\r\n\r\n  proto.shuffle = function() {\r\n    // update random sortData\r\n    for ( var i=0; i < this.items.length; i++ ) {\r\n      var item = this.items[i];\r\n      item.sortData.random = Math.random();\r\n    }\r\n    this.options.sortBy = 'random';\r\n    this._sort();\r\n    this._layout();\r\n  };\r\n\r\n  /**\r\n   * trigger fn without transition\r\n   * kind of hacky to have this in the first place\r\n   * @param {Function} fn\r\n   * @param {Array} args\r\n   * @returns ret\r\n   * @private\r\n   */\r\n  proto._noTransition = function( fn, args ) {\r\n    // save transitionDuration before disabling\r\n    var transitionDuration = this.options.transitionDuration;\r\n    // disable transition\r\n    this.options.transitionDuration = 0;\r\n    // do it\r\n    var returnValue = fn.apply( this, args );\r\n    // re-enable transition for reveal\r\n    this.options.transitionDuration = transitionDuration;\r\n    return returnValue;\r\n  };\r\n\r\n  // ----- helper methods ----- //\r\n\r\n  /**\r\n   * getter method for getting filtered item elements\r\n   * @returns {Array} elems - collection of item elements\r\n   */\r\n  proto.getFilteredItemElements = function() {\r\n    return this.filteredItems.map( function( item ) {\r\n      return item.element;\r\n    });\r\n  };\r\n\r\n  // -----  ----- //\r\n\r\n  return Isotope;\r\n\r\n}));\r\n","/*!\r\n * Masonry PACKAGED v4.2.0\r\n * Cascading grid layout library\r\n * http://masonry.desandro.com\r\n * MIT License\r\n * by David DeSandro\r\n */\r\n\r\n/**\r\n * Bridget makes jQuery widgets\r\n * v2.0.1\r\n * MIT license\r\n */\r\n\r\n/* jshint browser: true, strict: true, undef: true, unused: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /* globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\r\n      return factory( window, jQuery );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('jquery')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.jQueryBridget = factory(\r\n      window,\r\n      window.jQuery\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, jQuery ) {\r\n'use strict';\r\n\r\n// ----- utils ----- //\r\n\r\nvar arraySlice = Array.prototype.slice;\r\n\r\n// helper function for logging errors\r\n// $.error breaks jQuery chaining\r\nvar console = window.console;\r\nvar logError = typeof console == 'undefined' ? function() {} :\r\n  function( message ) {\r\n    console.error( message );\r\n  };\r\n\r\n// ----- jQueryBridget ----- //\r\n\r\nfunction jQueryBridget( namespace, PluginClass, $ ) {\r\n  $ = $ || jQuery || window.jQuery;\r\n  if ( !$ ) {\r\n    return;\r\n  }\r\n\r\n  // add option method -> $().plugin('option', {...})\r\n  if ( !PluginClass.prototype.option ) {\r\n    // option setter\r\n    PluginClass.prototype.option = function( opts ) {\r\n      // bail out if not an object\r\n      if ( !$.isPlainObject( opts ) ){\r\n        return;\r\n      }\r\n      this.options = $.extend( true, this.options, opts );\r\n    };\r\n  }\r\n\r\n  // make jQuery plugin\r\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\r\n    if ( typeof arg0 == 'string' ) {\r\n      // method call $().plugin( 'methodName', { options } )\r\n      // shift arguments by 1\r\n      var args = arraySlice.call( arguments, 1 );\r\n      return methodCall( this, arg0, args );\r\n    }\r\n    // just $().plugin({ options })\r\n    plainCall( this, arg0 );\r\n    return this;\r\n  };\r\n\r\n  // $().plugin('methodName')\r\n  function methodCall( $elems, methodName, args ) {\r\n    var returnValue;\r\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\r\n\r\n    $elems.each( function( i, elem ) {\r\n      // get instance\r\n      var instance = $.data( elem, namespace );\r\n      if ( !instance ) {\r\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\r\n          pluginMethodStr );\r\n        return;\r\n      }\r\n\r\n      var method = instance[ methodName ];\r\n      if ( !method || methodName.charAt(0) == '_' ) {\r\n        logError( pluginMethodStr + ' is not a valid method' );\r\n        return;\r\n      }\r\n\r\n      // apply method, get return value\r\n      var value = method.apply( instance, args );\r\n      // set return value if value is returned, use only first value\r\n      returnValue = returnValue === undefined ? value : returnValue;\r\n    });\r\n\r\n    return returnValue !== undefined ? returnValue : $elems;\r\n  }\r\n\r\n  function plainCall( $elems, options ) {\r\n    $elems.each( function( i, elem ) {\r\n      var instance = $.data( elem, namespace );\r\n      if ( instance ) {\r\n        // set options & init\r\n        instance.option( options );\r\n        instance._init();\r\n      } else {\r\n        // initialize new instance\r\n        instance = new PluginClass( elem, options );\r\n        $.data( elem, namespace, instance );\r\n      }\r\n    });\r\n  }\r\n\r\n  updateJQuery( $ );\r\n\r\n}\r\n\r\n// ----- updateJQuery ----- //\r\n\r\n// set $.bridget for v1 backwards compatibility\r\nfunction updateJQuery( $ ) {\r\n  if ( !$ || ( $ && $.bridget ) ) {\r\n    return;\r\n  }\r\n  $.bridget = jQueryBridget;\r\n}\r\n\r\nupdateJQuery( jQuery || window.jQuery );\r\n\r\n// -----  ----- //\r\n\r\nreturn jQueryBridget;\r\n\r\n}));\r\n\r\n/**\r\n * EvEmitter v1.0.3\r\n * Lil' event emitter\r\n * MIT License\r\n */\r\n\r\n/* jshint unused: true, undef: true, strict: true */\r\n\r\n( function( global, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /* globals define, module, window */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD - RequireJS\r\n    define( 'ev-emitter/ev-emitter',factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.EvEmitter = factory();\r\n  }\r\n\r\n}( typeof window != 'undefined' ? window : this, function() {\r\n\r\n\r\n\r\nfunction EvEmitter() {}\r\n\r\nvar proto = EvEmitter.prototype;\r\n\r\nproto.on = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) {\r\n    return;\r\n  }\r\n  // set events hash\r\n  var events = this._events = this._events || {};\r\n  // set listeners array\r\n  var listeners = events[ eventName ] = events[ eventName ] || [];\r\n  // only add once\r\n  if ( listeners.indexOf( listener ) == -1 ) {\r\n    listeners.push( listener );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.once = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) {\r\n    return;\r\n  }\r\n  // add event\r\n  this.on( eventName, listener );\r\n  // set once flag\r\n  // set onceEvents hash\r\n  var onceEvents = this._onceEvents = this._onceEvents || {};\r\n  // set onceListeners object\r\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\r\n  // set flag\r\n  onceListeners[ listener ] = true;\r\n\r\n  return this;\r\n};\r\n\r\nproto.off = function( eventName, listener ) {\r\n  var listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) {\r\n    return;\r\n  }\r\n  var index = listeners.indexOf( listener );\r\n  if ( index != -1 ) {\r\n    listeners.splice( index, 1 );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.emitEvent = function( eventName, args ) {\r\n  var listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var listener = listeners[i];\r\n  args = args || [];\r\n  // once stuff\r\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\r\n\r\n  while ( listener ) {\r\n    var isOnce = onceListeners && onceListeners[ listener ];\r\n    if ( isOnce ) {\r\n      // remove listener\r\n      // remove before trigger to prevent recursion\r\n      this.off( eventName, listener );\r\n      // unset once flag\r\n      delete onceListeners[ listener ];\r\n    }\r\n    // trigger listener\r\n    listener.apply( this, args );\r\n    // get next listener\r\n    i += isOnce ? 0 : 1;\r\n    listener = listeners[i];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nreturn EvEmitter;\r\n\r\n}));\r\n\r\n/*!\r\n * getSize v2.0.2\r\n * measure size of elements\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n/*global define: false, module: false, console: false */\r\n\r\n( function( window, factory ) {\r\n  'use strict';\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'get-size/get-size',[],function() {\r\n      return factory();\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // browser global\r\n    window.getSize = factory();\r\n  }\r\n\r\n})( window, function factory() {\r\n'use strict';\r\n\r\n// -------------------------- helpers -------------------------- //\r\n\r\n// get a number from a string, not a percentage\r\nfunction getStyleSize( value ) {\r\n  var num = parseFloat( value );\r\n  // not a percent like '100%', and a number\r\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\r\n  return isValid && num;\r\n}\r\n\r\nfunction noop() {}\r\n\r\nvar logError = typeof console == 'undefined' ? noop :\r\n  function( message ) {\r\n    console.error( message );\r\n  };\r\n\r\n// -------------------------- measurements -------------------------- //\r\n\r\nvar measurements = [\r\n  'paddingLeft',\r\n  'paddingRight',\r\n  'paddingTop',\r\n  'paddingBottom',\r\n  'marginLeft',\r\n  'marginRight',\r\n  'marginTop',\r\n  'marginBottom',\r\n  'borderLeftWidth',\r\n  'borderRightWidth',\r\n  'borderTopWidth',\r\n  'borderBottomWidth'\r\n];\r\n\r\nvar measurementsLength = measurements.length;\r\n\r\nfunction getZeroSize() {\r\n  var size = {\r\n    width: 0,\r\n    height: 0,\r\n    innerWidth: 0,\r\n    innerHeight: 0,\r\n    outerWidth: 0,\r\n    outerHeight: 0\r\n  };\r\n  for ( var i=0; i < measurementsLength; i++ ) {\r\n    var measurement = measurements[i];\r\n    size[ measurement ] = 0;\r\n  }\r\n  return size;\r\n}\r\n\r\n// -------------------------- getStyle -------------------------- //\r\n\r\n/**\r\n * getStyle, get style of element, check for Firefox bug\r\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\r\n */\r\nfunction getStyle( elem ) {\r\n  var style = getComputedStyle( elem );\r\n  if ( !style ) {\r\n    logError( 'Style returned ' + style +\r\n      '. Are you running this code in a hidden iframe on Firefox? ' +\r\n      'See http://bit.ly/getsizebug1' );\r\n  }\r\n  return style;\r\n}\r\n\r\n// -------------------------- setup -------------------------- //\r\n\r\nvar isSetup = false;\r\n\r\nvar isBoxSizeOuter;\r\n\r\n/**\r\n * setup\r\n * check isBoxSizerOuter\r\n * do on first getSize() rather than on page load for Firefox bug\r\n */\r\nfunction setup() {\r\n  // setup once\r\n  if ( isSetup ) {\r\n    return;\r\n  }\r\n  isSetup = true;\r\n\r\n  // -------------------------- box sizing -------------------------- //\r\n\r\n  /**\r\n   * WebKit measures the outer-width on style.width on border-box elems\r\n   * IE & Firefox<29 measures the inner-width\r\n   */\r\n  var div = document.createElement('div');\r\n  div.style.width = '200px';\r\n  div.style.padding = '1px 2px 3px 4px';\r\n  div.style.borderStyle = 'solid';\r\n  div.style.borderWidth = '1px 2px 3px 4px';\r\n  div.style.boxSizing = 'border-box';\r\n\r\n  var body = document.body || document.documentElement;\r\n  body.appendChild( div );\r\n  var style = getStyle( div );\r\n\r\n  getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\r\n  body.removeChild( div );\r\n\r\n}\r\n\r\n// -------------------------- getSize -------------------------- //\r\n\r\nfunction getSize( elem ) {\r\n  setup();\r\n\r\n  // use querySeletor if elem is string\r\n  if ( typeof elem == 'string' ) {\r\n    elem = document.querySelector( elem );\r\n  }\r\n\r\n  // do not proceed on non-objects\r\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\r\n    return;\r\n  }\r\n\r\n  var style = getStyle( elem );\r\n\r\n  // if hidden, everything is 0\r\n  if ( style.display == 'none' ) {\r\n    return getZeroSize();\r\n  }\r\n\r\n  var size = {};\r\n  size.width = elem.offsetWidth;\r\n  size.height = elem.offsetHeight;\r\n\r\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\r\n\r\n  // get all measurements\r\n  for ( var i=0; i < measurementsLength; i++ ) {\r\n    var measurement = measurements[i];\r\n    var value = style[ measurement ];\r\n    var num = parseFloat( value );\r\n    // any 'auto', 'medium' value will be 0\r\n    size[ measurement ] = !isNaN( num ) ? num : 0;\r\n  }\r\n\r\n  var paddingWidth = size.paddingLeft + size.paddingRight;\r\n  var paddingHeight = size.paddingTop + size.paddingBottom;\r\n  var marginWidth = size.marginLeft + size.marginRight;\r\n  var marginHeight = size.marginTop + size.marginBottom;\r\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\r\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\r\n\r\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\r\n\r\n  // overwrite width and height if we can get it from style\r\n  var styleWidth = getStyleSize( style.width );\r\n  if ( styleWidth !== false ) {\r\n    size.width = styleWidth +\r\n      // add padding and border unless it's already including it\r\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\r\n  }\r\n\r\n  var styleHeight = getStyleSize( style.height );\r\n  if ( styleHeight !== false ) {\r\n    size.height = styleHeight +\r\n      // add padding and border unless it's already including it\r\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\r\n  }\r\n\r\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\r\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\r\n\r\n  size.outerWidth = size.width + marginWidth;\r\n  size.outerHeight = size.height + marginHeight;\r\n\r\n  return size;\r\n}\r\n\r\nreturn getSize;\r\n\r\n});\r\n\r\n/**\r\n * matchesSelector v2.0.2\r\n * matchesSelector( element, '.selector' )\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n\r\n( function( window, factory ) {\r\n  /*global define: false, module: false */\r\n  'use strict';\r\n  // universal module definition\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'desandro-matches-selector/matches-selector',factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // browser global\r\n    window.matchesSelector = factory();\r\n  }\r\n\r\n}( window, function factory() {\r\n  'use strict';\r\n\r\n  var matchesMethod = ( function() {\r\n    var ElemProto = window.Element.prototype;\r\n    // check for the standard method name first\r\n    if ( ElemProto.matches ) {\r\n      return 'matches';\r\n    }\r\n    // check un-prefixed\r\n    if ( ElemProto.matchesSelector ) {\r\n      return 'matchesSelector';\r\n    }\r\n    // check vendor prefixes\r\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\r\n\r\n    for ( var i=0; i < prefixes.length; i++ ) {\r\n      var prefix = prefixes[i];\r\n      var method = prefix + 'MatchesSelector';\r\n      if ( ElemProto[ method ] ) {\r\n        return method;\r\n      }\r\n    }\r\n  })();\r\n\r\n  return function matchesSelector( elem, selector ) {\r\n    return elem[ matchesMethod ]( selector );\r\n  };\r\n\r\n}));\r\n\r\n/**\r\n * Fizzy UI utils v2.0.4\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, undef: true, unused: true, strict: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /*globals define, module, require */\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'fizzy-ui-utils/utils',[\r\n      'desandro-matches-selector/matches-selector'\r\n    ], function( matchesSelector ) {\r\n      return factory( window, matchesSelector );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('desandro-matches-selector')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.fizzyUIUtils = factory(\r\n      window,\r\n      window.matchesSelector\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, matchesSelector ) {\r\n\r\n\r\n\r\nvar utils = {};\r\n\r\n// ----- extend ----- //\r\n\r\n// extends objects\r\nutils.extend = function( a, b ) {\r\n  for ( var prop in b ) {\r\n    a[ prop ] = b[ prop ];\r\n  }\r\n  return a;\r\n};\r\n\r\n// ----- modulo ----- //\r\n\r\nutils.modulo = function( num, div ) {\r\n  return ( ( num % div ) + div ) % div;\r\n};\r\n\r\n// ----- makeArray ----- //\r\n\r\n// turn element or nodeList into an array\r\nutils.makeArray = function( obj ) {\r\n  var ary = [];\r\n  if ( Array.isArray( obj ) ) {\r\n    // use object if already an array\r\n    ary = obj;\r\n  } else if ( obj && typeof obj == 'object' &&\r\n    typeof obj.length == 'number' ) {\r\n    // convert nodeList to array\r\n    for ( var i=0; i < obj.length; i++ ) {\r\n      ary.push( obj[i] );\r\n    }\r\n  } else {\r\n    // array of single index\r\n    ary.push( obj );\r\n  }\r\n  return ary;\r\n};\r\n\r\n// ----- removeFrom ----- //\r\n\r\nutils.removeFrom = function( ary, obj ) {\r\n  var index = ary.indexOf( obj );\r\n  if ( index != -1 ) {\r\n    ary.splice( index, 1 );\r\n  }\r\n};\r\n\r\n// ----- getParent ----- //\r\n\r\nutils.getParent = function( elem, selector ) {\r\n  while ( elem != document.body ) {\r\n    elem = elem.parentNode;\r\n    if ( matchesSelector( elem, selector ) ) {\r\n      return elem;\r\n    }\r\n  }\r\n};\r\n\r\n// ----- getQueryElement ----- //\r\n\r\n// use element as selector string\r\nutils.getQueryElement = function( elem ) {\r\n  if ( typeof elem == 'string' ) {\r\n    return document.querySelector( elem );\r\n  }\r\n  return elem;\r\n};\r\n\r\n// ----- handleEvent ----- //\r\n\r\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\r\nutils.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\n// ----- filterFindElements ----- //\r\n\r\nutils.filterFindElements = function( elems, selector ) {\r\n  // make array of elems\r\n  elems = utils.makeArray( elems );\r\n  var ffElems = [];\r\n\r\n  elems.forEach( function( elem ) {\r\n    // check that elem is an actual element\r\n    if ( !( elem instanceof HTMLElement ) ) {\r\n      return;\r\n    }\r\n    // add elem if no selector\r\n    if ( !selector ) {\r\n      ffElems.push( elem );\r\n      return;\r\n    }\r\n    // filter & find items if we have a selector\r\n    // filter\r\n    if ( matchesSelector( elem, selector ) ) {\r\n      ffElems.push( elem );\r\n    }\r\n    // find children\r\n    var childElems = elem.querySelectorAll( selector );\r\n    // concat childElems to filterFound array\r\n    for ( var i=0; i < childElems.length; i++ ) {\r\n      ffElems.push( childElems[i] );\r\n    }\r\n  });\r\n\r\n  return ffElems;\r\n};\r\n\r\n// ----- debounceMethod ----- //\r\n\r\nutils.debounceMethod = function( _class, methodName, threshold ) {\r\n  // original method\r\n  var method = _class.prototype[ methodName ];\r\n  var timeoutName = methodName + 'Timeout';\r\n\r\n  _class.prototype[ methodName ] = function() {\r\n    var timeout = this[ timeoutName ];\r\n    if ( timeout ) {\r\n      clearTimeout( timeout );\r\n    }\r\n    var args = arguments;\r\n\r\n    var _this = this;\r\n    this[ timeoutName ] = setTimeout( function() {\r\n      method.apply( _this, args );\r\n      delete _this[ timeoutName ];\r\n    }, threshold || 100 );\r\n  };\r\n};\r\n\r\n// ----- docReady ----- //\r\n\r\nutils.docReady = function( callback ) {\r\n  var readyState = document.readyState;\r\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\r\n    // do async to allow for other scripts to run. metafizzy/flickity#441\r\n    setTimeout( callback );\r\n  } else {\r\n    document.addEventListener( 'DOMContentLoaded', callback );\r\n  }\r\n};\r\n\r\n// ----- htmlInit ----- //\r\n\r\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\r\nutils.toDashed = function( str ) {\r\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\r\n    return $1 + '-' + $2;\r\n  }).toLowerCase();\r\n};\r\n\r\nvar console = window.console;\r\n/**\r\n * allow user to initialize classes via [data-namespace] or .js-namespace class\r\n * htmlInit( Widget, 'widgetName' )\r\n * options are parsed from data-namespace-options\r\n */\r\nutils.htmlInit = function( WidgetClass, namespace ) {\r\n  utils.docReady( function() {\r\n    var dashedNamespace = utils.toDashed( namespace );\r\n    var dataAttr = 'data-' + dashedNamespace;\r\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\r\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\r\n    var elems = utils.makeArray( dataAttrElems )\r\n      .concat( utils.makeArray( jsDashElems ) );\r\n    var dataOptionsAttr = dataAttr + '-options';\r\n    var jQuery = window.jQuery;\r\n\r\n    elems.forEach( function( elem ) {\r\n      var attr = elem.getAttribute( dataAttr ) ||\r\n        elem.getAttribute( dataOptionsAttr );\r\n      var options;\r\n      try {\r\n        options = attr && JSON.parse( attr );\r\n      } catch ( error ) {\r\n        // log error, do not initialize\r\n        if ( console ) {\r\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\r\n          ': ' + error );\r\n        }\r\n        return;\r\n      }\r\n      // initialize\r\n      var instance = new WidgetClass( elem, options );\r\n      // make available via $().data('namespace')\r\n      if ( jQuery ) {\r\n        jQuery.data( elem, namespace, instance );\r\n      }\r\n    });\r\n\r\n  });\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn utils;\r\n\r\n}));\r\n\r\n/**\r\n * Outlayer Item\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /* globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD - RequireJS\r\n    define( 'outlayer/item',[\r\n        'ev-emitter/ev-emitter',\r\n        'get-size/get-size'\r\n      ],\r\n      factory\r\n    );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory(\r\n      require('ev-emitter'),\r\n      require('get-size')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Outlayer = {};\r\n    window.Outlayer.Item = factory(\r\n      window.EvEmitter,\r\n      window.getSize\r\n    );\r\n  }\r\n\r\n}( window, function factory( EvEmitter, getSize ) {\r\n'use strict';\r\n\r\n// ----- helpers ----- //\r\n\r\nfunction isEmptyObj( obj ) {\r\n  for ( var prop in obj ) {\r\n    return false;\r\n  }\r\n  prop = null;\r\n  return true;\r\n}\r\n\r\n// -------------------------- CSS3 support -------------------------- //\r\n\r\n\r\nvar docElemStyle = document.documentElement.style;\r\n\r\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\r\n  'transition' : 'WebkitTransition';\r\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\r\n  'transform' : 'WebkitTransform';\r\n\r\nvar transitionEndEvent = {\r\n  WebkitTransition: 'webkitTransitionEnd',\r\n  transition: 'transitionend'\r\n}[ transitionProperty ];\r\n\r\n// cache all vendor properties that could have vendor prefix\r\nvar vendorProperties = {\r\n  transform: transformProperty,\r\n  transition: transitionProperty,\r\n  transitionDuration: transitionProperty + 'Duration',\r\n  transitionProperty: transitionProperty + 'Property',\r\n  transitionDelay: transitionProperty + 'Delay'\r\n};\r\n\r\n// -------------------------- Item -------------------------- //\r\n\r\nfunction Item( element, layout ) {\r\n  if ( !element ) {\r\n    return;\r\n  }\r\n\r\n  this.element = element;\r\n  // parent layout class, i.e. Masonry, Isotope, or Packery\r\n  this.layout = layout;\r\n  this.position = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n\r\n  this._create();\r\n}\r\n\r\n// inherit EvEmitter\r\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\r\nproto.constructor = Item;\r\n\r\nproto._create = function() {\r\n  // transition objects\r\n  this._transn = {\r\n    ingProperties: {},\r\n    clean: {},\r\n    onEnd: {}\r\n  };\r\n\r\n  this.css({\r\n    position: 'absolute'\r\n  });\r\n};\r\n\r\n// trigger specified handler for event type\r\nproto.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\nproto.getSize = function() {\r\n  this.size = getSize( this.element );\r\n};\r\n\r\n/**\r\n * apply CSS styles to element\r\n * @param {Object} style\r\n */\r\nproto.css = function( style ) {\r\n  var elemStyle = this.element.style;\r\n\r\n  for ( var prop in style ) {\r\n    // use vendor property if available\r\n    var supportedProp = vendorProperties[ prop ] || prop;\r\n    elemStyle[ supportedProp ] = style[ prop ];\r\n  }\r\n};\r\n\r\n // measure position, and sets it\r\nproto.getPosition = function() {\r\n  var style = getComputedStyle( this.element );\r\n  var isOriginLeft = this.layout._getOption('originLeft');\r\n  var isOriginTop = this.layout._getOption('originTop');\r\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\r\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\r\n  // convert percent to pixels\r\n  var layoutSize = this.layout.size;\r\n  var x = xValue.indexOf('%') != -1 ?\r\n    ( parseFloat( xValue ) / 100 ) * layoutSize.width : parseInt( xValue, 10 );\r\n  var y = yValue.indexOf('%') != -1 ?\r\n    ( parseFloat( yValue ) / 100 ) * layoutSize.height : parseInt( yValue, 10 );\r\n\r\n  // clean up 'auto' or other non-integer values\r\n  x = isNaN( x ) ? 0 : x;\r\n  y = isNaN( y ) ? 0 : y;\r\n  // remove padding from measurement\r\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\r\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\r\n\r\n  this.position.x = x;\r\n  this.position.y = y;\r\n};\r\n\r\n// set settled position, apply padding\r\nproto.layoutPosition = function() {\r\n  var layoutSize = this.layout.size;\r\n  var style = {};\r\n  var isOriginLeft = this.layout._getOption('originLeft');\r\n  var isOriginTop = this.layout._getOption('originTop');\r\n\r\n  // x\r\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\r\n  var xProperty = isOriginLeft ? 'left' : 'right';\r\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\r\n\r\n  var x = this.position.x + layoutSize[ xPadding ];\r\n  // set in percentage or pixels\r\n  style[ xProperty ] = this.getXValue( x );\r\n  // reset other property\r\n  style[ xResetProperty ] = '';\r\n\r\n  // y\r\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\r\n  var yProperty = isOriginTop ? 'top' : 'bottom';\r\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\r\n\r\n  var y = this.position.y + layoutSize[ yPadding ];\r\n  // set in percentage or pixels\r\n  style[ yProperty ] = this.getYValue( y );\r\n  // reset other property\r\n  style[ yResetProperty ] = '';\r\n\r\n  this.css( style );\r\n  this.emitEvent( 'layout', [ this ] );\r\n};\r\n\r\nproto.getXValue = function( x ) {\r\n  var isHorizontal = this.layout._getOption('horizontal');\r\n  return this.layout.options.percentPosition && !isHorizontal ?\r\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\r\n};\r\n\r\nproto.getYValue = function( y ) {\r\n  var isHorizontal = this.layout._getOption('horizontal');\r\n  return this.layout.options.percentPosition && isHorizontal ?\r\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\r\n};\r\n\r\nproto._transitionTo = function( x, y ) {\r\n  this.getPosition();\r\n  // get current x & y from top/left\r\n  var curX = this.position.x;\r\n  var curY = this.position.y;\r\n\r\n  var compareX = parseInt( x, 10 );\r\n  var compareY = parseInt( y, 10 );\r\n  var didNotMove = compareX === this.position.x && compareY === this.position.y;\r\n\r\n  // save end position\r\n  this.setPosition( x, y );\r\n\r\n  // if did not move and not transitioning, just go to layout\r\n  if ( didNotMove && !this.isTransitioning ) {\r\n    this.layoutPosition();\r\n    return;\r\n  }\r\n\r\n  var transX = x - curX;\r\n  var transY = y - curY;\r\n  var transitionStyle = {};\r\n  transitionStyle.transform = this.getTranslate( transX, transY );\r\n\r\n  this.transition({\r\n    to: transitionStyle,\r\n    onTransitionEnd: {\r\n      transform: this.layoutPosition\r\n    },\r\n    isCleaning: true\r\n  });\r\n};\r\n\r\nproto.getTranslate = function( x, y ) {\r\n  // flip cooridinates if origin on right or bottom\r\n  var isOriginLeft = this.layout._getOption('originLeft');\r\n  var isOriginTop = this.layout._getOption('originTop');\r\n  x = isOriginLeft ? x : -x;\r\n  y = isOriginTop ? y : -y;\r\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\r\n};\r\n\r\n// non transition + transform support\r\nproto.goTo = function( x, y ) {\r\n  this.setPosition( x, y );\r\n  this.layoutPosition();\r\n};\r\n\r\nproto.moveTo = proto._transitionTo;\r\n\r\nproto.setPosition = function( x, y ) {\r\n  this.position.x = parseInt( x, 10 );\r\n  this.position.y = parseInt( y, 10 );\r\n};\r\n\r\n// ----- transition ----- //\r\n\r\n/**\r\n * @param {Object} style - CSS\r\n * @param {Function} onTransitionEnd\r\n */\r\n\r\n// non transition, just trigger callback\r\nproto._nonTransition = function( args ) {\r\n  this.css( args.to );\r\n  if ( args.isCleaning ) {\r\n    this._removeStyles( args.to );\r\n  }\r\n  for ( var prop in args.onTransitionEnd ) {\r\n    args.onTransitionEnd[ prop ].call( this );\r\n  }\r\n};\r\n\r\n/**\r\n * proper transition\r\n * @param {Object} args - arguments\r\n *   @param {Object} to - style to transition to\r\n *   @param {Object} from - style to start transition from\r\n *   @param {Boolean} isCleaning - removes transition styles after transition\r\n *   @param {Function} onTransitionEnd - callback\r\n */\r\nproto.transition = function( args ) {\r\n  // redirect to nonTransition if no transition duration\r\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\r\n    this._nonTransition( args );\r\n    return;\r\n  }\r\n\r\n  var _transition = this._transn;\r\n  // keep track of onTransitionEnd callback by css property\r\n  for ( var prop in args.onTransitionEnd ) {\r\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\r\n  }\r\n  // keep track of properties that are transitioning\r\n  for ( prop in args.to ) {\r\n    _transition.ingProperties[ prop ] = true;\r\n    // keep track of properties to clean up when transition is done\r\n    if ( args.isCleaning ) {\r\n      _transition.clean[ prop ] = true;\r\n    }\r\n  }\r\n\r\n  // set from styles\r\n  if ( args.from ) {\r\n    this.css( args.from );\r\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\r\n    var h = this.element.offsetHeight;\r\n    // hack for JSHint to hush about unused var\r\n    h = null;\r\n  }\r\n  // enable transition\r\n  this.enableTransition( args.to );\r\n  // set styles that are transitioning\r\n  this.css( args.to );\r\n\r\n  this.isTransitioning = true;\r\n\r\n};\r\n\r\n// dash before all cap letters, including first for\r\n// WebkitTransform => -webkit-transform\r\nfunction toDashedAll( str ) {\r\n  return str.replace( /([A-Z])/g, function( $1 ) {\r\n    return '-' + $1.toLowerCase();\r\n  });\r\n}\r\n\r\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\r\n\r\nproto.enableTransition = function(/* style */) {\r\n  // HACK changing transitionProperty during a transition\r\n  // will cause transition to jump\r\n  if ( this.isTransitioning ) {\r\n    return;\r\n  }\r\n\r\n  // make `transition: foo, bar, baz` from style object\r\n  // HACK un-comment this when enableTransition can work\r\n  // while a transition is happening\r\n  // var transitionValues = [];\r\n  // for ( var prop in style ) {\r\n  //   // dash-ify camelCased properties like WebkitTransition\r\n  //   prop = vendorProperties[ prop ] || prop;\r\n  //   transitionValues.push( toDashedAll( prop ) );\r\n  // }\r\n  // munge number to millisecond, to match stagger\r\n  var duration = this.layout.options.transitionDuration;\r\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\r\n  // enable transition styles\r\n  this.css({\r\n    transitionProperty: transitionProps,\r\n    transitionDuration: duration,\r\n    transitionDelay: this.staggerDelay || 0\r\n  });\r\n  // listen for transition end event\r\n  this.element.addEventListener( transitionEndEvent, this, false );\r\n};\r\n\r\n// ----- events ----- //\r\n\r\nproto.onwebkitTransitionEnd = function( event ) {\r\n  this.ontransitionend( event );\r\n};\r\n\r\nproto.onotransitionend = function( event ) {\r\n  this.ontransitionend( event );\r\n};\r\n\r\n// properties that I munge to make my life easier\r\nvar dashedVendorProperties = {\r\n  '-webkit-transform': 'transform'\r\n};\r\n\r\nproto.ontransitionend = function( event ) {\r\n  // disregard bubbled events from children\r\n  if ( event.target !== this.element ) {\r\n    return;\r\n  }\r\n  var _transition = this._transn;\r\n  // get property name of transitioned property, convert to prefix-free\r\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\r\n\r\n  // remove property that has completed transitioning\r\n  delete _transition.ingProperties[ propertyName ];\r\n  // check if any properties are still transitioning\r\n  if ( isEmptyObj( _transition.ingProperties ) ) {\r\n    // all properties have completed transitioning\r\n    this.disableTransition();\r\n  }\r\n  // clean style\r\n  if ( propertyName in _transition.clean ) {\r\n    // clean up style\r\n    this.element.style[ event.propertyName ] = '';\r\n    delete _transition.clean[ propertyName ];\r\n  }\r\n  // trigger onTransitionEnd callback\r\n  if ( propertyName in _transition.onEnd ) {\r\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\r\n    onTransitionEnd.call( this );\r\n    delete _transition.onEnd[ propertyName ];\r\n  }\r\n\r\n  this.emitEvent( 'transitionEnd', [ this ] );\r\n};\r\n\r\nproto.disableTransition = function() {\r\n  this.removeTransitionStyles();\r\n  this.element.removeEventListener( transitionEndEvent, this, false );\r\n  this.isTransitioning = false;\r\n};\r\n\r\n/**\r\n * removes style property from element\r\n * @param {Object} style\r\n**/\r\nproto._removeStyles = function( style ) {\r\n  // clean up transition styles\r\n  var cleanStyle = {};\r\n  for ( var prop in style ) {\r\n    cleanStyle[ prop ] = '';\r\n  }\r\n  this.css( cleanStyle );\r\n};\r\n\r\nvar cleanTransitionStyle = {\r\n  transitionProperty: '',\r\n  transitionDuration: '',\r\n  transitionDelay: ''\r\n};\r\n\r\nproto.removeTransitionStyles = function() {\r\n  // remove transition\r\n  this.css( cleanTransitionStyle );\r\n};\r\n\r\n// ----- stagger ----- //\r\n\r\nproto.stagger = function( delay ) {\r\n  delay = isNaN( delay ) ? 0 : delay;\r\n  this.staggerDelay = delay + 'ms';\r\n};\r\n\r\n// ----- show/hide/remove ----- //\r\n\r\n// remove element from DOM\r\nproto.removeElem = function() {\r\n  this.element.parentNode.removeChild( this.element );\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n  this.emitEvent( 'remove', [ this ] );\r\n};\r\n\r\nproto.remove = function() {\r\n  // just remove element if no transition support or no transition\r\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\r\n    this.removeElem();\r\n    return;\r\n  }\r\n\r\n  // start transition\r\n  this.once( 'transitionEnd', function() {\r\n    this.removeElem();\r\n  });\r\n  this.hide();\r\n};\r\n\r\nproto.reveal = function() {\r\n  delete this.isHidden;\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n\r\n  var options = this.layout.options;\r\n\r\n  var onTransitionEnd = {};\r\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\r\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\r\n\r\n  this.transition({\r\n    from: options.hiddenStyle,\r\n    to: options.visibleStyle,\r\n    isCleaning: true,\r\n    onTransitionEnd: onTransitionEnd\r\n  });\r\n};\r\n\r\nproto.onRevealTransitionEnd = function() {\r\n  // check if still visible\r\n  // during transition, item may have been hidden\r\n  if ( !this.isHidden ) {\r\n    this.emitEvent('reveal');\r\n  }\r\n};\r\n\r\n/**\r\n * get style property use for hide/reveal transition end\r\n * @param {String} styleProperty - hiddenStyle/visibleStyle\r\n * @returns {String}\r\n */\r\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\r\n  var optionStyle = this.layout.options[ styleProperty ];\r\n  // use opacity\r\n  if ( optionStyle.opacity ) {\r\n    return 'opacity';\r\n  }\r\n  // get first property\r\n  for ( var prop in optionStyle ) {\r\n    return prop;\r\n  }\r\n};\r\n\r\nproto.hide = function() {\r\n  // set flag\r\n  this.isHidden = true;\r\n  // remove display: none\r\n  this.css({ display: '' });\r\n\r\n  var options = this.layout.options;\r\n\r\n  var onTransitionEnd = {};\r\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\r\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\r\n\r\n  this.transition({\r\n    from: options.visibleStyle,\r\n    to: options.hiddenStyle,\r\n    // keep hidden stuff hidden\r\n    isCleaning: true,\r\n    onTransitionEnd: onTransitionEnd\r\n  });\r\n};\r\n\r\nproto.onHideTransitionEnd = function() {\r\n  // check if still hidden\r\n  // during transition, item may have been un-hidden\r\n  if ( this.isHidden ) {\r\n    this.css({ display: 'none' });\r\n    this.emitEvent('hide');\r\n  }\r\n};\r\n\r\nproto.destroy = function() {\r\n  this.css({\r\n    position: '',\r\n    left: '',\r\n    right: '',\r\n    top: '',\r\n    bottom: '',\r\n    transition: '',\r\n    transform: ''\r\n  });\r\n};\r\n\r\nreturn Item;\r\n\r\n}));\r\n\r\n/*!\r\n * Outlayer v2.1.0\r\n * the brains and guts of a layout library\r\n * MIT license\r\n */\r\n\r\n( function( window, factory ) {\r\n  'use strict';\r\n  // universal module definition\r\n  /* jshint strict: false */ /* globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD - RequireJS\r\n    define( 'outlayer/outlayer',[\r\n        'ev-emitter/ev-emitter',\r\n        'get-size/get-size',\r\n        'fizzy-ui-utils/utils',\r\n        './item'\r\n      ],\r\n      function( EvEmitter, getSize, utils, Item ) {\r\n        return factory( window, EvEmitter, getSize, utils, Item);\r\n      }\r\n    );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory(\r\n      window,\r\n      require('ev-emitter'),\r\n      require('get-size'),\r\n      require('fizzy-ui-utils'),\r\n      require('./item')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Outlayer = factory(\r\n      window,\r\n      window.EvEmitter,\r\n      window.getSize,\r\n      window.fizzyUIUtils,\r\n      window.Outlayer.Item\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\r\n'use strict';\r\n\r\n// ----- vars ----- //\r\n\r\nvar console = window.console;\r\nvar jQuery = window.jQuery;\r\nvar noop = function() {};\r\n\r\n// -------------------------- Outlayer -------------------------- //\r\n\r\n// globally unique identifiers\r\nvar GUID = 0;\r\n// internal store of all Outlayer intances\r\nvar instances = {};\r\n\r\n\r\n/**\r\n * @param {Element, String} element\r\n * @param {Object} options\r\n * @constructor\r\n */\r\nfunction Outlayer( element, options ) {\r\n  var queryElement = utils.getQueryElement( element );\r\n  if ( !queryElement ) {\r\n    if ( console ) {\r\n      console.error( 'Bad element for ' + this.constructor.namespace +\r\n        ': ' + ( queryElement || element ) );\r\n    }\r\n    return;\r\n  }\r\n  this.element = queryElement;\r\n  // add jQuery\r\n  if ( jQuery ) {\r\n    this.$element = jQuery( this.element );\r\n  }\r\n\r\n  // options\r\n  this.options = utils.extend( {}, this.constructor.defaults );\r\n  this.option( options );\r\n\r\n  // add id for Outlayer.getFromElement\r\n  var id = ++GUID;\r\n  this.element.outlayerGUID = id; // expando\r\n  instances[ id ] = this; // associate via id\r\n\r\n  // kick it off\r\n  this._create();\r\n\r\n  var isInitLayout = this._getOption('initLayout');\r\n  if ( isInitLayout ) {\r\n    this.layout();\r\n  }\r\n}\r\n\r\n// settings are for internal use only\r\nOutlayer.namespace = 'outlayer';\r\nOutlayer.Item = Item;\r\n\r\n// default options\r\nOutlayer.defaults = {\r\n  containerStyle: {\r\n    position: 'relative'\r\n  },\r\n  initLayout: true,\r\n  originLeft: true,\r\n  originTop: true,\r\n  resize: true,\r\n  resizeContainer: true,\r\n  // item options\r\n  transitionDuration: '0.4s',\r\n  hiddenStyle: {\r\n    opacity: 0,\r\n    transform: 'scale(0.001)'\r\n  },\r\n  visibleStyle: {\r\n    opacity: 1,\r\n    transform: 'scale(1)'\r\n  }\r\n};\r\n\r\nvar proto = Outlayer.prototype;\r\n// inherit EvEmitter\r\nutils.extend( proto, EvEmitter.prototype );\r\n\r\n/**\r\n * set options\r\n * @param {Object} opts\r\n */\r\nproto.option = function( opts ) {\r\n  utils.extend( this.options, opts );\r\n};\r\n\r\n/**\r\n * get backwards compatible option value, check old name\r\n */\r\nproto._getOption = function( option ) {\r\n  var oldOption = this.constructor.compatOptions[ option ];\r\n  return oldOption && this.options[ oldOption ] !== undefined ?\r\n    this.options[ oldOption ] : this.options[ option ];\r\n};\r\n\r\nOutlayer.compatOptions = {\r\n  // currentName: oldName\r\n  initLayout: 'isInitLayout',\r\n  horizontal: 'isHorizontal',\r\n  layoutInstant: 'isLayoutInstant',\r\n  originLeft: 'isOriginLeft',\r\n  originTop: 'isOriginTop',\r\n  resize: 'isResizeBound',\r\n  resizeContainer: 'isResizingContainer'\r\n};\r\n\r\nproto._create = function() {\r\n  // get items from children\r\n  this.reloadItems();\r\n  // elements that affect layout, but are not laid out\r\n  this.stamps = [];\r\n  this.stamp( this.options.stamp );\r\n  // set container style\r\n  utils.extend( this.element.style, this.options.containerStyle );\r\n\r\n  // bind resize method\r\n  var canBindResize = this._getOption('resize');\r\n  if ( canBindResize ) {\r\n    this.bindResize();\r\n  }\r\n};\r\n\r\n// goes through all children again and gets bricks in proper order\r\nproto.reloadItems = function() {\r\n  // collection of item elements\r\n  this.items = this._itemize( this.element.children );\r\n};\r\n\r\n\r\n/**\r\n * turn elements into Outlayer.Items to be used in layout\r\n * @param {Array or NodeList or HTMLElement} elems\r\n * @returns {Array} items - collection of new Outlayer Items\r\n */\r\nproto._itemize = function( elems ) {\r\n\r\n  var itemElems = this._filterFindItemElements( elems );\r\n  var Item = this.constructor.Item;\r\n\r\n  // create new Outlayer Items for collection\r\n  var items = [];\r\n  for ( var i=0; i < itemElems.length; i++ ) {\r\n    var elem = itemElems[i];\r\n    var item = new Item( elem, this );\r\n    items.push( item );\r\n  }\r\n\r\n  return items;\r\n};\r\n\r\n/**\r\n * get item elements to be used in layout\r\n * @param {Array or NodeList or HTMLElement} elems\r\n * @returns {Array} items - item elements\r\n */\r\nproto._filterFindItemElements = function( elems ) {\r\n  return utils.filterFindElements( elems, this.options.itemSelector );\r\n};\r\n\r\n/**\r\n * getter method for getting item elements\r\n * @returns {Array} elems - collection of item elements\r\n */\r\nproto.getItemElements = function() {\r\n  return this.items.map( function( item ) {\r\n    return item.element;\r\n  });\r\n};\r\n\r\n// ----- init & layout ----- //\r\n\r\n/**\r\n * lays out all items\r\n */\r\nproto.layout = function() {\r\n  this._resetLayout();\r\n  this._manageStamps();\r\n\r\n  // don't animate first layout\r\n  var layoutInstant = this._getOption('layoutInstant');\r\n  var isInstant = layoutInstant !== undefined ?\r\n    layoutInstant : !this._isLayoutInited;\r\n  this.layoutItems( this.items, isInstant );\r\n\r\n  // flag for initalized\r\n  this._isLayoutInited = true;\r\n};\r\n\r\n// _init is alias for layout\r\nproto._init = proto.layout;\r\n\r\n/**\r\n * logic before any new layout\r\n */\r\nproto._resetLayout = function() {\r\n  this.getSize();\r\n};\r\n\r\n\r\nproto.getSize = function() {\r\n  this.size = getSize( this.element );\r\n};\r\n\r\n/**\r\n * get measurement from option, for columnWidth, rowHeight, gutter\r\n * if option is String -> get element from selector string, & get size of element\r\n * if option is Element -> get size of element\r\n * else use option as a number\r\n *\r\n * @param {String} measurement\r\n * @param {String} size - width or height\r\n * @private\r\n */\r\nproto._getMeasurement = function( measurement, size ) {\r\n  var option = this.options[ measurement ];\r\n  var elem;\r\n  if ( !option ) {\r\n    // default to 0\r\n    this[ measurement ] = 0;\r\n  } else {\r\n    // use option as an element\r\n    if ( typeof option == 'string' ) {\r\n      elem = this.element.querySelector( option );\r\n    } else if ( option instanceof HTMLElement ) {\r\n      elem = option;\r\n    }\r\n    // use size of element, if element\r\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\r\n  }\r\n};\r\n\r\n/**\r\n * layout a collection of item elements\r\n * @api public\r\n */\r\nproto.layoutItems = function( items, isInstant ) {\r\n  items = this._getItemsForLayout( items );\r\n\r\n  this._layoutItems( items, isInstant );\r\n\r\n  this._postLayout();\r\n};\r\n\r\n/**\r\n * get the items to be laid out\r\n * you may want to skip over some items\r\n * @param {Array} items\r\n * @returns {Array} items\r\n */\r\nproto._getItemsForLayout = function( items ) {\r\n  return items.filter( function( item ) {\r\n    return !item.isIgnored;\r\n  });\r\n};\r\n\r\n/**\r\n * layout items\r\n * @param {Array} items\r\n * @param {Boolean} isInstant\r\n */\r\nproto._layoutItems = function( items, isInstant ) {\r\n  this._emitCompleteOnItems( 'layout', items );\r\n\r\n  if ( !items || !items.length ) {\r\n    // no items, emit event with empty array\r\n    return;\r\n  }\r\n\r\n  var queue = [];\r\n\r\n  items.forEach( function( item ) {\r\n    // get x/y object from method\r\n    var position = this._getItemLayoutPosition( item );\r\n    // enqueue\r\n    position.item = item;\r\n    position.isInstant = isInstant || item.isLayoutInstant;\r\n    queue.push( position );\r\n  }, this );\r\n\r\n  this._processLayoutQueue( queue );\r\n};\r\n\r\n/**\r\n * get item layout position\r\n * @param {Outlayer.Item} item\r\n * @returns {Object} x and y position\r\n */\r\nproto._getItemLayoutPosition = function( /* item */ ) {\r\n  return {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n};\r\n\r\n/**\r\n * iterate over array and position each item\r\n * Reason being - separating this logic prevents 'layout invalidation'\r\n * thx @paul_irish\r\n * @param {Array} queue\r\n */\r\nproto._processLayoutQueue = function( queue ) {\r\n  this.updateStagger();\r\n  queue.forEach( function( obj, i ) {\r\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\r\n  }, this );\r\n};\r\n\r\n// set stagger from option in milliseconds number\r\nproto.updateStagger = function() {\r\n  var stagger = this.options.stagger;\r\n  if ( stagger === null || stagger === undefined ) {\r\n    this.stagger = 0;\r\n    return;\r\n  }\r\n  this.stagger = getMilliseconds( stagger );\r\n  return this.stagger;\r\n};\r\n\r\n/**\r\n * Sets position of item in DOM\r\n * @param {Outlayer.Item} item\r\n * @param {Number} x - horizontal position\r\n * @param {Number} y - vertical position\r\n * @param {Boolean} isInstant - disables transitions\r\n */\r\nproto._positionItem = function( item, x, y, isInstant, i ) {\r\n  if ( isInstant ) {\r\n    // if not transition, just set CSS\r\n    item.goTo( x, y );\r\n  } else {\r\n    item.stagger( i * this.stagger );\r\n    item.moveTo( x, y );\r\n  }\r\n};\r\n\r\n/**\r\n * Any logic you want to do after each layout,\r\n * i.e. size the container\r\n */\r\nproto._postLayout = function() {\r\n  this.resizeContainer();\r\n};\r\n\r\nproto.resizeContainer = function() {\r\n  var isResizingContainer = this._getOption('resizeContainer');\r\n  if ( !isResizingContainer ) {\r\n    return;\r\n  }\r\n  var size = this._getContainerSize();\r\n  if ( size ) {\r\n    this._setContainerMeasure( size.width, true );\r\n    this._setContainerMeasure( size.height, false );\r\n  }\r\n};\r\n\r\n/**\r\n * Sets width or height of container if returned\r\n * @returns {Object} size\r\n *   @param {Number} width\r\n *   @param {Number} height\r\n */\r\nproto._getContainerSize = noop;\r\n\r\n/**\r\n * @param {Number} measure - size of width or height\r\n * @param {Boolean} isWidth\r\n */\r\nproto._setContainerMeasure = function( measure, isWidth ) {\r\n  if ( measure === undefined ) {\r\n    return;\r\n  }\r\n\r\n  var elemSize = this.size;\r\n  // add padding and border width if border box\r\n  if ( elemSize.isBorderBox ) {\r\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\r\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\r\n      elemSize.paddingBottom + elemSize.paddingTop +\r\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\r\n  }\r\n\r\n  measure = Math.max( measure, 0 );\r\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\r\n};\r\n\r\n/**\r\n * emit eventComplete on a collection of items events\r\n * @param {String} eventName\r\n * @param {Array} items - Outlayer.Items\r\n */\r\nproto._emitCompleteOnItems = function( eventName, items ) {\r\n  var _this = this;\r\n  function onComplete() {\r\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\r\n  }\r\n\r\n  var count = items.length;\r\n  if ( !items || !count ) {\r\n    onComplete();\r\n    return;\r\n  }\r\n\r\n  var doneCount = 0;\r\n  function tick() {\r\n    doneCount++;\r\n    if ( doneCount == count ) {\r\n      onComplete();\r\n    }\r\n  }\r\n\r\n  // bind callback\r\n  items.forEach( function( item ) {\r\n    item.once( eventName, tick );\r\n  });\r\n};\r\n\r\n/**\r\n * emits events via EvEmitter and jQuery events\r\n * @param {String} type - name of event\r\n * @param {Event} event - original event\r\n * @param {Array} args - extra arguments\r\n */\r\nproto.dispatchEvent = function( type, event, args ) {\r\n  // add original event to arguments\r\n  var emitArgs = event ? [ event ].concat( args ) : args;\r\n  this.emitEvent( type, emitArgs );\r\n\r\n  if ( jQuery ) {\r\n    // set this.$element\r\n    this.$element = this.$element || jQuery( this.element );\r\n    if ( event ) {\r\n      // create jQuery event\r\n      var $event = jQuery.Event( event );\r\n      $event.type = type;\r\n      this.$element.trigger( $event, args );\r\n    } else {\r\n      // just trigger with type if no event available\r\n      this.$element.trigger( type, args );\r\n    }\r\n  }\r\n};\r\n\r\n// -------------------------- ignore & stamps -------------------------- //\r\n\r\n\r\n/**\r\n * keep item in collection, but do not lay it out\r\n * ignored items do not get skipped in layout\r\n * @param {Element} elem\r\n */\r\nproto.ignore = function( elem ) {\r\n  var item = this.getItem( elem );\r\n  if ( item ) {\r\n    item.isIgnored = true;\r\n  }\r\n};\r\n\r\n/**\r\n * return item to layout collection\r\n * @param {Element} elem\r\n */\r\nproto.unignore = function( elem ) {\r\n  var item = this.getItem( elem );\r\n  if ( item ) {\r\n    delete item.isIgnored;\r\n  }\r\n};\r\n\r\n/**\r\n * adds elements to stamps\r\n * @param {NodeList, Array, Element, or String} elems\r\n */\r\nproto.stamp = function( elems ) {\r\n  elems = this._find( elems );\r\n  if ( !elems ) {\r\n    return;\r\n  }\r\n\r\n  this.stamps = this.stamps.concat( elems );\r\n  // ignore\r\n  elems.forEach( this.ignore, this );\r\n};\r\n\r\n/**\r\n * removes elements to stamps\r\n * @param {NodeList, Array, or Element} elems\r\n */\r\nproto.unstamp = function( elems ) {\r\n  elems = this._find( elems );\r\n  if ( !elems ){\r\n    return;\r\n  }\r\n\r\n  elems.forEach( function( elem ) {\r\n    // filter out removed stamp elements\r\n    utils.removeFrom( this.stamps, elem );\r\n    this.unignore( elem );\r\n  }, this );\r\n};\r\n\r\n/**\r\n * finds child elements\r\n * @param {NodeList, Array, Element, or String} elems\r\n * @returns {Array} elems\r\n */\r\nproto._find = function( elems ) {\r\n  if ( !elems ) {\r\n    return;\r\n  }\r\n  // if string, use argument as selector string\r\n  if ( typeof elems == 'string' ) {\r\n    elems = this.element.querySelectorAll( elems );\r\n  }\r\n  elems = utils.makeArray( elems );\r\n  return elems;\r\n};\r\n\r\nproto._manageStamps = function() {\r\n  if ( !this.stamps || !this.stamps.length ) {\r\n    return;\r\n  }\r\n\r\n  this._getBoundingRect();\r\n\r\n  this.stamps.forEach( this._manageStamp, this );\r\n};\r\n\r\n// update boundingLeft / Top\r\nproto._getBoundingRect = function() {\r\n  // get bounding rect for container element\r\n  var boundingRect = this.element.getBoundingClientRect();\r\n  var size = this.size;\r\n  this._boundingRect = {\r\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\r\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\r\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\r\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\r\n  };\r\n};\r\n\r\n/**\r\n * @param {Element} stamp\r\n**/\r\nproto._manageStamp = noop;\r\n\r\n/**\r\n * get x/y position of element relative to container element\r\n * @param {Element} elem\r\n * @returns {Object} offset - has left, top, right, bottom\r\n */\r\nproto._getElementOffset = function( elem ) {\r\n  var boundingRect = elem.getBoundingClientRect();\r\n  var thisRect = this._boundingRect;\r\n  var size = getSize( elem );\r\n  var offset = {\r\n    left: boundingRect.left - thisRect.left - size.marginLeft,\r\n    top: boundingRect.top - thisRect.top - size.marginTop,\r\n    right: thisRect.right - boundingRect.right - size.marginRight,\r\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\r\n  };\r\n  return offset;\r\n};\r\n\r\n// -------------------------- resize -------------------------- //\r\n\r\n// enable event handlers for listeners\r\n// i.e. resize -> onresize\r\nproto.handleEvent = utils.handleEvent;\r\n\r\n/**\r\n * Bind layout to window resizing\r\n */\r\nproto.bindResize = function() {\r\n  window.addEventListener( 'resize', this );\r\n  this.isResizeBound = true;\r\n};\r\n\r\n/**\r\n * Unbind layout to window resizing\r\n */\r\nproto.unbindResize = function() {\r\n  window.removeEventListener( 'resize', this );\r\n  this.isResizeBound = false;\r\n};\r\n\r\nproto.onresize = function() {\r\n  this.resize();\r\n};\r\n\r\nutils.debounceMethod( Outlayer, 'onresize', 100 );\r\n\r\nproto.resize = function() {\r\n  // don't trigger if size did not change\r\n  // or if resize was unbound. See #9\r\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\r\n    return;\r\n  }\r\n\r\n  this.layout();\r\n};\r\n\r\n/**\r\n * check if layout is needed post layout\r\n * @returns Boolean\r\n */\r\nproto.needsResizeLayout = function() {\r\n  var size = getSize( this.element );\r\n  // check that this.size and size are there\r\n  // IE8 triggers resize on body size change, so they might not be\r\n  var hasSizes = this.size && size;\r\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\r\n};\r\n\r\n// -------------------------- methods -------------------------- //\r\n\r\n/**\r\n * add items to Outlayer instance\r\n * @param {Array or NodeList or Element} elems\r\n * @returns {Array} items - Outlayer.Items\r\n**/\r\nproto.addItems = function( elems ) {\r\n  var items = this._itemize( elems );\r\n  // add items to collection\r\n  if ( items.length ) {\r\n    this.items = this.items.concat( items );\r\n  }\r\n  return items;\r\n};\r\n\r\n/**\r\n * Layout newly-appended item elements\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nproto.appended = function( elems ) {\r\n  var items = this.addItems( elems );\r\n  if ( !items.length ) {\r\n    return;\r\n  }\r\n  // layout and reveal just the new items\r\n  this.layoutItems( items, true );\r\n  this.reveal( items );\r\n};\r\n\r\n/**\r\n * Layout prepended elements\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nproto.prepended = function( elems ) {\r\n  var items = this._itemize( elems );\r\n  if ( !items.length ) {\r\n    return;\r\n  }\r\n  // add items to beginning of collection\r\n  var previousItems = this.items.slice(0);\r\n  this.items = items.concat( previousItems );\r\n  // start new layout\r\n  this._resetLayout();\r\n  this._manageStamps();\r\n  // layout new stuff without transition\r\n  this.layoutItems( items, true );\r\n  this.reveal( items );\r\n  // layout previous items\r\n  this.layoutItems( previousItems );\r\n};\r\n\r\n/**\r\n * reveal a collection of items\r\n * @param {Array of Outlayer.Items} items\r\n */\r\nproto.reveal = function( items ) {\r\n  this._emitCompleteOnItems( 'reveal', items );\r\n  if ( !items || !items.length ) {\r\n    return;\r\n  }\r\n  var stagger = this.updateStagger();\r\n  items.forEach( function( item, i ) {\r\n    item.stagger( i * stagger );\r\n    item.reveal();\r\n  });\r\n};\r\n\r\n/**\r\n * hide a collection of items\r\n * @param {Array of Outlayer.Items} items\r\n */\r\nproto.hide = function( items ) {\r\n  this._emitCompleteOnItems( 'hide', items );\r\n  if ( !items || !items.length ) {\r\n    return;\r\n  }\r\n  var stagger = this.updateStagger();\r\n  items.forEach( function( item, i ) {\r\n    item.stagger( i * stagger );\r\n    item.hide();\r\n  });\r\n};\r\n\r\n/**\r\n * reveal item elements\r\n * @param {Array}, {Element}, {NodeList} items\r\n */\r\nproto.revealItemElements = function( elems ) {\r\n  var items = this.getItems( elems );\r\n  this.reveal( items );\r\n};\r\n\r\n/**\r\n * hide item elements\r\n * @param {Array}, {Element}, {NodeList} items\r\n */\r\nproto.hideItemElements = function( elems ) {\r\n  var items = this.getItems( elems );\r\n  this.hide( items );\r\n};\r\n\r\n/**\r\n * get Outlayer.Item, given an Element\r\n * @param {Element} elem\r\n * @param {Function} callback\r\n * @returns {Outlayer.Item} item\r\n */\r\nproto.getItem = function( elem ) {\r\n  // loop through items to get the one that matches\r\n  for ( var i=0; i < this.items.length; i++ ) {\r\n    var item = this.items[i];\r\n    if ( item.element == elem ) {\r\n      // return item\r\n      return item;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * get collection of Outlayer.Items, given Elements\r\n * @param {Array} elems\r\n * @returns {Array} items - Outlayer.Items\r\n */\r\nproto.getItems = function( elems ) {\r\n  elems = utils.makeArray( elems );\r\n  var items = [];\r\n  elems.forEach( function( elem ) {\r\n    var item = this.getItem( elem );\r\n    if ( item ) {\r\n      items.push( item );\r\n    }\r\n  }, this );\r\n\r\n  return items;\r\n};\r\n\r\n/**\r\n * remove element(s) from instance and DOM\r\n * @param {Array or NodeList or Element} elems\r\n */\r\nproto.remove = function( elems ) {\r\n  var removeItems = this.getItems( elems );\r\n\r\n  this._emitCompleteOnItems( 'remove', removeItems );\r\n\r\n  // bail if no items to remove\r\n  if ( !removeItems || !removeItems.length ) {\r\n    return;\r\n  }\r\n\r\n  removeItems.forEach( function( item ) {\r\n    item.remove();\r\n    // remove item from collection\r\n    utils.removeFrom( this.items, item );\r\n  }, this );\r\n};\r\n\r\n// ----- destroy ----- //\r\n\r\n// remove and disable Outlayer instance\r\nproto.destroy = function() {\r\n  // clean up dynamic styles\r\n  var style = this.element.style;\r\n  style.height = '';\r\n  style.position = '';\r\n  style.width = '';\r\n  // destroy items\r\n  this.items.forEach( function( item ) {\r\n    item.destroy();\r\n  });\r\n\r\n  this.unbindResize();\r\n\r\n  var id = this.element.outlayerGUID;\r\n  delete instances[ id ]; // remove reference to instance by id\r\n  delete this.element.outlayerGUID;\r\n  // remove data for jQuery\r\n  if ( jQuery ) {\r\n    jQuery.removeData( this.element, this.constructor.namespace );\r\n  }\r\n\r\n};\r\n\r\n// -------------------------- data -------------------------- //\r\n\r\n/**\r\n * get Outlayer instance from element\r\n * @param {Element} elem\r\n * @returns {Outlayer}\r\n */\r\nOutlayer.data = function( elem ) {\r\n  elem = utils.getQueryElement( elem );\r\n  var id = elem && elem.outlayerGUID;\r\n  return id && instances[ id ];\r\n};\r\n\r\n\r\n// -------------------------- create Outlayer class -------------------------- //\r\n\r\n/**\r\n * create a layout class\r\n * @param {String} namespace\r\n */\r\nOutlayer.create = function( namespace, options ) {\r\n  // sub-class Outlayer\r\n  var Layout = subclass( Outlayer );\r\n  // apply new options and compatOptions\r\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\r\n  utils.extend( Layout.defaults, options );\r\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\r\n\r\n  Layout.namespace = namespace;\r\n\r\n  Layout.data = Outlayer.data;\r\n\r\n  // sub-class Item\r\n  Layout.Item = subclass( Item );\r\n\r\n  // -------------------------- declarative -------------------------- //\r\n\r\n  utils.htmlInit( Layout, namespace );\r\n\r\n  // -------------------------- jQuery bridge -------------------------- //\r\n\r\n  // make into jQuery plugin\r\n  if ( jQuery && jQuery.bridget ) {\r\n    jQuery.bridget( namespace, Layout );\r\n  }\r\n\r\n  return Layout;\r\n};\r\n\r\nfunction subclass( Parent ) {\r\n  function SubClass() {\r\n    Parent.apply( this, arguments );\r\n  }\r\n\r\n  SubClass.prototype = Object.create( Parent.prototype );\r\n  SubClass.prototype.constructor = SubClass;\r\n\r\n  return SubClass;\r\n}\r\n\r\n// ----- helpers ----- //\r\n\r\n// how many milliseconds are in each unit\r\nvar msUnits = {\r\n  ms: 1,\r\n  s: 1000\r\n};\r\n\r\n// munge time-like parameter into millisecond number\r\n// '0.4s' -> 40\r\nfunction getMilliseconds( time ) {\r\n  if ( typeof time == 'number' ) {\r\n    return time;\r\n  }\r\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\r\n  var num = matches && matches[1];\r\n  var unit = matches && matches[2];\r\n  if ( !num.length ) {\r\n    return 0;\r\n  }\r\n  num = parseFloat( num );\r\n  var mult = msUnits[ unit ] || 1;\r\n  return num * mult;\r\n}\r\n\r\n// ----- fin ----- //\r\n\r\n// back in global\r\nOutlayer.Item = Item;\r\n\r\nreturn Outlayer;\r\n\r\n}));\r\n\r\n/*!\r\n * Masonry v4.2.0\r\n * Cascading grid layout library\r\n * http://masonry.desandro.com\r\n * MIT License\r\n * by David DeSandro\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( [\r\n        'outlayer/outlayer',\r\n        'get-size/get-size'\r\n      ],\r\n      factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('outlayer'),\r\n      require('get-size')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Masonry = factory(\r\n      window.Outlayer,\r\n      window.getSize\r\n    );\r\n  }\r\n\r\n}( window, function factory( Outlayer, getSize ) {\r\n\r\n\r\n\r\n// -------------------------- masonryDefinition -------------------------- //\r\n\r\n  // create an Outlayer layout class\r\n  var Masonry = Outlayer.create('masonry');\r\n  // isFitWidth -> fitWidth\r\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\r\n\r\n  var proto = Masonry.prototype;\r\n\r\n  proto._resetLayout = function() {\r\n    this.getSize();\r\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\r\n    this._getMeasurement( 'gutter', 'outerWidth' );\r\n    this.measureColumns();\r\n\r\n    // reset column Y\r\n    this.colYs = [];\r\n    for ( var i=0; i < this.cols; i++ ) {\r\n      this.colYs.push( 0 );\r\n    }\r\n\r\n    this.maxY = 0;\r\n    this.horizontalColIndex = 0;\r\n  };\r\n\r\n  proto.measureColumns = function() {\r\n    this.getContainerWidth();\r\n    // if columnWidth is 0, default to outerWidth of first item\r\n    if ( !this.columnWidth ) {\r\n      var firstItem = this.items[0];\r\n      var firstItemElem = firstItem && firstItem.element;\r\n      // columnWidth fall back to item of first element\r\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\r\n        // if first elem has no width, default to size of container\r\n        this.containerWidth;\r\n    }\r\n\r\n    var columnWidth = this.columnWidth += this.gutter;\r\n\r\n    // calculate columns\r\n    var containerWidth = this.containerWidth + this.gutter;\r\n    var cols = containerWidth / columnWidth;\r\n    // fix rounding errors, typically with gutters\r\n    var excess = columnWidth - containerWidth % columnWidth;\r\n    // if overshoot is less than a pixel, round up, otherwise floor it\r\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\r\n    cols = Math[ mathMethod ]( cols );\r\n    this.cols = Math.max( cols, 1 );\r\n  };\r\n\r\n  proto.getContainerWidth = function() {\r\n    // container is parent if fit width\r\n    var isFitWidth = this._getOption('fitWidth');\r\n    var container = isFitWidth ? this.element.parentNode : this.element;\r\n    // check that this.size and size are there\r\n    // IE8 triggers resize on body size change, so they might not be\r\n    var size = getSize( container );\r\n    this.containerWidth = size && size.innerWidth;\r\n  };\r\n\r\n  proto._getItemLayoutPosition = function( item ) {\r\n    item.getSize();\r\n    // how many columns does this brick span\r\n    var remainder = item.size.outerWidth % this.columnWidth;\r\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\r\n    // round if off by 1 pixel, otherwise use ceil\r\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\r\n    colSpan = Math.min( colSpan, this.cols );\r\n    // use horizontal or top column position\r\n    var colPosMethod = this.options.horizontalOrder ?\r\n      '_getHorizontalColPosition' : '_getTopColPosition';\r\n    var colPosition = this[ colPosMethod ]( colSpan, item );\r\n    // position the brick\r\n    var position = {\r\n      x: this.columnWidth * colPosition.col,\r\n      y: colPosition.y\r\n    };\r\n    // apply setHeight to necessary columns\r\n    var setHeight = colPosition.y + item.size.outerHeight;\r\n    var setMax = colSpan + colPosition.col;\r\n    for ( var i = colPosition.col; i < setMax; i++ ) {\r\n      this.colYs[i] = setHeight;\r\n    }\r\n\r\n    return position;\r\n  };\r\n\r\n  proto._getTopColPosition = function( colSpan ) {\r\n    var colGroup = this._getTopColGroup( colSpan );\r\n    // get the minimum Y value from the columns\r\n    var minimumY = Math.min.apply( Math, colGroup );\r\n\r\n    return {\r\n      col: colGroup.indexOf( minimumY ),\r\n      y: minimumY,\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @param {Number} colSpan - number of columns the element spans\r\n   * @returns {Array} colGroup\r\n   */\r\n  proto._getTopColGroup = function( colSpan ) {\r\n    if ( colSpan < 2 ) {\r\n      // if brick spans only one column, use all the column Ys\r\n      return this.colYs;\r\n    }\r\n\r\n    var colGroup = [];\r\n    // how many different places could this brick fit horizontally\r\n    var groupCount = this.cols + 1 - colSpan;\r\n    // for each group potential horizontal position\r\n    for ( var i = 0; i < groupCount; i++ ) {\r\n      colGroup[i] = this._getColGroupY( i, colSpan );\r\n    }\r\n    return colGroup;\r\n  };\r\n\r\n  proto._getColGroupY = function( col, colSpan ) {\r\n    if ( colSpan < 2 ) {\r\n      return this.colYs[ col ];\r\n    }\r\n    // make an array of colY values for that one group\r\n    var groupColYs = this.colYs.slice( col, col + colSpan );\r\n    // and get the max value of the array\r\n    return Math.max.apply( Math, groupColYs );\r\n  };\r\n\r\n  // get column position based on horizontal index. #873\r\n  proto._getHorizontalColPosition = function( colSpan, item ) {\r\n    var col = this.horizontalColIndex % this.cols;\r\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\r\n    // shift to next row if item can't fit on current row\r\n    col = isOver ? 0 : col;\r\n    // don't let zero-size items take up space\r\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\r\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\r\n\r\n    return {\r\n      col: col,\r\n      y: this._getColGroupY( col, colSpan ),\r\n    };\r\n  };\r\n\r\n  proto._manageStamp = function( stamp ) {\r\n    var stampSize = getSize( stamp );\r\n    var offset = this._getElementOffset( stamp );\r\n    // get the columns that this stamp affects\r\n    var isOriginLeft = this._getOption('originLeft');\r\n    var firstX = isOriginLeft ? offset.left : offset.right;\r\n    var lastX = firstX + stampSize.outerWidth;\r\n    var firstCol = Math.floor( firstX / this.columnWidth );\r\n    firstCol = Math.max( 0, firstCol );\r\n    var lastCol = Math.floor( lastX / this.columnWidth );\r\n    // lastCol should not go over if multiple of columnWidth #425\r\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\r\n    lastCol = Math.min( this.cols - 1, lastCol );\r\n    // set colYs to bottom of the stamp\r\n\r\n    var isOriginTop = this._getOption('originTop');\r\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\r\n      stampSize.outerHeight;\r\n    for ( var i = firstCol; i <= lastCol; i++ ) {\r\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\r\n    }\r\n  };\r\n\r\n  proto._getContainerSize = function() {\r\n    this.maxY = Math.max.apply( Math, this.colYs );\r\n    var size = {\r\n      height: this.maxY\r\n    };\r\n\r\n    if ( this._getOption('fitWidth') ) {\r\n      size.width = this._getContainerFitWidth();\r\n    }\r\n\r\n    return size;\r\n  };\r\n\r\n  proto._getContainerFitWidth = function() {\r\n    var unusedCols = 0;\r\n    // count unused columns\r\n    var i = this.cols;\r\n    while ( --i ) {\r\n      if ( this.colYs[i] !== 0 ) {\r\n        break;\r\n      }\r\n      unusedCols++;\r\n    }\r\n    // fit container to columns that have been used\r\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\r\n  };\r\n\r\n  proto.needsResizeLayout = function() {\r\n    var previousWidth = this.containerWidth;\r\n    this.getContainerWidth();\r\n    return previousWidth != this.containerWidth;\r\n  };\r\n\r\n  return Masonry;\r\n\r\n}));\r\n","'use strict';\r\n    // see:\r\n    // http://ejohn.org/blog/javascript-micro-templating/\r\n\r\n    // Simple JavaScript Templating\r\n    // John Resig - http://ejohn.org/ - MIT Licensed\r\n\r\n    var cache = {};\r\n\r\n    function tmpl(str, data) {\r\n        // Figure out if we're getting a template, or if we need to\r\n        // load the template - and be sure to cache the result.\r\n        var fn = !/\\W/.test(str) ?\r\n          cache[str] = cache[str] ||\r\n            tmpl(document.getElementById(str).innerHTML) :\r\n\r\n          // Generate a reusable function that will serve as a template\r\n          // generator (and which will be cached).\r\n          new Function(\"obj\",\r\n            \"var p=[],print=function(){p.push.apply(p,arguments);};\" +\r\n\r\n            // Introduce the data as local variables using with(){}\r\n            \"with(obj){p.push('\" +\r\n\r\n            // Convert the template into pure JavaScript\r\n            str\r\n              .replace(/[\\r\\t\\n]/g, \" \")\r\n              .split(\"<%\").join(\"\\t\")\r\n              .replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\r\n              .replace(/\\t=(.*?)%>/g, \"',$1,'\")\r\n              .split(\"\\t\").join(\"');\")\r\n              .split(\"%>\").join(\"p.push('\")\r\n              .split(\"\\r\").join(\"\\\\'\")\r\n          + \"');}return p.join('');\");\r\n\r\n        // Provide some basic currying to the user\r\n        return data ? fn( data ) : fn;\r\n      };\r\n","'use strict';\r\n\r\nlet $value = randWDclassic(1);\r\n\r\nfunction randWDclassic(n) {\r\n    let s ='';\r\n    let abd ='abcdefghijklmnopqrstuvwxyz1234567890йцукенгшщзхфывапролджэячсмитбю';\r\n    let aL = abd.length;\r\n    while(s.length < n)\r\n    s += abd[Math.random() * aL|0];\r\n    return s;\r\n};\r\n\r\n$.ajax({\r\n    url: 'https://pixabay.com/api/',\r\n    method: 'GET',\r\n    dataType: 'jsonp',\r\n    data: {\r\n        key: '5069177-dbb9700ef5f333933be917c5e',\r\n        q: $value,\r\n        image_type: 'photo',\r\n        callback: 'ServerPhotoCallback',\r\n        per_page: 7,\r\n        category: 'travel',\r\n        min_width: 200\r\n    }\r\n});\r\n\r\nfunction ServerPhotoCallback ($data) {\r\n\r\n    let $html = $('#activity--bar-out').html();\r\n    // let $html = templateBingImg\r\n    let $dataTmpl = {\r\n        $data: $data\r\n    };\r\n    let $SearchContent = tmpl($html, $dataTmpl);\r\n\r\n    $('#activity--bar-in').html('');\r\n    $('#activity--bar-in').append($SearchContent);\r\n\r\n    bar();\r\n}\r\n\r\n$('form').submit(function(event) {\r\n\r\n    event.preventDefault();\r\n    $value = $('#activity--search').val();\r\n    $.ajax({\r\n        url: 'https://pixabay.com/api/',\r\n        method: 'GET',\r\n        dataType: 'jsonp',\r\n        data: {\r\n            key: '5069177-dbb9700ef5f333933be917c5e',\r\n            q: $value,\r\n            image_type: 'photo',\r\n            callback: 'ServerPhotoCallback',\r\n            per_page: 7,\r\n            category: 'travel',\r\n            min_width: 200\r\n        }\r\n    });\r\n    $('#activity--search').val('');\r\n});\r\n\r\nfunction bar() {\r\n    // $('.grid').isotope({\r\n    //   // options\r\n    //   itemSelector: '.grid-item',\r\n    //   layoutMode: 'fitRows'\r\n    // });\r\n    //===========\r\n    let $grid = $('#activity--bar-in').imagesLoaded( function() {\r\n        // init Masonry after all images have loaded\r\n        setTimeout(\r\n            $grid.masonry({\r\n                itemSelector: '.grid-item',\r\n                columnWidth: '.grid-item'\r\n            }), 1000);\r\n    })\r\n    //==========\r\n    // let $grid = $('#activity--bar-in');\r\n    //\r\n    // $grid.imagesLoaded( function() {\r\n    //     // init Masonry after all images have loaded\r\n    //     setTimeout(\r\n    //         $grid.masonry({\r\n    //             itemSelector: '.grid-item',\r\n    //             columnWidth: '.grid-item'\r\n    //         }), 1000);\r\n    // });\r\n    //==========\r\n    // let $grid = $('#activity--bar-in');\r\n    //\r\n    // setTimeout(\r\n    //     $grid.masonry({\r\n    //         itemSelector: '.grid-item',\r\n    //         columnWidth: '.grid-item'\r\n    //     }), 5000);\r\n};\r\n","$('.bxslider').bxSlider()\r\n","let $templateScript =\r\n'<%' + 'var $array = $data.data;' +\r\n'for (let i = 0; i < $array.length; i++) {%>' +\r\n'<div class=\"partners--template\">' +\r\n'<div class=\"partners--photo\" style=\"background-image:url(<%=$array[i].photo%>)\">' +\r\n'<div class=\"partners--embl\"' + 'style=\"background-color:#<%=$array[i].colorIcon%>\"><svg class=\"<%=$array[i].icon%>\"><use xlink:href=\"img/svg.svg#<%=$array[i].icon%>\"></use></svg></div>' +\r\n'</div>' +\r\n'<p class=\"partners--name\"><%=$array[i].name%> <%=$array[i].surname%></p>' +\r\n'<p class=\"partners--text\"><%=$array[i].info%></p>' +\r\n'</div>' +\r\n'<%}%>';\r\n","'use strict';\r\n//Server start\r\nlet $ServerData =\r\n{\r\nid: 100,\r\ndata: [\r\n        {\r\n        id: 104,\r\n        name: \"Bradley\",\r\n        surname: \"Hunter\",\r\n        photo: 'img/partners--hunter__mobile.png',\r\n        info: \"Based in Chicago. I love playing tennis and loud music.\",\r\n        colorIcon: '4e73db',\r\n        icon: 'partners--airplane'\r\n        },\r\n        {\r\n        id: 102,\r\n        name: \"Lucas\",\r\n        surname: \"Marsha\",\r\n        photo: 'img/partners--marsha__mobile.png',\r\n        info: \"I get my inspiration from nature and objects around me. I have a passion to colours, typography and skateboards.\",\r\n        colorIcon: 'ffa507',\r\n        icon: 'partners--flask'\r\n        },\r\n        {\r\n        id: 103,\r\n        name: \"Heather\",\r\n        surname: \"Walker\",\r\n        photo: 'img/partners--walker__mobile.png',\r\n        info: \"I'm a happy person that loves cats and climbing on mountains.\",\r\n        colorIcon: '1cd7ad',\r\n        icon: 'partners--cup'\r\n        },\r\n        {\r\n        id: 101,\r\n        name: \"Gogas\",\r\n        surname: \"Hunter\",\r\n        photo: 'img/partners--hunter2__mobile.png',\r\n        info: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore \",\r\n        colorIcon: 'ff4e50',\r\n        icon: 'partners--tv'\r\n        }\r\n    ]\r\n};\r\nlet $serverData = JSON.stringify($ServerData);\r\n//Server end\r\n\r\nlet $jsData = JSON.parse($serverData);\r\nlet $html = $templateScript;\r\nlet $dataTmpl = {\r\n    $data: $jsData\r\n}\r\nlet $content = tmpl($html, $dataTmpl)\r\n\r\n$('#partners--template__in').html('')\r\n$('#partners--template__in').append($content)\r\n"]}